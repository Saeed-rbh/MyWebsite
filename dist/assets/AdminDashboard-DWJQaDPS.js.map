{"version":3,"file":"AdminDashboard-DWJQaDPS.js","sources":["../../src/pages/Admin/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\n\r\nimport { getCVData, updateCVSection, syncScholarData, uploadFile } from '../../services/api';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from './AdminDashboard.module.css';\r\nimport {\r\n    FaUserShield, FaChartBar, FaFileAlt, FaSignOutAlt, FaSave, FaLayerGroup,\r\n    FaTrash, FaPlus, FaSpinner, FaCloudUploadAlt, FaCheck, FaTimes,\r\n    FaChevronDown, FaChevronUp, FaGraduationCap, FaAward, FaBriefcase,\r\n    FaFlask, FaCog, FaUser, FaBook, FaCalendarAlt, FaSyncAlt, FaExternalLinkAlt\r\n} from 'react-icons/fa';\r\nimport { MdDashboard } from 'react-icons/md';\r\n\r\n// Helper to format field labels\r\nconst formatLabel = (key) => {\r\n    const labels = {\r\n        name: 'Full Name',\r\n        Name: 'Full Name',\r\n        dateOfBirth: 'Date of Birth',\r\n        caPhone: 'Canada Phone',\r\n        irPhone: 'Iran Phone',\r\n        pdf: 'PDF File',\r\n        Title: 'Title',\r\n        title: 'Title',\r\n        Date: 'Date Range',\r\n        Location: 'Location',\r\n        Thesis: 'Thesis/Project',\r\n        Supervisor: 'Supervisor(s)',\r\n        Citations: 'Citations',\r\n        citations: 'Citations',\r\n        Authors: 'Authors (Text)',\r\n        AuthorsList: 'Authors',\r\n        Journal: 'Journal',\r\n        Year: 'Year',\r\n        Link: 'Link URL',\r\n        Award: 'Award Description',\r\n        Conference: 'Conference Details',\r\n        Teaching: 'Experience Details',\r\n        skill: 'Skills',\r\n        label: 'Label',\r\n        href: 'Link (Auto)',\r\n    };\r\n    return labels[key] || key.charAt(0).toUpperCase() + key.slice(1);\r\n};\r\n\r\n// Get icon for section\r\nconst getSectionIcon = (name) => {\r\n    const icons = {\r\n        PersonalInfo: FaUser,\r\n        Affiliation: FaBriefcase,\r\n        ResearchInterests: FaFlask,\r\n        Skills: FaCog,\r\n        Qualifications: FaGraduationCap,\r\n        'Published Papers': FaBook,\r\n        Papers: FaBook,\r\n        Conference: FaCalendarAlt,\r\n        Awards: FaAward,\r\n        Teaching: FaBriefcase,\r\n    };\r\n    return icons[name] || FaLayerGroup;\r\n};\r\n\r\n// Toast notification component\r\nconst Toast = ({ message, type, onClose }) => {\r\n    useEffect(() => {\r\n        const timer = setTimeout(onClose, 3000);\r\n        return () => clearTimeout(timer);\r\n    }, [onClose]);\r\n\r\n    return (\r\n        <div className={`${styles.toast} ${styles[`toast${type.charAt(0).toUpperCase() + type.slice(1)}`]}`}>\r\n            {type === 'success' ? <FaCheck /> : <FaTimes />}\r\n            <span>{message}</span>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst AdminDashboard = () => {\r\n    const [sections, setSections] = useState([]);\r\n    const [selectedSection, setSelectedSection] = useState(null);\r\n    const [sectionItems, setSectionItems] = useState([]);\r\n    const [view, setView] = useState('dashboard');\r\n    const [isSyncing, setIsSyncing] = useState(false);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [scholarUrl, setScholarUrl] = useState('');\r\n    const [uploadingIndex, setUploadingIndex] = useState(null);\r\n    const [expandedItems, setExpandedItems] = useState({});\r\n    const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);\r\n\r\n    // Toast state\r\n    const [toast, setToast] = useState(null);\r\n\r\n    // Delete Confirmation State\r\n    const [deleteConfirmation, setDeleteConfirmation] = useState(null);\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const showToast = useCallback((message, type = 'success') => {\r\n        setToast({ message, type });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) navigate('/login');\r\n        fetchData();\r\n    }, [navigate]);\r\n\r\n    // Keyboard shortcut for save (Ctrl+S)\r\n    useEffect(() => {\r\n        const handleKeyDown = (e) => {\r\n            if ((e.ctrlKey || e.metaKey) && e.key === 's' && view === 'editor') {\r\n                e.preventDefault();\r\n                handleSave();\r\n            }\r\n        };\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => window.removeEventListener('keydown', handleKeyDown);\r\n    }, [view, selectedSection, sectionItems]);\r\n\r\n    const fetchData = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const { data } = await getCVData();\r\n            setSections(data.sort((a, b) => a.id - b.id));\r\n        } catch (err) {\r\n            console.error(err);\r\n            showToast('Failed to load data', 'error');\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleEdit = (section) => {\r\n        let items = section.list || [];\r\n        if (typeof items === 'string') {\r\n            try { items = JSON.parse(items); } catch (e) { items = []; }\r\n        }\r\n        items = items.map((item, idx) => ({\r\n            ...item,\r\n            id: item.id || (Date.now() + idx)\r\n        }));\r\n\r\n        setSelectedSection(section);\r\n        setSectionItems(items);\r\n        setView('editor');\r\n        setHasUnsavedChanges(false);\r\n        // Expand first item by default\r\n        if (items.length > 0) {\r\n            setExpandedItems({ 0: true });\r\n        }\r\n    };\r\n\r\n    const handleItemChange = (index, field, value) => {\r\n        const newItems = [...sectionItems];\r\n        newItems[index] = { ...newItems[index], [field]: value };\r\n        if (field === 'label' && selectedSection?.name === 'ResearchInterests') {\r\n            const autoHref = '#' + value.replace(/\\s+/g, '');\r\n            newItems[index] = { ...newItems[index], href: autoHref };\r\n        }\r\n        setSectionItems(newItems);\r\n        setHasUnsavedChanges(true);\r\n    };\r\n\r\n    const handleFileUpload = async (e, index) => {\r\n        const file = e.target.files[0];\r\n        if (!file) return;\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', file);\r\n\r\n        setUploadingIndex(index);\r\n        try {\r\n            const { data } = await uploadFile(formData);\r\n            const newItems = [...sectionItems];\r\n            newItems[index] = {\r\n                ...newItems[index],\r\n                pdf: data.filePath,\r\n                link: data.filePath\r\n            };\r\n            setSectionItems(newItems);\r\n            setHasUnsavedChanges(true);\r\n            showToast('PDF uploaded successfully!', 'success');\r\n        } catch (err) {\r\n            console.error(err);\r\n            showToast('Upload failed: ' + err.message, 'error');\r\n        } finally {\r\n            setUploadingIndex(null);\r\n            e.target.value = null;\r\n        }\r\n    };\r\n\r\n    const handleAddItem = () => {\r\n        let template = {};\r\n        if (sectionItems.length > 0) {\r\n            Object.keys(sectionItems[0]).forEach(key => (template[key] = ''));\r\n            template.id = Date.now();\r\n        } else {\r\n            template = { id: Date.now(), title: 'New Item', Date: '', Location: '' };\r\n        }\r\n        const newItems = [...sectionItems, template];\r\n        setSectionItems(newItems);\r\n        setHasUnsavedChanges(true);\r\n        // Expand the new item\r\n        setExpandedItems({ ...expandedItems, [newItems.length - 1]: true });\r\n    };\r\n\r\n    const handleDeleteItem = (index) => {\r\n        setDeleteConfirmation({ show: true, index });\r\n    };\r\n\r\n    const confirmDelete = () => {\r\n        if (deleteConfirmation) {\r\n            const index = deleteConfirmation.index;\r\n            const newItems = sectionItems.filter((_, i) => i !== index);\r\n            setSectionItems(newItems);\r\n            setDeleteConfirmation(null);\r\n            setHasUnsavedChanges(true);\r\n            showToast('Item removed', 'success');\r\n        }\r\n    };\r\n\r\n    const cancelDelete = () => {\r\n        setDeleteConfirmation(null);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        if (!selectedSection) return;\r\n        setIsSaving(true);\r\n        try {\r\n            const updatedData = { ...selectedSection, list: sectionItems };\r\n            await updateCVSection(selectedSection.id, updatedData);\r\n            showToast('Changes saved successfully!', 'success');\r\n            setHasUnsavedChanges(false);\r\n            fetchData();\r\n        } catch (err) {\r\n            showToast('Error saving: ' + err.message, 'error');\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n    const handleSyncScholar = async () => {\r\n        const urlToSync = scholarUrl;\r\n        setIsSyncing(true);\r\n        try {\r\n            const res = await syncScholarData(urlToSync);\r\n            const { data } = await getCVData();\r\n            setSections(data.sort((a, b) => a.id - b.id));\r\n\r\n            if (selectedSection) {\r\n                const updatedSection = data.find(s => s.id === selectedSection.id);\r\n                if (updatedSection) {\r\n                    setSelectedSection(updatedSection);\r\n                    let items = updatedSection.list || [];\r\n                    if (typeof items === 'string') {\r\n                        try { items = JSON.parse(items); } catch (e) { items = []; }\r\n                    }\r\n                    items = items.map((item, idx) => ({ ...item, id: item.id || (Date.now() + idx) }));\r\n                    setSectionItems(items);\r\n                }\r\n            }\r\n            showToast(res.data.message, 'success');\r\n        } catch (err) {\r\n            showToast('Sync failed: ' + (err.response?.data?.message || err.message), 'error');\r\n        } finally {\r\n            setIsSyncing(false);\r\n        }\r\n    };\r\n\r\n    const handleLogout = () => {\r\n        if (hasUnsavedChanges && !window.confirm('You have unsaved changes. Are you sure you want to logout?')) {\r\n            return;\r\n        }\r\n        localStorage.removeItem('token');\r\n        navigate('/login');\r\n    };\r\n\r\n    const toggleItemExpand = (index) => {\r\n        setExpandedItems(prev => ({\r\n            ...prev,\r\n            [index]: !prev[index]\r\n        }));\r\n    };\r\n\r\n    const getItemPreview = (item) => {\r\n        // Get a preview text for collapsed items\r\n        const title = item.Title || item.title || item.name || item.Name || item.Award || item.Conference || item.Teaching || item.label || '';\r\n        return title.length > 60 ? title.substring(0, 60) + '...' : title || 'Untitled Item';\r\n    };\r\n\r\n    const totalSections = sections.length;\r\n    const totalItems = sections.reduce((acc, cur) => {\r\n        let list = cur.list;\r\n        if (typeof list === 'string') {\r\n            try { list = JSON.parse(list); } catch (e) { list = []; }\r\n        }\r\n        return acc + (Array.isArray(list) ? list.length : 0);\r\n    }, 0);\r\n\r\n    // Calculate Research Stats\r\n    const getResearchStats = () => {\r\n        if (!selectedSection || (selectedSection.name !== 'Papers' && selectedSection.name !== 'Published Papers')) return null;\r\n\r\n        const papers = sectionItems;\r\n        const totalPapers = papers.length;\r\n\r\n        const totalCitations = papers.reduce((sum, paper) => {\r\n            let rawCite = paper.citations !== undefined ? paper.citations : paper.Citations;\r\n            if (rawCite === undefined || rawCite === null) rawCite = '0';\r\n            const citeString = rawCite.toString().replace(/\\D/g, '');\r\n            return sum + parseInt(citeString || '0', 10);\r\n        }, 0);\r\n\r\n        const citationsArray = papers.map(p => {\r\n            let rawCite = p.citations !== undefined ? p.citations : p.Citations;\r\n            if (rawCite === undefined || rawCite === null) rawCite = '0';\r\n            return parseInt(rawCite.toString().replace(/\\D/g, '') || '0', 10);\r\n        });\r\n        citationsArray.sort((a, b) => b - a);\r\n\r\n        let hIndex = 0;\r\n        for (let i = 0; i < citationsArray.length; i++) {\r\n            if (citationsArray[i] >= i + 1) {\r\n                hIndex = i + 1;\r\n            } else {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return { totalPapers, totalCitations, hIndex };\r\n    };\r\n\r\n    const stats = getResearchStats();\r\n\r\n    // Get item count for each section\r\n    const getItemCount = (section) => {\r\n        let list = section.list;\r\n        if (typeof list === 'string') {\r\n            try { list = JSON.parse(list); } catch (e) { list = []; }\r\n        }\r\n        return Array.isArray(list) ? list.length : 0;\r\n    };\r\n\r\n    return (\r\n        <div className={styles.dashboardContainer}>\r\n            <div className={styles.backgroundImage} />\r\n\r\n            {/* Toast Notification */}\r\n            {toast && (\r\n                <Toast\r\n                    message={toast.message}\r\n                    type={toast.type}\r\n                    onClose={() => setToast(null)}\r\n                />\r\n            )}\r\n\r\n            {/* Delete Confirmation Modal */}\r\n            {deleteConfirmation && deleteConfirmation.show && (\r\n                <div className={styles.modalOverlay}>\r\n                    <div className={styles.modalContent}>\r\n                        <div className={styles.modalIcon}><FaTrash /></div>\r\n                        <h3 className={styles.modalTitle}>Delete Item?</h3>\r\n                        <p className={styles.modalText}>\r\n                            Are you sure you want to remove this item? <br />\r\n                            This action cannot be undone after saving.\r\n                        </p>\r\n                        <div className={styles.modalActions}>\r\n                            <button className={styles.cancelBtn} onClick={cancelDelete}>Cancel</button>\r\n                            <button className={styles.confirmDeleteBtn} onClick={confirmDelete}>Delete</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Sidebar */}\r\n            <div className={styles.sidebar}>\r\n                <div className={styles.sidebarHeader}>\r\n                    <FaUserShield className={styles.logoIcon} />\r\n                    <div className={styles.headerTitle}>CV Manager</div>\r\n                </div>\r\n                <ul className={styles.navMenu}>\r\n                    <div className={styles.menuLabel}>Overview</div>\r\n                    <li\r\n                        className={`${styles.navItem} ${view === 'dashboard' ? styles.active : ''}`}\r\n                        onClick={() => { setView('dashboard'); setSelectedSection(null); }}\r\n                    >\r\n                        <MdDashboard /> Dashboard\r\n                    </li>\r\n                    <div className={styles.menuLabel}>Content Sections</div>\r\n                    {isLoading ? (\r\n                        <div className={styles.loadingNav}>\r\n                            <FaSpinner className={styles.spin} /> Loading...\r\n                        </div>\r\n                    ) : (\r\n                        sections.map(sec => {\r\n                            const IconComponent = getSectionIcon(sec.name);\r\n                            const itemCount = getItemCount(sec);\r\n                            return (\r\n                                <li\r\n                                    key={sec.id}\r\n                                    className={`${styles.navItem} ${selectedSection?.id === sec.id ? styles.active : ''}`}\r\n                                    onClick={() => handleEdit(sec)}\r\n                                >\r\n                                    <IconComponent />\r\n                                    <span className={styles.navText}>{sec.title}</span>\r\n                                    {itemCount > 0 && (\r\n                                        <span className={styles.itemBadge}>{itemCount}</span>\r\n                                    )}\r\n                                </li>\r\n                            );\r\n                        })\r\n                    )}\r\n                </ul>\r\n                <div className={styles.logoutSection}>\r\n                    <button onClick={handleLogout} className={styles.logoutBtn}>\r\n                        <FaSignOutAlt /> Logout\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content */}\r\n            <div className={styles.mainContent}>\r\n                <div className={styles.topBar}>\r\n                    <div className={styles.pageTitleArea}>\r\n                        <div className={styles.pageTitle}>\r\n                            {view === 'dashboard' ? 'Dashboard' : selectedSection?.title || 'Editor'}\r\n                        </div>\r\n                        {hasUnsavedChanges && (\r\n                            <span className={styles.unsavedBadge}>Unsaved Changes</span>\r\n                        )}\r\n                    </div>\r\n                    <div className={styles.userInfo}>\r\n                        <span className={styles.userName}>Admin</span>\r\n                        <div className={styles.avatar}>A</div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={styles.contentScrollArea}>\r\n                    {view === 'dashboard' ? (\r\n                        <div className={styles.dashboardContent}>\r\n                            <div className={styles.welcomeCard}>\r\n                                <h2>Welcome to CV Manager</h2>\r\n                                <p>Select a section from the sidebar to edit your CV content.</p>\r\n                            </div>\r\n                            <div className={styles.statsGrid}>\r\n                                <div className={styles.statCard}>\r\n                                    <div className={styles.statIcon}><FaFileAlt /></div>\r\n                                    <div className={styles.statInfo}>\r\n                                        <h4>Total Sections</h4>\r\n                                        <h2>{totalSections}</h2>\r\n                                    </div>\r\n                                </div>\r\n                                <div className={styles.statCard}>\r\n                                    <div className={styles.statIcon}><FaChartBar /></div>\r\n                                    <div className={styles.statInfo}>\r\n                                        <h4>Total Entries</h4>\r\n                                        <h2>{totalItems}</h2>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={styles.quickLinks}>\r\n                                <h3>Quick Access</h3>\r\n                                <div className={styles.quickLinksGrid}>\r\n                                    {sections.slice(0, 6).map(sec => {\r\n                                        const IconComponent = getSectionIcon(sec.name);\r\n                                        return (\r\n                                            <div\r\n                                                key={sec.id}\r\n                                                className={styles.quickLinkCard}\r\n                                                onClick={() => handleEdit(sec)}\r\n                                            >\r\n                                                <IconComponent className={styles.quickLinkIcon} />\r\n                                                <span>{sec.title}</span>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        selectedSection && (\r\n                            <div className={styles.editorWrapper}>\r\n                                {stats && (\r\n                                    <div className={styles.statsGrid}>\r\n                                        <div className={styles.statCard}>\r\n                                            <div className={styles.statIcon} style={{ background: 'rgba(0, 210, 255, 0.15)', color: '#00d2ff' }}>\r\n                                                <FaFileAlt />\r\n                                            </div>\r\n                                            <div className={styles.statInfo}>\r\n                                                <h4>Total Papers</h4>\r\n                                                <h2>{stats.totalPapers}</h2>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className={styles.statCard}>\r\n                                            <div className={styles.statIcon} style={{ background: 'rgba(46, 204, 113, 0.15)', color: '#2ecc71' }}>\r\n                                                <FaChartBar />\r\n                                            </div>\r\n                                            <div className={styles.statInfo}>\r\n                                                <h4>Total Citations</h4>\r\n                                                <h2>{stats.totalCitations}</h2>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className={styles.statCard}>\r\n                                            <div className={styles.statIcon} style={{ background: 'rgba(241, 196, 15, 0.15)', color: '#f1c40f' }}>\r\n                                                <FaAward />\r\n                                            </div>\r\n                                            <div className={styles.statInfo}>\r\n                                                <h4>H-index</h4>\r\n                                                <h2>{stats.hIndex}</h2>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className={styles.sectionHeader}>\r\n                                    <div className={styles.sectionTitleArea}>\r\n                                        <input\r\n                                            className={styles.sectionTitleInput}\r\n                                            value={selectedSection.title}\r\n                                            onChange={e => {\r\n                                                setSelectedSection({ ...selectedSection, title: e.target.value });\r\n                                                setHasUnsavedChanges(true);\r\n                                            }}\r\n                                            placeholder=\"Section Title\"\r\n                                        />\r\n                                        <span className={styles.itemCount}>{sectionItems.length} items</span>\r\n                                    </div>\r\n                                    <div className={styles.headerActions}>\r\n                                        <button\r\n                                            onClick={handleSave}\r\n                                            className={styles.saveBtn}\r\n                                            disabled={isSaving}\r\n                                        >\r\n                                            {isSaving ? <FaSpinner className={styles.spin} /> : <FaSave />}\r\n                                            {isSaving ? 'Saving...' : 'Save'}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                {(selectedSection.name === 'Papers' || selectedSection.name === 'Published Papers') && (\r\n                                    <div className={styles.scholarRow}>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            placeholder=\"Google Scholar URL\"\r\n                                            value={scholarUrl}\r\n                                            onChange={(e) => setScholarUrl(e.target.value)}\r\n                                            className={styles.scholarInput}\r\n                                        />\r\n                                        <button\r\n                                            onClick={handleSyncScholar}\r\n                                            disabled={isSyncing}\r\n                                            className={styles.syncBtn}\r\n                                        >\r\n                                            {isSyncing ? <FaSpinner className={styles.spin} /> : <FaSyncAlt />}\r\n                                            {isSyncing ? 'Syncing...' : 'Sync Scholar'}\r\n                                        </button>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className={styles.itemsList}>\r\n                                    {sectionItems.map((item, index) => (\r\n                                        <div key={item.id || index} className={`${styles.itemCard} ${expandedItems[index] ? styles.expanded : ''}`}>\r\n                                            <div\r\n                                                className={styles.itemHeader}\r\n                                                onClick={() => toggleItemExpand(index)}\r\n                                            >\r\n                                                <div className={styles.itemHeaderLeft}>\r\n                                                    <span className={styles.itemIndex}>#{index + 1}</span>\r\n                                                    <span className={styles.itemPreview}>{getItemPreview(item)}</span>\r\n                                                </div>\r\n                                                <div className={styles.itemHeaderRight}>\r\n                                                    {(selectedSection.name === 'Papers' || selectedSection.name === 'Published Papers') && (\r\n                                                        <div className={styles.uploadArea}>\r\n                                                            <input\r\n                                                                type=\"file\"\r\n                                                                id={`upload-${index}`}\r\n                                                                style={{ display: 'none' }}\r\n                                                                accept=\"application/pdf\"\r\n                                                                onChange={(e) => handleFileUpload(e, index)}\r\n                                                            />\r\n                                                            <label\r\n                                                                htmlFor={`upload-${index}`}\r\n                                                                className={styles.uploadBtn}\r\n                                                                onClick={(e) => e.stopPropagation()}\r\n                                                            >\r\n                                                                {uploadingIndex === index ? <FaSpinner className={styles.spin} /> : <FaCloudUploadAlt />}\r\n                                                                {item.pdf ? 'PDF ✓' : 'Upload'}\r\n                                                            </label>\r\n                                                            {item.pdf && (\r\n                                                                <a\r\n                                                                    href={`http://localhost:5000${item.pdf}`}\r\n                                                                    target=\"_blank\"\r\n                                                                    rel=\"noopener noreferrer\"\r\n                                                                    className={styles.viewPdfLink}\r\n                                                                    onClick={(e) => e.stopPropagation()}\r\n                                                                >\r\n                                                                    <FaExternalLinkAlt />\r\n                                                                </a>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    )}\r\n                                                    <button\r\n                                                        type=\"button\"\r\n                                                        className={styles.deleteBtn}\r\n                                                        onClick={(e) => { e.stopPropagation(); handleDeleteItem(index); }}\r\n                                                    >\r\n                                                        <FaTrash />\r\n                                                    </button>\r\n                                                    <button className={styles.expandBtn}>\r\n                                                        {expandedItems[index] ? <FaChevronUp /> : <FaChevronDown />}\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {expandedItems[index] && (\r\n                                                <div className={styles.itemContent}>\r\n                                                    <div className={styles.fieldGrid}>\r\n                                                        {Object.entries(item).map(([key, value]) => {\r\n                                                            if (key === 'id') return null;\r\n                                                            const isArray = Array.isArray(value);\r\n                                                            const isAutoGenerated = (selectedSection.name === 'ResearchInterests' && key === 'href');\r\n                                                            const displayValue = isArray ? JSON.stringify(value) : value;\r\n\r\n                                                            return (\r\n                                                                <div key={key} className={styles.fieldGroup}>\r\n                                                                    <label className={styles.fieldLabel}>{formatLabel(key)}</label>\r\n                                                                    {key === 'skill' && Array.isArray(value) ? (\r\n                                                                        <div className={styles.skillEditor}>\r\n                                                                            {value.map((skillPair, sIndex) => (\r\n                                                                                <div key={sIndex} className={styles.skillRow}>\r\n                                                                                    <input\r\n                                                                                        className={styles.skillNameInput}\r\n                                                                                        value={skillPair[0]}\r\n                                                                                        onChange={(e) => {\r\n                                                                                            const newSkills = [...value];\r\n                                                                                            newSkills[sIndex] = [e.target.value, skillPair[1]];\r\n                                                                                            handleItemChange(index, key, newSkills);\r\n                                                                                        }}\r\n                                                                                        placeholder=\"Skill Name\"\r\n                                                                                    />\r\n                                                                                    <select\r\n                                                                                        className={styles.skillLevelSelect}\r\n                                                                                        value={skillPair[1]}\r\n                                                                                        onChange={(e) => {\r\n                                                                                            const newSkills = [...value];\r\n                                                                                            newSkills[sIndex] = [skillPair[0], e.target.value];\r\n                                                                                            handleItemChange(index, key, newSkills);\r\n                                                                                        }}\r\n                                                                                    >\r\n                                                                                        <option value=\"Beginner\">Beginner</option>\r\n                                                                                        <option value=\"Intermediate\">Intermediate</option>\r\n                                                                                        <option value=\"Advanced\">Advanced</option>\r\n                                                                                        <option value=\"Expert\">Expert</option>\r\n                                                                                    </select>\r\n                                                                                    <button\r\n                                                                                        className={styles.removeSkillBtn}\r\n                                                                                        onClick={() => {\r\n                                                                                            const newSkills = value.filter((_, i) => i !== sIndex);\r\n                                                                                            handleItemChange(index, key, newSkills);\r\n                                                                                        }}\r\n                                                                                    >\r\n                                                                                        <FaTrash />\r\n                                                                                    </button>\r\n                                                                                </div>\r\n                                                                            ))}\r\n                                                                            <button\r\n                                                                                className={styles.addSkillBtn}\r\n                                                                                onClick={() => {\r\n                                                                                    const newSkills = [...value, [\"New Skill\", \"Beginner\"]];\r\n                                                                                    handleItemChange(index, key, newSkills);\r\n                                                                                }}\r\n                                                                            >\r\n                                                                                <FaPlus /> Add Skill\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    ) : (selectedSection.name === 'Qualifications' && (key === 'Date' || key === 'Supervisor')) ? (\r\n                                                                        <div className={styles.splitFieldContainer}>\r\n                                                                            <input\r\n                                                                                className={styles.fieldInput}\r\n                                                                                placeholder={key === 'Date' ? 'Start Date' : 'Supervisor 1'}\r\n                                                                                value={key === 'Date' ? (value.split(/ – | - /)[0] || '') : (value.split(', ')[0] || '')}\r\n                                                                                onChange={e => {\r\n                                                                                    const parts = key === 'Date' ? value.split(/ – | - /) : value.split(', ');\r\n                                                                                    const newPart1 = e.target.value;\r\n                                                                                    const newPart2 = parts[1] || '';\r\n                                                                                    const separator = key === 'Date' ? ' – ' : ', ';\r\n                                                                                    handleItemChange(index, key, `${newPart1}${separator}${newPart2}`);\r\n                                                                                }}\r\n                                                                            />\r\n                                                                            <input\r\n                                                                                className={styles.fieldInput}\r\n                                                                                placeholder={key === 'Date' ? 'End Date' : 'Supervisor 2'}\r\n                                                                                value={key === 'Date' ? (value.split(/ – | - /)[1] || '') : (value.split(', ')[1] || '')}\r\n                                                                                onChange={e => {\r\n                                                                                    const parts = key === 'Date' ? value.split(/ – | - /) : value.split(', ');\r\n                                                                                    const newPart1 = parts[0] || '';\r\n                                                                                    const newPart2 = e.target.value;\r\n                                                                                    const separator = key === 'Date' ? ' – ' : ', ';\r\n                                                                                    handleItemChange(index, key, `${newPart1}${separator}${newPart2}`);\r\n                                                                                }}\r\n                                                                            />\r\n                                                                        </div>\r\n                                                                    ) : key === 'AuthorsList' && Array.isArray(value) ? (\r\n                                                                        <div className={styles.authorsEditor}>\r\n                                                                            {value.map((author, aIndex) => (\r\n                                                                                <div key={aIndex} className={styles.authorRow}>\r\n                                                                                    <input\r\n                                                                                        className={styles.authorInput}\r\n                                                                                        value={author}\r\n                                                                                        onChange={(e) => {\r\n                                                                                            const newAuthors = [...value];\r\n                                                                                            newAuthors[aIndex] = e.target.value;\r\n                                                                                            handleItemChange(index, key, newAuthors);\r\n                                                                                            // Also update Authors string for AcademicCV compatibility\r\n                                                                                            handleItemChange(index, 'Authors', newAuthors.join(', '));\r\n                                                                                        }}\r\n                                                                                        placeholder={`Author ${aIndex + 1}`}\r\n                                                                                    />\r\n                                                                                    <button\r\n                                                                                        className={styles.removeAuthorBtn}\r\n                                                                                        onClick={() => {\r\n                                                                                            const newAuthors = value.filter((_, i) => i !== aIndex);\r\n                                                                                            handleItemChange(index, key, newAuthors);\r\n                                                                                            handleItemChange(index, 'Authors', newAuthors.join(', '));\r\n                                                                                        }}\r\n                                                                                    >\r\n                                                                                        <FaTrash />\r\n                                                                                    </button>\r\n                                                                                </div>\r\n                                                                            ))}\r\n                                                                            <button\r\n                                                                                className={styles.addAuthorBtn}\r\n                                                                                onClick={() => {\r\n                                                                                    const newAuthors = [...value, 'New Author'];\r\n                                                                                    handleItemChange(index, key, newAuthors);\r\n                                                                                    handleItemChange(index, 'Authors', newAuthors.join(', '));\r\n                                                                                }}\r\n                                                                            >\r\n                                                                                <FaPlus /> Add Author\r\n                                                                            </button>\r\n                                                                        </div>\r\n                                                                    ) : isArray ? (\r\n                                                                        <input\r\n                                                                            className={styles.fieldInput}\r\n                                                                            value={displayValue}\r\n                                                                            onChange={e => {\r\n                                                                                try {\r\n                                                                                    const parsed = JSON.parse(e.target.value);\r\n                                                                                    handleItemChange(index, key, parsed);\r\n                                                                                } catch (_) { }\r\n                                                                            }}\r\n                                                                            placeholder=\"Complex Array Data\"\r\n                                                                        />\r\n                                                                    ) : (\r\n                                                                        <input\r\n                                                                            className={styles.fieldInput}\r\n                                                                            value={displayValue !== undefined && displayValue !== null ? displayValue : ''}\r\n                                                                            onChange={e => handleItemChange(index, key, e.target.value)}\r\n                                                                            readOnly={isAutoGenerated}\r\n                                                                            style={isAutoGenerated ? { opacity: 0.6, cursor: 'not-allowed' } : {}}\r\n                                                                        />\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            );\r\n                                                        })}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n\r\n                                <button className={styles.addBtn} onClick={handleAddItem}>\r\n                                    <FaPlus /> Add New Item\r\n                                </button>\r\n\r\n                                {/* Keyboard shortcut hint */}\r\n                                <div className={styles.keyboardHint}>\r\n                                    Press <kbd>Ctrl</kbd> + <kbd>S</kbd> to save\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;\r\n"],"names":["formatLabel","key","getSectionIcon","name","FaUser","FaBriefcase","FaFlask","FaCog","FaGraduationCap","FaBook","FaCalendarAlt","FaAward","FaLayerGroup","Toast","message","type","onClose","useEffect","timer","jsxs","styles","jsx","FaCheck","FaTimes","AdminDashboard","sections","setSections","useState","selectedSection","setSelectedSection","sectionItems","setSectionItems","view","setView","isSyncing","setIsSyncing","isSaving","setIsSaving","isLoading","setIsLoading","scholarUrl","setScholarUrl","uploadingIndex","setUploadingIndex","expandedItems","setExpandedItems","hasUnsavedChanges","setHasUnsavedChanges","toast","setToast","deleteConfirmation","setDeleteConfirmation","navigate","useNavigate","showToast","useCallback","fetchData","handleKeyDown","handleSave","data","getCVData","a","b","err","handleEdit","section","items","item","idx","handleItemChange","index","field","value","newItems","autoHref","handleFileUpload","e","file","formData","uploadFile","handleAddItem","template","handleDeleteItem","confirmDelete","_","i","cancelDelete","updatedData","updateCVSection","handleSyncScholar","urlToSync","res","syncScholarData","updatedSection","s","_b","_a","handleLogout","toggleItemExpand","prev","getItemPreview","title","totalSections","totalItems","acc","cur","list","stats","papers","totalPapers","totalCitations","sum","paper","rawCite","citeString","citationsArray","p","hIndex","getItemCount","FaTrash","FaUserShield","MdDashboard","FaSpinner","sec","IconComponent","itemCount","FaSignOutAlt","FaFileAlt","FaChartBar","FaSave","FaSyncAlt","FaCloudUploadAlt","FaExternalLinkAlt","FaChevronUp","FaChevronDown","isArray","isAutoGenerated","displayValue","skillPair","sIndex","newSkills","FaPlus","parts","newPart1","newPart2","author","aIndex","newAuthors","parsed"],"mappings":"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"}