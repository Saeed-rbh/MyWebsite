const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Resume-BrQQoTuq.js","assets/Resume-DGTwW1w9.css","assets/Loader-B_BZGy7C.js","assets/Loader-0vwNFDZK.css"])))=>i.map(i=>d[i]);
var I9=Object.defineProperty;var B9=(t,e,n)=>e in t?I9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Da=(t,e,n)=>B9(t,typeof e!="symbol"?e+"":e,n);function L9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ua=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r3={exports:{}},CA={},i3={exports:{}},dn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $0=Symbol.for("react.element"),D9=Symbol.for("react.portal"),F9=Symbol.for("react.fragment"),O9=Symbol.for("react.strict_mode"),N9=Symbol.for("react.profiler"),U9=Symbol.for("react.provider"),k9=Symbol.for("react.context"),H9=Symbol.for("react.forward_ref"),z9=Symbol.for("react.suspense"),G9=Symbol.for("react.memo"),V9=Symbol.for("react.lazy"),WP=Symbol.iterator;function W9(t){return t===null||typeof t!="object"?null:(t=WP&&t[WP]||t["@@iterator"],typeof t=="function"?t:null)}var s3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o3=Object.assign,a3={};function Vp(t,e,n){this.props=t,this.context=e,this.refs=a3,this.updater=n||s3}Vp.prototype.isReactComponent={};Vp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function l3(){}l3.prototype=Vp.prototype;function tC(t,e,n){this.props=t,this.context=e,this.refs=a3,this.updater=n||s3}var nC=tC.prototype=new l3;nC.constructor=tC;o3(nC,Vp.prototype);nC.isPureReactComponent=!0;var jP=Array.isArray,u3=Object.prototype.hasOwnProperty,rC={current:null},c3={key:!0,ref:!0,__self:!0,__source:!0};function f3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)u3.call(e,r)&&!c3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:$0,type:t,key:s,ref:o,props:i,_owner:rC.current}}function j9(t,e){return{$$typeof:$0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iC(t){return typeof t=="object"&&t!==null&&t.$$typeof===$0}function X9(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var XP=/\/+/g;function IS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?X9(""+t.key):e.toString(36)}function s_(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case $0:case D9:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+IS(o,0):r,jP(i)?(n="",t!=null&&(n=t.replace(XP,"$&/")+"/"),s_(i,e,n,"",function(u){return u})):i!=null&&(iC(i)&&(i=j9(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(XP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jP(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+IS(s,a);o+=s_(s,e,n,l,i)}else if(l=W9(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+IS(s,a++),o+=s_(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Gy(t,e,n){if(t==null)return t;var r=[],i=0;return s_(t,r,"","",function(s){return e.call(n,s,i++)}),r}function J9(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zi={current:null},o_={transition:null},K9={ReactCurrentDispatcher:Zi,ReactCurrentBatchConfig:o_,ReactCurrentOwner:rC};dn.Children={map:Gy,forEach:function(t,e,n){Gy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gy(t,function(){e++}),e},toArray:function(t){return Gy(t,function(e){return e})||[]},only:function(t){if(!iC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};dn.Component=Vp;dn.Fragment=F9;dn.Profiler=N9;dn.PureComponent=tC;dn.StrictMode=O9;dn.Suspense=z9;dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K9;dn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=o3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=rC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)u3.call(e,l)&&!c3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:$0,type:t.type,key:i,ref:s,props:r,_owner:o}};dn.createContext=function(t){return t={$$typeof:k9,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U9,_context:t},t.Consumer=t};dn.createElement=f3;dn.createFactory=function(t){var e=f3.bind(null,t);return e.type=t,e};dn.createRef=function(){return{current:null}};dn.forwardRef=function(t){return{$$typeof:H9,render:t}};dn.isValidElement=iC;dn.lazy=function(t){return{$$typeof:V9,_payload:{_status:-1,_result:t},_init:J9}};dn.memo=function(t,e){return{$$typeof:G9,type:t,compare:e===void 0?null:e}};dn.startTransition=function(t){var e=o_.transition;o_.transition={};try{t()}finally{o_.transition=e}};dn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};dn.useCallback=function(t,e){return Zi.current.useCallback(t,e)};dn.useContext=function(t){return Zi.current.useContext(t)};dn.useDebugValue=function(){};dn.useDeferredValue=function(t){return Zi.current.useDeferredValue(t)};dn.useEffect=function(t,e){return Zi.current.useEffect(t,e)};dn.useId=function(){return Zi.current.useId()};dn.useImperativeHandle=function(t,e,n){return Zi.current.useImperativeHandle(t,e,n)};dn.useInsertionEffect=function(t,e){return Zi.current.useInsertionEffect(t,e)};dn.useLayoutEffect=function(t,e){return Zi.current.useLayoutEffect(t,e)};dn.useMemo=function(t,e){return Zi.current.useMemo(t,e)};dn.useReducer=function(t,e,n){return Zi.current.useReducer(t,e,n)};dn.useRef=function(t){return Zi.current.useRef(t)};dn.useState=function(t){return Zi.current.useState(t)};dn.useSyncExternalStore=function(t,e,n){return Zi.current.useSyncExternalStore(t,e,n)};dn.useTransition=function(){return Zi.current.useTransition()};dn.version="18.2.0";i3.exports=dn;var U=i3.exports;const ur=hh(U),Y9=L9({__proto__:null,default:ur},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q9=U,q9=Symbol.for("react.element"),Z9=Symbol.for("react.fragment"),$9=Object.prototype.hasOwnProperty,e8=Q9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t8={key:!0,ref:!0,__self:!0,__source:!0};function h3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$9.call(e,r)&&!t8.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:q9,type:t,key:s,ref:o,props:i,_owner:e8.current}}CA.Fragment=Z9;CA.jsx=h3;CA.jsxs=h3;r3.exports=CA;var q=r3.exports,Iw={},d3={exports:{}},Ks={},p3={exports:{}},m3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,te){var ie=V.length;V.push(te);e:for(;0<ie;){var he=ie-1>>>1,ne=V[he];if(0<i(ne,te))V[he]=te,V[ie]=ne,ie=he;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var te=V[0],ie=V.pop();if(ie!==te){V[0]=ie;e:for(var he=0,ne=V.length,ye=ne>>>1;he<ye;){var Me=2*(he+1)-1,Te=V[Me],Le=Me+1,Ge=V[Le];if(0>i(Te,ie))Le<ne&&0>i(Ge,Te)?(V[he]=Ge,V[Le]=ie,he=Le):(V[he]=Te,V[Me]=ie,he=Me);else if(Le<ne&&0>i(Ge,ie))V[he]=Ge,V[Le]=ie,he=Le;else break e}}return te}function i(V,te){var ie=V.sortIndex-te.sortIndex;return ie!==0?ie:V.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,g=3,v=!1,x=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(V){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=V)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function C(V){if(E=!1,A(V),!x)if(n(l)!==null)x=!0,de(P);else{var te=n(u);te!==null&&le(C,te.startTime-V)}}function P(V,te){x=!1,E&&(E=!1,y(N),N=-1),v=!0;var ie=g;try{for(A(te),p=n(l);p!==null&&(!(p.expirationTime>te)||V&&!W());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var ne=he(p.expirationTime<=te);te=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(l)&&r(l),A(te)}else r(l);p=n(l)}if(p!==null)var ye=!0;else{var Me=n(u);Me!==null&&le(C,Me.startTime-te),ye=!1}return ye}finally{p=null,g=ie,v=!1}}var L=!1,D=null,N=-1,I=5,F=-1;function W(){return!(t.unstable_now()-F<I)}function ce(){if(D!==null){var V=t.unstable_now();F=V;var te=!0;try{te=D(!0,V)}finally{te?re():(L=!1,D=null)}}else L=!1}var re;if(typeof S=="function")re=function(){S(ce)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=ce,re=function(){ee.postMessage(null)}}else re=function(){M(ce,0)};function de(V){D=V,L||(L=!0,re())}function le(V,te){N=M(function(){V(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,de(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ie=g;g=te;try{return V()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=g;g=V;try{return te()}finally{g=ie}},t.unstable_scheduleCallback=function(V,te,ie){var he=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ie+ne,V={id:h++,callback:te,priorityLevel:V,startTime:ie,expirationTime:ne,sortIndex:-1},ie>he?(V.sortIndex=ie,e(u,V),n(l)===null&&V===n(u)&&(E?(y(N),N=-1):E=!0,le(C,ie-he))):(V.sortIndex=ne,e(l,V),x||v||(x=!0,de(P))),V},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(V){var te=g;return function(){var ie=g;g=te;try{return V.apply(this,arguments)}finally{g=ie}}}})(m3);p3.exports=m3;var n8=p3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g3=U,Ws=n8;function Xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v3=new Set,a0={};function dh(t,e){Ap(t,e),Ap(t+"Capture",e)}function Ap(t,e){for(a0[t]=e,t=0;t<e.length;t++)v3.add(e[t])}var Hl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bw=Object.prototype.hasOwnProperty,r8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JP={},KP={};function i8(t){return Bw.call(KP,t)?!0:Bw.call(JP,t)?!1:r8.test(t)?KP[t]=!0:(JP[t]=!0,!1)}function s8(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function o8(t,e,n,r){if(e===null||typeof e>"u"||s8(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $i(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var _i={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_i[t]=new $i(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_i[e]=new $i(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_i[t]=new $i(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_i[t]=new $i(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_i[t]=new $i(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_i[t]=new $i(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_i[t]=new $i(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_i[t]=new $i(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_i[t]=new $i(t,5,!1,t.toLowerCase(),null,!1,!1)});var sC=/[\-:]([a-z])/g;function oC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sC,oC);_i[e]=new $i(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sC,oC);_i[e]=new $i(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sC,oC);_i[e]=new $i(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_i[t]=new $i(t,1,!1,t.toLowerCase(),null,!1,!1)});_i.xlinkHref=new $i("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_i[t]=new $i(t,1,!1,t.toLowerCase(),null,!0,!0)});function aC(t,e,n,r){var i=_i.hasOwnProperty(e)?_i[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(o8(e,n,i,r)&&(n=null),r||i===null?i8(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Jl=g3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vy=Symbol.for("react.element"),Ud=Symbol.for("react.portal"),kd=Symbol.for("react.fragment"),lC=Symbol.for("react.strict_mode"),Lw=Symbol.for("react.profiler"),y3=Symbol.for("react.provider"),x3=Symbol.for("react.context"),uC=Symbol.for("react.forward_ref"),Dw=Symbol.for("react.suspense"),Fw=Symbol.for("react.suspense_list"),cC=Symbol.for("react.memo"),Uu=Symbol.for("react.lazy"),_3=Symbol.for("react.offscreen"),YP=Symbol.iterator;function tg(t){return t===null||typeof t!="object"?null:(t=YP&&t[YP]||t["@@iterator"],typeof t=="function"?t:null)}var fr=Object.assign,BS;function Pg(t){if(BS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);BS=e&&e[1]||""}return`
`+BS+t}var LS=!1;function DS(t,e){if(!t||LS)return"";LS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{LS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pg(t):""}function a8(t){switch(t.tag){case 5:return Pg(t.type);case 16:return Pg("Lazy");case 13:return Pg("Suspense");case 19:return Pg("SuspenseList");case 0:case 2:case 15:return t=DS(t.type,!1),t;case 11:return t=DS(t.type.render,!1),t;case 1:return t=DS(t.type,!0),t;default:return""}}function Ow(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kd:return"Fragment";case Ud:return"Portal";case Lw:return"Profiler";case lC:return"StrictMode";case Dw:return"Suspense";case Fw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x3:return(t.displayName||"Context")+".Consumer";case y3:return(t._context.displayName||"Context")+".Provider";case uC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cC:return e=t.displayName||null,e!==null?e:Ow(t.type)||"Memo";case Uu:e=t._payload,t=t._init;try{return Ow(t(e))}catch{}}return null}function l8(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ow(e);case 8:return e===lC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function A3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function u8(t){var e=A3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Wy(t){t._valueTracker||(t._valueTracker=u8(t))}function S3(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=A3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function L_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nw(t,e){var n=e.checked;return fr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function QP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function M3(t,e){e=e.checked,e!=null&&aC(t,"checked",e,!1)}function Uw(t,e){M3(t,e);var n=mc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kw(t,e.type,n):e.hasOwnProperty("defaultValue")&&kw(t,e.type,mc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kw(t,e,n){(e!=="number"||L_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ig=Array.isArray;function sp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return fr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ZP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Xe(92));if(Ig(n)){if(1<n.length)throw Error(Xe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mc(n)}}function w3(t,e){var n=mc(e.value),r=mc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $P(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E3(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E3(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jy,T3=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jy=jy||document.createElement("div"),jy.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jy.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function l0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},c8=["Webkit","ms","Moz","O"];Object.keys(kg).forEach(function(t){c8.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kg[e]=kg[t]})});function C3(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kg.hasOwnProperty(t)&&kg[t]?(""+e).trim():e+"px"}function b3(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C3(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var f8=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gw(t,e){if(e){if(f8[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Xe(62))}}function Vw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ww=null;function fC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jw=null,op=null,ap=null;function e2(t){if(t=nv(t)){if(typeof jw!="function")throw Error(Xe(280));var e=t.stateNode;e&&(e=BA(e),jw(t.stateNode,t.type,e))}}function R3(t){op?ap?ap.push(t):ap=[t]:op=t}function P3(){if(op){var t=op,e=ap;if(ap=op=null,e2(t),e)for(t=0;t<e.length;t++)e2(e[t])}}function I3(t,e){return t(e)}function B3(){}var FS=!1;function L3(t,e,n){if(FS)return t(e,n);FS=!0;try{return I3(t,e,n)}finally{FS=!1,(op!==null||ap!==null)&&(B3(),P3())}}function u0(t,e){var n=t.stateNode;if(n===null)return null;var r=BA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Xe(231,e,typeof n));return n}var Xw=!1;if(Hl)try{var ng={};Object.defineProperty(ng,"passive",{get:function(){Xw=!0}}),window.addEventListener("test",ng,ng),window.removeEventListener("test",ng,ng)}catch{Xw=!1}function h8(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Hg=!1,D_=null,F_=!1,Jw=null,d8={onError:function(t){Hg=!0,D_=t}};function p8(t,e,n,r,i,s,o,a,l){Hg=!1,D_=null,h8.apply(d8,arguments)}function m8(t,e,n,r,i,s,o,a,l){if(p8.apply(this,arguments),Hg){if(Hg){var u=D_;Hg=!1,D_=null}else throw Error(Xe(198));F_||(F_=!0,Jw=u)}}function ph(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function D3(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t2(t){if(ph(t)!==t)throw Error(Xe(188))}function g8(t){var e=t.alternate;if(!e){if(e=ph(t),e===null)throw Error(Xe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t2(i),t;if(s===r)return t2(i),e;s=s.sibling}throw Error(Xe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Xe(189))}}if(n.alternate!==r)throw Error(Xe(190))}if(n.tag!==3)throw Error(Xe(188));return n.stateNode.current===n?t:e}function F3(t){return t=g8(t),t!==null?O3(t):null}function O3(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O3(t);if(e!==null)return e;t=t.sibling}return null}var N3=Ws.unstable_scheduleCallback,n2=Ws.unstable_cancelCallback,v8=Ws.unstable_shouldYield,y8=Ws.unstable_requestPaint,Ir=Ws.unstable_now,x8=Ws.unstable_getCurrentPriorityLevel,hC=Ws.unstable_ImmediatePriority,U3=Ws.unstable_UserBlockingPriority,O_=Ws.unstable_NormalPriority,_8=Ws.unstable_LowPriority,k3=Ws.unstable_IdlePriority,bA=null,Ga=null;function A8(t){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(bA,t,void 0,(t.current.flags&128)===128)}catch{}}var oa=Math.clz32?Math.clz32:w8,S8=Math.log,M8=Math.LN2;function w8(t){return t>>>=0,t===0?32:31-(S8(t)/M8|0)|0}var Xy=64,Jy=4194304;function Bg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function N_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Bg(a):(s&=o,s!==0&&(r=Bg(s)))}else o=n&~i,o!==0?r=Bg(o):s!==0&&(r=Bg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oa(e),i=1<<n,r|=t[n],e&=~i;return r}function E8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oa(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=E8(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H3(){var t=Xy;return Xy<<=1,!(Xy&4194240)&&(Xy=64),t}function OS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ev(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oa(e),t[e]=n}function C8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oa(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pn=0;function z3(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G3,pC,V3,W3,j3,Yw=!1,Ky=[],Zu=null,$u=null,ec=null,c0=new Map,f0=new Map,Gu=[],b8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r2(t,e){switch(t){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":$u=null;break;case"mouseover":case"mouseout":ec=null;break;case"pointerover":case"pointerout":c0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":f0.delete(e.pointerId)}}function rg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nv(e),e!==null&&pC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function R8(t,e,n,r,i){switch(e){case"focusin":return Zu=rg(Zu,t,e,n,r,i),!0;case"dragenter":return $u=rg($u,t,e,n,r,i),!0;case"mouseover":return ec=rg(ec,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return c0.set(s,rg(c0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,f0.set(s,rg(f0.get(s)||null,t,e,n,r,i)),!0}return!1}function X3(t){var e=Of(t.target);if(e!==null){var n=ph(e);if(n!==null){if(e=n.tag,e===13){if(e=D3(n),e!==null){t.blockedOn=e,j3(t.priority,function(){V3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function a_(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ww=r,n.target.dispatchEvent(r),Ww=null}else return e=nv(n),e!==null&&pC(e),t.blockedOn=n,!1;e.shift()}return!0}function i2(t,e,n){a_(t)&&n.delete(e)}function P8(){Yw=!1,Zu!==null&&a_(Zu)&&(Zu=null),$u!==null&&a_($u)&&($u=null),ec!==null&&a_(ec)&&(ec=null),c0.forEach(i2),f0.forEach(i2)}function ig(t,e){t.blockedOn===e&&(t.blockedOn=null,Yw||(Yw=!0,Ws.unstable_scheduleCallback(Ws.unstable_NormalPriority,P8)))}function h0(t){function e(i){return ig(i,t)}if(0<Ky.length){ig(Ky[0],t);for(var n=1;n<Ky.length;n++){var r=Ky[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zu!==null&&ig(Zu,t),$u!==null&&ig($u,t),ec!==null&&ig(ec,t),c0.forEach(e),f0.forEach(e),n=0;n<Gu.length;n++)r=Gu[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gu.length&&(n=Gu[0],n.blockedOn===null);)X3(n),n.blockedOn===null&&Gu.shift()}var lp=Jl.ReactCurrentBatchConfig,U_=!0;function I8(t,e,n,r){var i=Pn,s=lp.transition;lp.transition=null;try{Pn=1,mC(t,e,n,r)}finally{Pn=i,lp.transition=s}}function B8(t,e,n,r){var i=Pn,s=lp.transition;lp.transition=null;try{Pn=4,mC(t,e,n,r)}finally{Pn=i,lp.transition=s}}function mC(t,e,n,r){if(U_){var i=Qw(t,e,n,r);if(i===null)XS(t,e,r,k_,n),r2(t,r);else if(R8(i,t,e,n,r))r.stopPropagation();else if(r2(t,r),e&4&&-1<b8.indexOf(t)){for(;i!==null;){var s=nv(i);if(s!==null&&G3(s),s=Qw(t,e,n,r),s===null&&XS(t,e,r,k_,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else XS(t,e,r,null,n)}}var k_=null;function Qw(t,e,n,r){if(k_=null,t=fC(r),t=Of(t),t!==null)if(e=ph(t),e===null)t=null;else if(n=e.tag,n===13){if(t=D3(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return k_=t,null}function J3(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(x8()){case hC:return 1;case U3:return 4;case O_:case _8:return 16;case k3:return 536870912;default:return 16}default:return 16}}var ju=null,gC=null,l_=null;function K3(){if(l_)return l_;var t,e=gC,n=e.length,r,i="value"in ju?ju.value:ju.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return l_=i.slice(t,1<r?1-r:void 0)}function u_(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yy(){return!0}function s2(){return!1}function Ys(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yy:s2,this.isPropagationStopped=s2,this}return fr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yy)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yy)},persist:function(){},isPersistent:Yy}),e}var Wp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vC=Ys(Wp),tv=fr({},Wp,{view:0,detail:0}),L8=Ys(tv),NS,US,sg,RA=fr({},tv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sg&&(sg&&t.type==="mousemove"?(NS=t.screenX-sg.screenX,US=t.screenY-sg.screenY):US=NS=0,sg=t),NS)},movementY:function(t){return"movementY"in t?t.movementY:US}}),o2=Ys(RA),D8=fr({},RA,{dataTransfer:0}),F8=Ys(D8),O8=fr({},tv,{relatedTarget:0}),kS=Ys(O8),N8=fr({},Wp,{animationName:0,elapsedTime:0,pseudoElement:0}),U8=Ys(N8),k8=fr({},Wp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H8=Ys(k8),z8=fr({},Wp,{data:0}),a2=Ys(z8),G8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function j8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=W8[t])?!!e[t]:!1}function yC(){return j8}var X8=fr({},tv,{key:function(t){if(t.key){var e=G8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=u_(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yC,charCode:function(t){return t.type==="keypress"?u_(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?u_(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J8=Ys(X8),K8=fr({},RA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l2=Ys(K8),Y8=fr({},tv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yC}),Q8=Ys(Y8),q8=fr({},Wp,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z8=Ys(q8),$8=fr({},RA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e6=Ys($8),t6=[9,13,27,32],xC=Hl&&"CompositionEvent"in window,zg=null;Hl&&"documentMode"in document&&(zg=document.documentMode);var n6=Hl&&"TextEvent"in window&&!zg,Y3=Hl&&(!xC||zg&&8<zg&&11>=zg),u2=" ",c2=!1;function Q3(t,e){switch(t){case"keyup":return t6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q3(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hd=!1;function r6(t,e){switch(t){case"compositionend":return q3(e);case"keypress":return e.which!==32?null:(c2=!0,u2);case"textInput":return t=e.data,t===u2&&c2?null:t;default:return null}}function i6(t,e){if(Hd)return t==="compositionend"||!xC&&Q3(t,e)?(t=K3(),l_=gC=ju=null,Hd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y3&&e.locale!=="ko"?null:e.data;default:return null}}var s6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function f2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!s6[t.type]:e==="textarea"}function Z3(t,e,n,r){R3(r),e=H_(e,"onChange"),0<e.length&&(n=new vC("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gg=null,d0=null;function o6(t){uF(t,0)}function PA(t){var e=Vd(t);if(S3(e))return t}function a6(t,e){if(t==="change")return e}var $3=!1;if(Hl){var HS;if(Hl){var zS="oninput"in document;if(!zS){var h2=document.createElement("div");h2.setAttribute("oninput","return;"),zS=typeof h2.oninput=="function"}HS=zS}else HS=!1;$3=HS&&(!document.documentMode||9<document.documentMode)}function d2(){Gg&&(Gg.detachEvent("onpropertychange",eF),d0=Gg=null)}function eF(t){if(t.propertyName==="value"&&PA(d0)){var e=[];Z3(e,d0,t,fC(t)),L3(o6,e)}}function l6(t,e,n){t==="focusin"?(d2(),Gg=e,d0=n,Gg.attachEvent("onpropertychange",eF)):t==="focusout"&&d2()}function u6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return PA(d0)}function c6(t,e){if(t==="click")return PA(e)}function f6(t,e){if(t==="input"||t==="change")return PA(e)}function h6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ua=typeof Object.is=="function"?Object.is:h6;function p0(t,e){if(ua(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bw.call(e,i)||!ua(t[i],e[i]))return!1}return!0}function p2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m2(t,e){var n=p2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p2(n)}}function tF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nF(){for(var t=window,e=L_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=L_(t.document)}return e}function _C(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function d6(t){var e=nF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tF(n.ownerDocument.documentElement,n)){if(r!==null&&_C(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m2(n,s);var o=m2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var p6=Hl&&"documentMode"in document&&11>=document.documentMode,zd=null,qw=null,Vg=null,Zw=!1;function g2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zw||zd==null||zd!==L_(r)||(r=zd,"selectionStart"in r&&_C(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vg&&p0(Vg,r)||(Vg=r,r=H_(qw,"onSelect"),0<r.length&&(e=new vC("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zd)))}function Qy(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gd={animationend:Qy("Animation","AnimationEnd"),animationiteration:Qy("Animation","AnimationIteration"),animationstart:Qy("Animation","AnimationStart"),transitionend:Qy("Transition","TransitionEnd")},GS={},rF={};Hl&&(rF=document.createElement("div").style,"AnimationEvent"in window||(delete Gd.animationend.animation,delete Gd.animationiteration.animation,delete Gd.animationstart.animation),"TransitionEvent"in window||delete Gd.transitionend.transition);function IA(t){if(GS[t])return GS[t];if(!Gd[t])return t;var e=Gd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rF)return GS[t]=e[n];return t}var iF=IA("animationend"),sF=IA("animationiteration"),oF=IA("animationstart"),aF=IA("transitionend"),lF=new Map,v2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tc(t,e){lF.set(t,e),dh(e,[t])}for(var VS=0;VS<v2.length;VS++){var WS=v2[VS],m6=WS.toLowerCase(),g6=WS[0].toUpperCase()+WS.slice(1);Tc(m6,"on"+g6)}Tc(iF,"onAnimationEnd");Tc(sF,"onAnimationIteration");Tc(oF,"onAnimationStart");Tc("dblclick","onDoubleClick");Tc("focusin","onFocus");Tc("focusout","onBlur");Tc(aF,"onTransitionEnd");Ap("onMouseEnter",["mouseout","mouseover"]);Ap("onMouseLeave",["mouseout","mouseover"]);Ap("onPointerEnter",["pointerout","pointerover"]);Ap("onPointerLeave",["pointerout","pointerover"]);dh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dh("onBeforeInput",["compositionend","keypress","textInput","paste"]);dh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lg));function y2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,m8(r,e,void 0,t),t.currentTarget=null}function uF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;y2(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;y2(i,a,u),s=l}}}if(F_)throw t=Jw,F_=!1,Jw=null,t}function Wn(t,e){var n=e[rE];n===void 0&&(n=e[rE]=new Set);var r=t+"__bubble";n.has(r)||(cF(e,t,2,!1),n.add(r))}function jS(t,e,n){var r=0;e&&(r|=4),cF(n,t,r,e)}var qy="_reactListening"+Math.random().toString(36).slice(2);function m0(t){if(!t[qy]){t[qy]=!0,v3.forEach(function(n){n!=="selectionchange"&&(v6.has(n)||jS(n,!1,t),jS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qy]||(e[qy]=!0,jS("selectionchange",!1,e))}}function cF(t,e,n,r){switch(J3(e)){case 1:var i=I8;break;case 4:i=B8;break;default:i=mC}n=i.bind(null,e,n,t),i=void 0,!Xw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function XS(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Of(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}L3(function(){var u=s,h=fC(n),p=[];e:{var g=lF.get(t);if(g!==void 0){var v=vC,x=t;switch(t){case"keypress":if(u_(n)===0)break e;case"keydown":case"keyup":v=J8;break;case"focusin":x="focus",v=kS;break;case"focusout":x="blur",v=kS;break;case"beforeblur":case"afterblur":v=kS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=o2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=F8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Q8;break;case iF:case sF:case oF:v=U8;break;case aF:v=Z8;break;case"scroll":v=L8;break;case"wheel":v=e6;break;case"copy":case"cut":case"paste":v=H8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=l2}var E=(e&4)!==0,M=!E&&t==="scroll",y=E?g!==null?g+"Capture":null:g;E=[];for(var S=u,A;S!==null;){A=S;var C=A.stateNode;if(A.tag===5&&C!==null&&(A=C,y!==null&&(C=u0(S,y),C!=null&&E.push(g0(S,C,A)))),M)break;S=S.return}0<E.length&&(g=new v(g,x,null,n,h),p.push({event:g,listeners:E}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Ww&&(x=n.relatedTarget||n.fromElement)&&(Of(x)||x[zl]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?Of(x):null,x!==null&&(M=ph(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(E=o2,C="onMouseLeave",y="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(E=l2,C="onPointerLeave",y="onPointerEnter",S="pointer"),M=v==null?g:Vd(v),A=x==null?g:Vd(x),g=new E(C,S+"leave",v,n,h),g.target=M,g.relatedTarget=A,C=null,Of(h)===u&&(E=new E(y,S+"enter",x,n,h),E.target=A,E.relatedTarget=M,C=E),M=C,v&&x)t:{for(E=v,y=x,S=0,A=E;A;A=ud(A))S++;for(A=0,C=y;C;C=ud(C))A++;for(;0<S-A;)E=ud(E),S--;for(;0<A-S;)y=ud(y),A--;for(;S--;){if(E===y||y!==null&&E===y.alternate)break t;E=ud(E),y=ud(y)}E=null}else E=null;v!==null&&x2(p,g,v,E,!1),x!==null&&M!==null&&x2(p,M,x,E,!0)}}e:{if(g=u?Vd(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var P=a6;else if(f2(g))if($3)P=f6;else{P=u6;var L=l6}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=c6);if(P&&(P=P(t,u))){Z3(p,P,n,h);break e}L&&L(t,g,u),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&kw(g,"number",g.value)}switch(L=u?Vd(u):window,t){case"focusin":(f2(L)||L.contentEditable==="true")&&(zd=L,qw=u,Vg=null);break;case"focusout":Vg=qw=zd=null;break;case"mousedown":Zw=!0;break;case"contextmenu":case"mouseup":case"dragend":Zw=!1,g2(p,n,h);break;case"selectionchange":if(p6)break;case"keydown":case"keyup":g2(p,n,h)}var D;if(xC)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Hd?Q3(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Y3&&n.locale!=="ko"&&(Hd||N!=="onCompositionStart"?N==="onCompositionEnd"&&Hd&&(D=K3()):(ju=h,gC="value"in ju?ju.value:ju.textContent,Hd=!0)),L=H_(u,N),0<L.length&&(N=new a2(N,t,null,n,h),p.push({event:N,listeners:L}),D?N.data=D:(D=q3(n),D!==null&&(N.data=D)))),(D=n6?r6(t,n):i6(t,n))&&(u=H_(u,"onBeforeInput"),0<u.length&&(h=new a2("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=D))}uF(p,e)})}function g0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function H_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=u0(t,n),s!=null&&r.unshift(g0(t,s,i)),s=u0(t,e),s!=null&&r.push(g0(t,s,i))),t=t.return}return r}function ud(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=u0(n,s),l!=null&&o.unshift(g0(n,l,a))):i||(l=u0(n,s),l!=null&&o.push(g0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var y6=/\r\n?/g,x6=/\u0000|\uFFFD/g;function _2(t){return(typeof t=="string"?t:""+t).replace(y6,`
`).replace(x6,"")}function Zy(t,e,n){if(e=_2(e),_2(t)!==e&&n)throw Error(Xe(425))}function z_(){}var $w=null,eE=null;function tE(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var nE=typeof setTimeout=="function"?setTimeout:void 0,_6=typeof clearTimeout=="function"?clearTimeout:void 0,A2=typeof Promise=="function"?Promise:void 0,A6=typeof queueMicrotask=="function"?queueMicrotask:typeof A2<"u"?function(t){return A2.resolve(null).then(t).catch(S6)}:nE;function S6(t){setTimeout(function(){throw t})}function JS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),h0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);h0(e)}function tc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jp=Math.random().toString(36).slice(2),ka="__reactFiber$"+jp,v0="__reactProps$"+jp,zl="__reactContainer$"+jp,rE="__reactEvents$"+jp,M6="__reactListeners$"+jp,w6="__reactHandles$"+jp;function Of(t){var e=t[ka];if(e)return e;for(var n=t.parentNode;n;){if(e=n[zl]||n[ka]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S2(t);t!==null;){if(n=t[ka])return n;t=S2(t)}return e}t=n,n=t.parentNode}return null}function nv(t){return t=t[ka]||t[zl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Xe(33))}function BA(t){return t[v0]||null}var iE=[],Wd=-1;function Cc(t){return{current:t}}function Jn(t){0>Wd||(t.current=iE[Wd],iE[Wd]=null,Wd--)}function Gn(t,e){Wd++,iE[Wd]=t.current,t.current=e}var gc={},Di=Cc(gc),vs=Cc(!1),eh=gc;function Sp(t,e){var n=t.type.contextTypes;if(!n)return gc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ys(t){return t=t.childContextTypes,t!=null}function G_(){Jn(vs),Jn(Di)}function M2(t,e,n){if(Di.current!==gc)throw Error(Xe(168));Gn(Di,e),Gn(vs,n)}function fF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Xe(108,l8(t)||"Unknown",i));return fr({},n,r)}function V_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gc,eh=Di.current,Gn(Di,t),Gn(vs,vs.current),!0}function w2(t,e,n){var r=t.stateNode;if(!r)throw Error(Xe(169));n?(t=fF(t,e,eh),r.__reactInternalMemoizedMergedChildContext=t,Jn(vs),Jn(Di),Gn(Di,t)):Jn(vs),Gn(vs,n)}var Cl=null,LA=!1,KS=!1;function hF(t){Cl===null?Cl=[t]:Cl.push(t)}function E6(t){LA=!0,hF(t)}function bc(){if(!KS&&Cl!==null){KS=!0;var t=0,e=Pn;try{var n=Cl;for(Pn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Cl=null,LA=!1}catch(i){throw Cl!==null&&(Cl=Cl.slice(t+1)),N3(hC,bc),i}finally{Pn=e,KS=!1}}return null}var jd=[],Xd=0,W_=null,j_=0,Ao=[],So=0,th=null,Il=1,Bl="";function Ef(t,e){jd[Xd++]=j_,jd[Xd++]=W_,W_=t,j_=e}function dF(t,e,n){Ao[So++]=Il,Ao[So++]=Bl,Ao[So++]=th,th=t;var r=Il;t=Bl;var i=32-oa(r)-1;r&=~(1<<i),n+=1;var s=32-oa(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Il=1<<32-oa(e)+i|n<<i|r,Bl=s+t}else Il=1<<s|n<<i|r,Bl=t}function AC(t){t.return!==null&&(Ef(t,1),dF(t,1,0))}function SC(t){for(;t===W_;)W_=jd[--Xd],jd[Xd]=null,j_=jd[--Xd],jd[Xd]=null;for(;t===th;)th=Ao[--So],Ao[So]=null,Bl=Ao[--So],Ao[So]=null,Il=Ao[--So],Ao[So]=null}var Gs=null,ks=null,Zn=!1,ea=null;function pF(t,e){var n=To(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function E2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gs=t,ks=tc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gs=t,ks=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=th!==null?{id:Il,overflow:Bl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=To(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gs=t,ks=null,!0):!1;default:return!1}}function sE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oE(t){if(Zn){var e=ks;if(e){var n=e;if(!E2(t,e)){if(sE(t))throw Error(Xe(418));e=tc(n.nextSibling);var r=Gs;e&&E2(t,e)?pF(r,n):(t.flags=t.flags&-4097|2,Zn=!1,Gs=t)}}else{if(sE(t))throw Error(Xe(418));t.flags=t.flags&-4097|2,Zn=!1,Gs=t}}}function T2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gs=t}function $y(t){if(t!==Gs)return!1;if(!Zn)return T2(t),Zn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!tE(t.type,t.memoizedProps)),e&&(e=ks)){if(sE(t))throw mF(),Error(Xe(418));for(;e;)pF(t,e),e=tc(e.nextSibling)}if(T2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ks=tc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ks=null}}else ks=Gs?tc(t.stateNode.nextSibling):null;return!0}function mF(){for(var t=ks;t;)t=tc(t.nextSibling)}function Mp(){ks=Gs=null,Zn=!1}function MC(t){ea===null?ea=[t]:ea.push(t)}var T6=Jl.ReactCurrentBatchConfig;function Qo(t,e){if(t&&t.defaultProps){e=fr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var X_=Cc(null),J_=null,Jd=null,wC=null;function EC(){wC=Jd=J_=null}function TC(t){var e=X_.current;Jn(X_),t._currentValue=e}function aE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function up(t,e){J_=t,wC=Jd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gs=!0),t.firstContext=null)}function Ro(t){var e=t._currentValue;if(wC!==t)if(t={context:t,memoizedValue:e,next:null},Jd===null){if(J_===null)throw Error(Xe(308));Jd=t,J_.dependencies={lanes:0,firstContext:t}}else Jd=Jd.next=t;return e}var Nf=null;function CC(t){Nf===null?Nf=[t]:Nf.push(t)}function gF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,CC(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gl(t,r)}function Gl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ku=!1;function bC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ol(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gl(t,n)}return i=r.interleaved,i===null?(e.next=e,CC(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gl(t,n)}function c_(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dC(t,n)}}function C2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function K_(t,e,n,r){var i=t.updateQueue;ku=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,h=u=l=null,a=s;do{var g=a.lane,v=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,E=a;switch(g=e,v=n,E.tag){case 1:if(x=E.payload,typeof x=="function"){p=x.call(v,p,g);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=E.payload,g=typeof x=="function"?x.call(v,p,g):x,g==null)break e;p=fr({},p,g);break e;case 2:ku=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else v={eventTime:v,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,l=p):h=h.next=v,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rh|=o,t.lanes=o,t.memoizedState=p}}function b2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Xe(191,i));i.call(r)}}}var yF=new g3.Component().refs;function lE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:fr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var DA={isMounted:function(t){return(t=t._reactInternals)?ph(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qi(),i=ic(t),s=Ol(r,i);s.payload=e,n!=null&&(s.callback=n),e=nc(t,s,i),e!==null&&(aa(e,t,i,r),c_(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qi(),i=ic(t),s=Ol(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=nc(t,s,i),e!==null&&(aa(e,t,i,r),c_(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qi(),r=ic(t),i=Ol(n,r);i.tag=2,e!=null&&(i.callback=e),e=nc(t,i,r),e!==null&&(aa(e,t,r,n),c_(e,t,r))}};function R2(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!p0(n,r)||!p0(i,s):!0}function xF(t,e,n){var r=!1,i=gc,s=e.contextType;return typeof s=="object"&&s!==null?s=Ro(s):(i=ys(e)?eh:Di.current,r=e.contextTypes,s=(r=r!=null)?Sp(t,i):gc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=DA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function P2(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&DA.enqueueReplaceState(e,e.state,null)}function uE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yF,bC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ro(s):(s=ys(e)?eh:Di.current,i.context=Sp(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(lE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&DA.enqueueReplaceState(i,i.state,null),K_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function og(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Xe(309));var r=n.stateNode}if(!r)throw Error(Xe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===yF&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Xe(284));if(!n._owner)throw Error(Xe(290,t))}return t}function ex(t,e){throw t=Object.prototype.toString.call(e),Error(Xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function I2(t){var e=t._init;return e(t._payload)}function _F(t){function e(y,S){if(t){var A=y.deletions;A===null?(y.deletions=[S],y.flags|=16):A.push(S)}}function n(y,S){if(!t)return null;for(;S!==null;)e(y,S),S=S.sibling;return null}function r(y,S){for(y=new Map;S!==null;)S.key!==null?y.set(S.key,S):y.set(S.index,S),S=S.sibling;return y}function i(y,S){return y=sc(y,S),y.index=0,y.sibling=null,y}function s(y,S,A){return y.index=A,t?(A=y.alternate,A!==null?(A=A.index,A<S?(y.flags|=2,S):A):(y.flags|=2,S)):(y.flags|=1048576,S)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,S,A,C){return S===null||S.tag!==6?(S=tM(A,y.mode,C),S.return=y,S):(S=i(S,A),S.return=y,S)}function l(y,S,A,C){var P=A.type;return P===kd?h(y,S,A.props.children,C,A.key):S!==null&&(S.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Uu&&I2(P)===S.type)?(C=i(S,A.props),C.ref=og(y,S,A),C.return=y,C):(C=g_(A.type,A.key,A.props,null,y.mode,C),C.ref=og(y,S,A),C.return=y,C)}function u(y,S,A,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=nM(A,y.mode,C),S.return=y,S):(S=i(S,A.children||[]),S.return=y,S)}function h(y,S,A,C,P){return S===null||S.tag!==7?(S=Jf(A,y.mode,C,P),S.return=y,S):(S=i(S,A),S.return=y,S)}function p(y,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=tM(""+S,y.mode,A),S.return=y,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vy:return A=g_(S.type,S.key,S.props,null,y.mode,A),A.ref=og(y,null,S),A.return=y,A;case Ud:return S=nM(S,y.mode,A),S.return=y,S;case Uu:var C=S._init;return p(y,C(S._payload),A)}if(Ig(S)||tg(S))return S=Jf(S,y.mode,A,null),S.return=y,S;ex(y,S)}return null}function g(y,S,A,C){var P=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return P!==null?null:a(y,S,""+A,C);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Vy:return A.key===P?l(y,S,A,C):null;case Ud:return A.key===P?u(y,S,A,C):null;case Uu:return P=A._init,g(y,S,P(A._payload),C)}if(Ig(A)||tg(A))return P!==null?null:h(y,S,A,C,null);ex(y,A)}return null}function v(y,S,A,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(A)||null,a(S,y,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vy:return y=y.get(C.key===null?A:C.key)||null,l(S,y,C,P);case Ud:return y=y.get(C.key===null?A:C.key)||null,u(S,y,C,P);case Uu:var L=C._init;return v(y,S,A,L(C._payload),P)}if(Ig(C)||tg(C))return y=y.get(A)||null,h(S,y,C,P,null);ex(S,C)}return null}function x(y,S,A,C){for(var P=null,L=null,D=S,N=S=0,I=null;D!==null&&N<A.length;N++){D.index>N?(I=D,D=null):I=D.sibling;var F=g(y,D,A[N],C);if(F===null){D===null&&(D=I);break}t&&D&&F.alternate===null&&e(y,D),S=s(F,S,N),L===null?P=F:L.sibling=F,L=F,D=I}if(N===A.length)return n(y,D),Zn&&Ef(y,N),P;if(D===null){for(;N<A.length;N++)D=p(y,A[N],C),D!==null&&(S=s(D,S,N),L===null?P=D:L.sibling=D,L=D);return Zn&&Ef(y,N),P}for(D=r(y,D);N<A.length;N++)I=v(D,y,N,A[N],C),I!==null&&(t&&I.alternate!==null&&D.delete(I.key===null?N:I.key),S=s(I,S,N),L===null?P=I:L.sibling=I,L=I);return t&&D.forEach(function(W){return e(y,W)}),Zn&&Ef(y,N),P}function E(y,S,A,C){var P=tg(A);if(typeof P!="function")throw Error(Xe(150));if(A=P.call(A),A==null)throw Error(Xe(151));for(var L=P=null,D=S,N=S=0,I=null,F=A.next();D!==null&&!F.done;N++,F=A.next()){D.index>N?(I=D,D=null):I=D.sibling;var W=g(y,D,F.value,C);if(W===null){D===null&&(D=I);break}t&&D&&W.alternate===null&&e(y,D),S=s(W,S,N),L===null?P=W:L.sibling=W,L=W,D=I}if(F.done)return n(y,D),Zn&&Ef(y,N),P;if(D===null){for(;!F.done;N++,F=A.next())F=p(y,F.value,C),F!==null&&(S=s(F,S,N),L===null?P=F:L.sibling=F,L=F);return Zn&&Ef(y,N),P}for(D=r(y,D);!F.done;N++,F=A.next())F=v(D,y,N,F.value,C),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?N:F.key),S=s(F,S,N),L===null?P=F:L.sibling=F,L=F);return t&&D.forEach(function(ce){return e(y,ce)}),Zn&&Ef(y,N),P}function M(y,S,A,C){if(typeof A=="object"&&A!==null&&A.type===kd&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Vy:e:{for(var P=A.key,L=S;L!==null;){if(L.key===P){if(P=A.type,P===kd){if(L.tag===7){n(y,L.sibling),S=i(L,A.props.children),S.return=y,y=S;break e}}else if(L.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Uu&&I2(P)===L.type){n(y,L.sibling),S=i(L,A.props),S.ref=og(y,L,A),S.return=y,y=S;break e}n(y,L);break}else e(y,L);L=L.sibling}A.type===kd?(S=Jf(A.props.children,y.mode,C,A.key),S.return=y,y=S):(C=g_(A.type,A.key,A.props,null,y.mode,C),C.ref=og(y,S,A),C.return=y,y=C)}return o(y);case Ud:e:{for(L=A.key;S!==null;){if(S.key===L)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){n(y,S.sibling),S=i(S,A.children||[]),S.return=y,y=S;break e}else{n(y,S);break}else e(y,S);S=S.sibling}S=nM(A,y.mode,C),S.return=y,y=S}return o(y);case Uu:return L=A._init,M(y,S,L(A._payload),C)}if(Ig(A))return x(y,S,A,C);if(tg(A))return E(y,S,A,C);ex(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(n(y,S.sibling),S=i(S,A),S.return=y,y=S):(n(y,S),S=tM(A,y.mode,C),S.return=y,y=S),o(y)):n(y,S)}return M}var wp=_F(!0),AF=_F(!1),rv={},Va=Cc(rv),y0=Cc(rv),x0=Cc(rv);function Uf(t){if(t===rv)throw Error(Xe(174));return t}function RC(t,e){switch(Gn(x0,e),Gn(y0,t),Gn(Va,rv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zw(e,t)}Jn(Va),Gn(Va,e)}function Ep(){Jn(Va),Jn(y0),Jn(x0)}function SF(t){Uf(x0.current);var e=Uf(Va.current),n=zw(e,t.type);e!==n&&(Gn(y0,t),Gn(Va,n))}function PC(t){y0.current===t&&(Jn(Va),Jn(y0))}var sr=Cc(0);function Y_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var YS=[];function IC(){for(var t=0;t<YS.length;t++)YS[t]._workInProgressVersionPrimary=null;YS.length=0}var f_=Jl.ReactCurrentDispatcher,QS=Jl.ReactCurrentBatchConfig,nh=0,cr=null,Xr=null,ci=null,Q_=!1,Wg=!1,_0=0,C6=0;function Ti(){throw Error(Xe(321))}function BC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ua(t[n],e[n]))return!1;return!0}function LC(t,e,n,r,i,s){if(nh=s,cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,f_.current=t===null||t.memoizedState===null?I6:B6,t=n(r,i),Wg){s=0;do{if(Wg=!1,_0=0,25<=s)throw Error(Xe(301));s+=1,ci=Xr=null,e.updateQueue=null,f_.current=L6,t=n(r,i)}while(Wg)}if(f_.current=q_,e=Xr!==null&&Xr.next!==null,nh=0,ci=Xr=cr=null,Q_=!1,e)throw Error(Xe(300));return t}function DC(){var t=_0!==0;return _0=0,t}function Oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?cr.memoizedState=ci=t:ci=ci.next=t,ci}function Po(){if(Xr===null){var t=cr.alternate;t=t!==null?t.memoizedState:null}else t=Xr.next;var e=ci===null?cr.memoizedState:ci.next;if(e!==null)ci=e,Xr=t;else{if(t===null)throw Error(Xe(310));Xr=t,t={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},ci===null?cr.memoizedState=ci=t:ci=ci.next=t}return ci}function A0(t,e){return typeof e=="function"?e(t):e}function qS(t){var e=Po(),n=e.queue;if(n===null)throw Error(Xe(311));n.lastRenderedReducer=t;var r=Xr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((nh&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,cr.lanes|=h,rh|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ua(r,e.memoizedState)||(gs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cr.lanes|=s,rh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ZS(t){var e=Po(),n=e.queue;if(n===null)throw Error(Xe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ua(s,e.memoizedState)||(gs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MF(){}function wF(t,e){var n=cr,r=Po(),i=e(),s=!ua(r.memoizedState,i);if(s&&(r.memoizedState=i,gs=!0),r=r.queue,FC(CF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ci!==null&&ci.memoizedState.tag&1){if(n.flags|=2048,S0(9,TF.bind(null,n,r,i,e),void 0,null),hi===null)throw Error(Xe(349));nh&30||EF(n,e,i)}return i}function EF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TF(t,e,n,r){e.value=n,e.getSnapshot=r,bF(e)&&RF(t)}function CF(t,e,n){return n(function(){bF(e)&&RF(t)})}function bF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ua(t,n)}catch{return!0}}function RF(t){var e=Gl(t,1);e!==null&&aa(e,t,1,-1)}function B2(t){var e=Oa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:t},e.queue=t,t=t.dispatch=P6.bind(null,cr,t),[e.memoizedState,t]}function S0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PF(){return Po().memoizedState}function h_(t,e,n,r){var i=Oa();cr.flags|=t,i.memoizedState=S0(1|e,n,void 0,r===void 0?null:r)}function FA(t,e,n,r){var i=Po();r=r===void 0?null:r;var s=void 0;if(Xr!==null){var o=Xr.memoizedState;if(s=o.destroy,r!==null&&BC(r,o.deps)){i.memoizedState=S0(e,n,s,r);return}}cr.flags|=t,i.memoizedState=S0(1|e,n,s,r)}function L2(t,e){return h_(8390656,8,t,e)}function FC(t,e){return FA(2048,8,t,e)}function IF(t,e){return FA(4,2,t,e)}function BF(t,e){return FA(4,4,t,e)}function LF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DF(t,e,n){return n=n!=null?n.concat([t]):null,FA(4,4,LF.bind(null,e,t),n)}function OC(){}function FF(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OF(t,e){var n=Po();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function NF(t,e,n){return nh&21?(ua(n,e)||(n=H3(),cr.lanes|=n,rh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gs=!0),t.memoizedState=n)}function b6(t,e){var n=Pn;Pn=n!==0&&4>n?n:4,t(!0);var r=QS.transition;QS.transition={};try{t(!1),e()}finally{Pn=n,QS.transition=r}}function UF(){return Po().memoizedState}function R6(t,e,n){var r=ic(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kF(t))HF(e,n);else if(n=gF(t,e,n,r),n!==null){var i=Qi();aa(n,t,r,i),zF(n,e,r)}}function P6(t,e,n){var r=ic(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kF(t))HF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ua(a,o)){var l=e.interleaved;l===null?(i.next=i,CC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=gF(t,e,i,r),n!==null&&(i=Qi(),aa(n,t,r,i),zF(n,e,r))}}function kF(t){var e=t.alternate;return t===cr||e!==null&&e===cr}function HF(t,e){Wg=Q_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function zF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dC(t,n)}}var q_={readContext:Ro,useCallback:Ti,useContext:Ti,useEffect:Ti,useImperativeHandle:Ti,useInsertionEffect:Ti,useLayoutEffect:Ti,useMemo:Ti,useReducer:Ti,useRef:Ti,useState:Ti,useDebugValue:Ti,useDeferredValue:Ti,useTransition:Ti,useMutableSource:Ti,useSyncExternalStore:Ti,useId:Ti,unstable_isNewReconciler:!1},I6={readContext:Ro,useCallback:function(t,e){return Oa().memoizedState=[t,e===void 0?null:e],t},useContext:Ro,useEffect:L2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,h_(4194308,4,LF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return h_(4194308,4,t,e)},useInsertionEffect:function(t,e){return h_(4,2,t,e)},useMemo:function(t,e){var n=Oa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Oa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R6.bind(null,cr,t),[r.memoizedState,t]},useRef:function(t){var e=Oa();return t={current:t},e.memoizedState=t},useState:B2,useDebugValue:OC,useDeferredValue:function(t){return Oa().memoizedState=t},useTransition:function(){var t=B2(!1),e=t[0];return t=b6.bind(null,t[1]),Oa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cr,i=Oa();if(Zn){if(n===void 0)throw Error(Xe(407));n=n()}else{if(n=e(),hi===null)throw Error(Xe(349));nh&30||EF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,L2(CF.bind(null,r,s,t),[t]),r.flags|=2048,S0(9,TF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Oa(),e=hi.identifierPrefix;if(Zn){var n=Bl,r=Il;n=(r&~(1<<32-oa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=C6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},B6={readContext:Ro,useCallback:FF,useContext:Ro,useEffect:FC,useImperativeHandle:DF,useInsertionEffect:IF,useLayoutEffect:BF,useMemo:OF,useReducer:qS,useRef:PF,useState:function(){return qS(A0)},useDebugValue:OC,useDeferredValue:function(t){var e=Po();return NF(e,Xr.memoizedState,t)},useTransition:function(){var t=qS(A0)[0],e=Po().memoizedState;return[t,e]},useMutableSource:MF,useSyncExternalStore:wF,useId:UF,unstable_isNewReconciler:!1},L6={readContext:Ro,useCallback:FF,useContext:Ro,useEffect:FC,useImperativeHandle:DF,useInsertionEffect:IF,useLayoutEffect:BF,useMemo:OF,useReducer:ZS,useRef:PF,useState:function(){return ZS(A0)},useDebugValue:OC,useDeferredValue:function(t){var e=Po();return Xr===null?e.memoizedState=t:NF(e,Xr.memoizedState,t)},useTransition:function(){var t=ZS(A0)[0],e=Po().memoizedState;return[t,e]},useMutableSource:MF,useSyncExternalStore:wF,useId:UF,unstable_isNewReconciler:!1};function Tp(t,e){try{var n="",r=e;do n+=a8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $S(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function cE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var D6=typeof WeakMap=="function"?WeakMap:Map;function GF(t,e,n){n=Ol(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$_||($_=!0,_E=r),cE(t,e)},n}function VF(t,e,n){n=Ol(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){cE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cE(t,e),typeof r!="function"&&(rc===null?rc=new Set([this]):rc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D2(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new D6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=K6.bind(null,t,e,n),e.then(t,t))}function F2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O2(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ol(-1,1),e.tag=2,nc(n,e,1))),n.lanes|=1),t)}var F6=Jl.ReactCurrentOwner,gs=!1;function Ki(t,e,n,r){e.child=t===null?AF(e,null,n,r):wp(e,t.child,n,r)}function N2(t,e,n,r,i){n=n.render;var s=e.ref;return up(e,i),r=LC(t,e,n,r,s,i),n=DC(),t!==null&&!gs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vl(t,e,i)):(Zn&&n&&AC(e),e.flags|=1,Ki(t,e,r,i),e.child)}function U2(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!WC(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,WF(t,e,s,r,i)):(t=g_(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:p0,n(o,r)&&t.ref===e.ref)return Vl(t,e,i)}return e.flags|=1,t=sc(s,r),t.ref=e.ref,t.return=e,e.child=t}function WF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(p0(s,r)&&t.ref===e.ref)if(gs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(gs=!0);else return e.lanes=t.lanes,Vl(t,e,i)}return fE(t,e,n,r,i)}function jF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Yd,Us),Us|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Gn(Yd,Us),Us|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Gn(Yd,Us),Us|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Gn(Yd,Us),Us|=r;return Ki(t,e,i,n),e.child}function XF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fE(t,e,n,r,i){var s=ys(n)?eh:Di.current;return s=Sp(e,s),up(e,i),n=LC(t,e,n,r,s,i),r=DC(),t!==null&&!gs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vl(t,e,i)):(Zn&&r&&AC(e),e.flags|=1,Ki(t,e,n,i),e.child)}function k2(t,e,n,r,i){if(ys(n)){var s=!0;V_(e)}else s=!1;if(up(e,i),e.stateNode===null)d_(t,e),xF(e,n,r),uE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ro(u):(u=ys(n)?eh:Di.current,u=Sp(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&P2(e,o,r,u),ku=!1;var g=e.memoizedState;o.state=g,K_(e,r,o,i),l=e.memoizedState,a!==r||g!==l||vs.current||ku?(typeof h=="function"&&(lE(e,n,h,r),l=e.memoizedState),(a=ku||R2(e,n,a,r,g,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,vF(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qo(e.type,a),o.props=u,p=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ro(l):(l=ys(n)?eh:Di.current,l=Sp(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||g!==l)&&P2(e,o,r,l),ku=!1,g=e.memoizedState,o.state=g,K_(e,r,o,i);var x=e.memoizedState;a!==p||g!==x||vs.current||ku?(typeof v=="function"&&(lE(e,n,v,r),x=e.memoizedState),(u=ku||R2(e,n,u,r,g,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return hE(t,e,n,r,s,i)}function hE(t,e,n,r,i,s){XF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&w2(e,n,!1),Vl(t,e,s);r=e.stateNode,F6.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wp(e,t.child,null,s),e.child=wp(e,null,a,s)):Ki(t,e,a,s),e.memoizedState=r.state,i&&w2(e,n,!0),e.child}function JF(t){var e=t.stateNode;e.pendingContext?M2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&M2(t,e.context,!1),RC(t,e.containerInfo)}function H2(t,e,n,r,i){return Mp(),MC(i),e.flags|=256,Ki(t,e,n,r),e.child}var dE={dehydrated:null,treeContext:null,retryLane:0};function pE(t){return{baseLanes:t,cachePool:null,transitions:null}}function KF(t,e,n){var r=e.pendingProps,i=sr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Gn(sr,i&1),t===null)return oE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=UA(o,r,0,null),t=Jf(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=pE(n),e.memoizedState=dE,t):NC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return O6(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=sc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=sc(a,s):(s=Jf(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?pE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dE,r}return s=t.child,t=s.sibling,r=sc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function NC(t,e){return e=UA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tx(t,e,n,r){return r!==null&&MC(r),wp(e,t.child,null,n),t=NC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O6(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=$S(Error(Xe(422))),tx(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=UA({mode:"visible",children:r.children},i,0,null),s=Jf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wp(e,t.child,null,o),e.child.memoizedState=pE(o),e.memoizedState=dE,s);if(!(e.mode&1))return tx(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Xe(419)),r=$S(s,r,void 0),tx(t,e,o,r)}if(a=(o&t.childLanes)!==0,gs||a){if(r=hi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gl(t,i),aa(r,t,i,-1))}return VC(),r=$S(Error(Xe(421))),tx(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Y6.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ks=tc(i.nextSibling),Gs=e,Zn=!0,ea=null,t!==null&&(Ao[So++]=Il,Ao[So++]=Bl,Ao[So++]=th,Il=t.id,Bl=t.overflow,th=e),e=NC(e,r.children),e.flags|=4096,e)}function z2(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aE(t.return,e,n)}function eM(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function YF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ki(t,e,r.children,n),r=sr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&z2(t,n,e);else if(t.tag===19)z2(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Gn(sr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Y_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eM(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Y_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eM(e,!0,n,null,s);break;case"together":eM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function d_(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Xe(153));if(e.child!==null){for(t=e.child,n=sc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function N6(t,e,n){switch(e.tag){case 3:JF(e),Mp();break;case 5:SF(e);break;case 1:ys(e.type)&&V_(e);break;case 4:RC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Gn(X_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Gn(sr,sr.current&1),e.flags|=128,null):n&e.child.childLanes?KF(t,e,n):(Gn(sr,sr.current&1),t=Vl(t,e,n),t!==null?t.sibling:null);Gn(sr,sr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Gn(sr,sr.current),r)break;return null;case 22:case 23:return e.lanes=0,jF(t,e,n)}return Vl(t,e,n)}var QF,mE,qF,ZF;QF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mE=function(){};qF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Uf(Va.current);var s=null;switch(n){case"input":i=Nw(t,i),r=Nw(t,r),s=[];break;case"select":i=fr({},i,{value:void 0}),r=fr({},r,{value:void 0}),s=[];break;case"textarea":i=Hw(t,i),r=Hw(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=z_)}Gw(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(a0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(a0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Wn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ZF=function(t,e,n,r){n!==r&&(e.flags|=4)};function ag(t,e){if(!Zn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ci(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function U6(t,e,n){var r=e.pendingProps;switch(SC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ci(e),null;case 1:return ys(e.type)&&G_(),Ci(e),null;case 3:return r=e.stateNode,Ep(),Jn(vs),Jn(Di),IC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($y(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(ME(ea),ea=null))),mE(t,e),Ci(e),null;case 5:PC(e);var i=Uf(x0.current);if(n=e.type,t!==null&&e.stateNode!=null)qF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Xe(166));return Ci(e),null}if(t=Uf(Va.current),$y(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ka]=e,r[v0]=s,t=(e.mode&1)!==0,n){case"dialog":Wn("cancel",r),Wn("close",r);break;case"iframe":case"object":case"embed":Wn("load",r);break;case"video":case"audio":for(i=0;i<Lg.length;i++)Wn(Lg[i],r);break;case"source":Wn("error",r);break;case"img":case"image":case"link":Wn("error",r),Wn("load",r);break;case"details":Wn("toggle",r);break;case"input":QP(r,s),Wn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Wn("invalid",r);break;case"textarea":ZP(r,s),Wn("invalid",r)}Gw(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Zy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Zy(r.textContent,a,t),i=["children",""+a]):a0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Wn("scroll",r)}switch(n){case"input":Wy(r),qP(r,s,!0);break;case"textarea":Wy(r),$P(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=z_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E3(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ka]=e,t[v0]=r,QF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vw(n,r),n){case"dialog":Wn("cancel",t),Wn("close",t),i=r;break;case"iframe":case"object":case"embed":Wn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Lg.length;i++)Wn(Lg[i],t);i=r;break;case"source":Wn("error",t),i=r;break;case"img":case"image":case"link":Wn("error",t),Wn("load",t),i=r;break;case"details":Wn("toggle",t),i=r;break;case"input":QP(t,r),i=Nw(t,r),Wn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=fr({},r,{value:void 0}),Wn("invalid",t);break;case"textarea":ZP(t,r),i=Hw(t,r),Wn("invalid",t);break;default:i=r}Gw(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?b3(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&T3(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&l0(t,l):typeof l=="number"&&l0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(a0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Wn("scroll",t):l!=null&&aC(t,s,l,o))}switch(n){case"input":Wy(t),qP(t,r,!1);break;case"textarea":Wy(t),$P(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?sp(t,!!r.multiple,s,!1):r.defaultValue!=null&&sp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=z_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ci(e),null;case 6:if(t&&e.stateNode!=null)ZF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Xe(166));if(n=Uf(x0.current),Uf(Va.current),$y(e)){if(r=e.stateNode,n=e.memoizedProps,r[ka]=e,(s=r.nodeValue!==n)&&(t=Gs,t!==null))switch(t.tag){case 3:Zy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ka]=e,e.stateNode=r}return Ci(e),null;case 13:if(Jn(sr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Zn&&ks!==null&&e.mode&1&&!(e.flags&128))mF(),Mp(),e.flags|=98560,s=!1;else if(s=$y(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Xe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Xe(317));s[ka]=e}else Mp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ci(e),s=!1}else ea!==null&&(ME(ea),ea=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||sr.current&1?Jr===0&&(Jr=3):VC())),e.updateQueue!==null&&(e.flags|=4),Ci(e),null);case 4:return Ep(),mE(t,e),t===null&&m0(e.stateNode.containerInfo),Ci(e),null;case 10:return TC(e.type._context),Ci(e),null;case 17:return ys(e.type)&&G_(),Ci(e),null;case 19:if(Jn(sr),s=e.memoizedState,s===null)return Ci(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ag(s,!1);else{if(Jr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Y_(t),o!==null){for(e.flags|=128,ag(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Gn(sr,sr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ir()>Cp&&(e.flags|=128,r=!0,ag(s,!1),e.lanes=4194304)}else{if(!r)if(t=Y_(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ag(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Zn)return Ci(e),null}else 2*Ir()-s.renderingStartTime>Cp&&n!==1073741824&&(e.flags|=128,r=!0,ag(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ir(),e.sibling=null,n=sr.current,Gn(sr,r?n&1|2:n&1),e):(Ci(e),null);case 22:case 23:return GC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Us&1073741824&&(Ci(e),e.subtreeFlags&6&&(e.flags|=8192)):Ci(e),null;case 24:return null;case 25:return null}throw Error(Xe(156,e.tag))}function k6(t,e){switch(SC(e),e.tag){case 1:return ys(e.type)&&G_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ep(),Jn(vs),Jn(Di),IC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return PC(e),null;case 13:if(Jn(sr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Xe(340));Mp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Jn(sr),null;case 4:return Ep(),null;case 10:return TC(e.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var nx=!1,Bi=!1,H6=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Kd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(t,e,r)}else n.current=null}function gE(t,e,n){try{n()}catch(r){xr(t,e,r)}}var G2=!1;function z6(t,e){if($w=U_,t=nF(),_C(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++h===r&&(l=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(eE={focusedElem:t,selectionRange:n},U_=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){e=ht;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var E=x.memoizedProps,M=x.memoizedState,y=e.stateNode,S=y.getSnapshotBeforeUpdate(e.elementType===e.type?E:Qo(e.type,E),M);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(C){xr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}return x=G2,G2=!1,x}function jg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&gE(e,n,s)}i=i.next}while(i!==r)}}function OA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $F(t){var e=t.alternate;e!==null&&(t.alternate=null,$F(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ka],delete e[v0],delete e[rE],delete e[M6],delete e[w6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eO(t){return t.tag===5||t.tag===3||t.tag===4}function V2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eO(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=z_));else if(r!==4&&(t=t.child,t!==null))for(yE(t,e,n),t=t.sibling;t!==null;)yE(t,e,n),t=t.sibling}function xE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xE(t,e,n),t=t.sibling;t!==null;)xE(t,e,n),t=t.sibling}var vi=null,$o=!1;function Ru(t,e,n){for(n=n.child;n!==null;)tO(t,e,n),n=n.sibling}function tO(t,e,n){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(bA,n)}catch{}switch(n.tag){case 5:Bi||Kd(n,e);case 6:var r=vi,i=$o;vi=null,Ru(t,e,n),vi=r,$o=i,vi!==null&&($o?(t=vi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):vi.removeChild(n.stateNode));break;case 18:vi!==null&&($o?(t=vi,n=n.stateNode,t.nodeType===8?JS(t.parentNode,n):t.nodeType===1&&JS(t,n),h0(t)):JS(vi,n.stateNode));break;case 4:r=vi,i=$o,vi=n.stateNode.containerInfo,$o=!0,Ru(t,e,n),vi=r,$o=i;break;case 0:case 11:case 14:case 15:if(!Bi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&gE(n,e,o),i=i.next}while(i!==r)}Ru(t,e,n);break;case 1:if(!Bi&&(Kd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xr(n,e,a)}Ru(t,e,n);break;case 21:Ru(t,e,n);break;case 22:n.mode&1?(Bi=(r=Bi)||n.memoizedState!==null,Ru(t,e,n),Bi=r):Ru(t,e,n);break;default:Ru(t,e,n)}}function W2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H6),e.forEach(function(r){var i=Q6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:vi=a.stateNode,$o=!1;break e;case 3:vi=a.stateNode.containerInfo,$o=!0;break e;case 4:vi=a.stateNode.containerInfo,$o=!0;break e}a=a.return}if(vi===null)throw Error(Xe(160));tO(s,o,i),vi=null,$o=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nO(e,t),e=e.sibling}function nO(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jo(e,t),Fa(t),r&4){try{jg(3,t,t.return),OA(3,t)}catch(E){xr(t,t.return,E)}try{jg(5,t,t.return)}catch(E){xr(t,t.return,E)}}break;case 1:jo(e,t),Fa(t),r&512&&n!==null&&Kd(n,n.return);break;case 5:if(jo(e,t),Fa(t),r&512&&n!==null&&Kd(n,n.return),t.flags&32){var i=t.stateNode;try{l0(i,"")}catch(E){xr(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&M3(i,s),Vw(a,o);var u=Vw(a,s);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?b3(i,p):h==="dangerouslySetInnerHTML"?T3(i,p):h==="children"?l0(i,p):aC(i,h,p,u)}switch(a){case"input":Uw(i,s);break;case"textarea":w3(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?sp(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?sp(i,!!s.multiple,s.defaultValue,!0):sp(i,!!s.multiple,s.multiple?[]:"",!1))}i[v0]=s}catch(E){xr(t,t.return,E)}}break;case 6:if(jo(e,t),Fa(t),r&4){if(t.stateNode===null)throw Error(Xe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){xr(t,t.return,E)}}break;case 3:if(jo(e,t),Fa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{h0(e.containerInfo)}catch(E){xr(t,t.return,E)}break;case 4:jo(e,t),Fa(t);break;case 13:jo(e,t),Fa(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HC=Ir())),r&4&&W2(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Bi=(u=Bi)||h,jo(e,t),Bi=u):jo(e,t),Fa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ht=t,h=t.child;h!==null;){for(p=ht=h;ht!==null;){switch(g=ht,v=g.child,g.tag){case 0:case 11:case 14:case 15:jg(4,g,g.return);break;case 1:Kd(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(E){xr(r,n,E)}}break;case 5:Kd(g,g.return);break;case 22:if(g.memoizedState!==null){X2(p);continue}}v!==null?(v.return=g,ht=v):X2(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=C3("display",o))}catch(E){xr(t,t.return,E)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(E){xr(t,t.return,E)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:jo(e,t),Fa(t),r&4&&W2(t);break;case 21:break;default:jo(e,t),Fa(t)}}function Fa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eO(n)){var r=n;break e}n=n.return}throw Error(Xe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(l0(i,""),r.flags&=-33);var s=V2(t);xE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=V2(t);yE(t,a,o);break;default:throw Error(Xe(161))}}catch(l){xr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function G6(t,e,n){ht=t,rO(t)}function rO(t,e,n){for(var r=(t.mode&1)!==0;ht!==null;){var i=ht,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||nx;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Bi;a=nx;var u=Bi;if(nx=o,(Bi=l)&&!u)for(ht=i;ht!==null;)o=ht,l=o.child,o.tag===22&&o.memoizedState!==null?J2(i):l!==null?(l.return=o,ht=l):J2(i);for(;s!==null;)ht=s,rO(s),s=s.sibling;ht=i,nx=a,Bi=u}j2(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ht=s):j2(t)}}function j2(t){for(;ht!==null;){var e=ht;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bi||OA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&b2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}b2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&h0(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}Bi||e.flags&512&&vE(e)}catch(g){xr(e,e.return,g)}}if(e===t){ht=null;break}if(n=e.sibling,n!==null){n.return=e.return,ht=n;break}ht=e.return}}function X2(t){for(;ht!==null;){var e=ht;if(e===t){ht=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ht=n;break}ht=e.return}}function J2(t){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{OA(4,e)}catch(l){xr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xr(e,i,l)}}var s=e.return;try{vE(e)}catch(l){xr(e,s,l)}break;case 5:var o=e.return;try{vE(e)}catch(l){xr(e,o,l)}}}catch(l){xr(e,e.return,l)}if(e===t){ht=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ht=a;break}ht=e.return}}var V6=Math.ceil,Z_=Jl.ReactCurrentDispatcher,UC=Jl.ReactCurrentOwner,bo=Jl.ReactCurrentBatchConfig,Sn=0,hi=null,kr=null,xi=0,Us=0,Yd=Cc(0),Jr=0,M0=null,rh=0,NA=0,kC=0,Xg=null,ds=null,HC=0,Cp=1/0,El=null,$_=!1,_E=null,rc=null,rx=!1,Xu=null,eA=0,Jg=0,AE=null,p_=-1,m_=0;function Qi(){return Sn&6?Ir():p_!==-1?p_:p_=Ir()}function ic(t){return t.mode&1?Sn&2&&xi!==0?xi&-xi:T6.transition!==null?(m_===0&&(m_=H3()),m_):(t=Pn,t!==0||(t=window.event,t=t===void 0?16:J3(t.type)),t):1}function aa(t,e,n,r){if(50<Jg)throw Jg=0,AE=null,Error(Xe(185));ev(t,n,r),(!(Sn&2)||t!==hi)&&(t===hi&&(!(Sn&2)&&(NA|=n),Jr===4&&Vu(t,xi)),xs(t,r),n===1&&Sn===0&&!(e.mode&1)&&(Cp=Ir()+500,LA&&bc()))}function xs(t,e){var n=t.callbackNode;T8(t,e);var r=N_(t,t===hi?xi:0);if(r===0)n!==null&&n2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n2(n),e===1)t.tag===0?E6(K2.bind(null,t)):hF(K2.bind(null,t)),A6(function(){!(Sn&6)&&bc()}),n=null;else{switch(z3(r)){case 1:n=hC;break;case 4:n=U3;break;case 16:n=O_;break;case 536870912:n=k3;break;default:n=O_}n=fO(n,iO.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iO(t,e){if(p_=-1,m_=0,Sn&6)throw Error(Xe(327));var n=t.callbackNode;if(cp()&&t.callbackNode!==n)return null;var r=N_(t,t===hi?xi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tA(t,r);else{e=r;var i=Sn;Sn|=2;var s=oO();(hi!==t||xi!==e)&&(El=null,Cp=Ir()+500,Xf(t,e));do try{X6();break}catch(a){sO(t,a)}while(!0);EC(),Z_.current=s,Sn=i,kr!==null?e=0:(hi=null,xi=0,e=Jr)}if(e!==0){if(e===2&&(i=Kw(t),i!==0&&(r=i,e=SE(t,i))),e===1)throw n=M0,Xf(t,0),Vu(t,r),xs(t,Ir()),n;if(e===6)Vu(t,r);else{if(i=t.current.alternate,!(r&30)&&!W6(i)&&(e=tA(t,r),e===2&&(s=Kw(t),s!==0&&(r=s,e=SE(t,s))),e===1))throw n=M0,Xf(t,0),Vu(t,r),xs(t,Ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Xe(345));case 2:Tf(t,ds,El);break;case 3:if(Vu(t,r),(r&130023424)===r&&(e=HC+500-Ir(),10<e)){if(N_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=nE(Tf.bind(null,t,ds,El),e);break}Tf(t,ds,El);break;case 4:if(Vu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-oa(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*V6(r/1960))-r,10<r){t.timeoutHandle=nE(Tf.bind(null,t,ds,El),r);break}Tf(t,ds,El);break;case 5:Tf(t,ds,El);break;default:throw Error(Xe(329))}}}return xs(t,Ir()),t.callbackNode===n?iO.bind(null,t):null}function SE(t,e){var n=Xg;return t.current.memoizedState.isDehydrated&&(Xf(t,e).flags|=256),t=tA(t,e),t!==2&&(e=ds,ds=n,e!==null&&ME(e)),t}function ME(t){ds===null?ds=t:ds.push.apply(ds,t)}function W6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ua(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vu(t,e){for(e&=~kC,e&=~NA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oa(e),r=1<<n;t[n]=-1,e&=~r}}function K2(t){if(Sn&6)throw Error(Xe(327));cp();var e=N_(t,0);if(!(e&1))return xs(t,Ir()),null;var n=tA(t,e);if(t.tag!==0&&n===2){var r=Kw(t);r!==0&&(e=r,n=SE(t,r))}if(n===1)throw n=M0,Xf(t,0),Vu(t,e),xs(t,Ir()),n;if(n===6)throw Error(Xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tf(t,ds,El),xs(t,Ir()),null}function zC(t,e){var n=Sn;Sn|=1;try{return t(e)}finally{Sn=n,Sn===0&&(Cp=Ir()+500,LA&&bc())}}function ih(t){Xu!==null&&Xu.tag===0&&!(Sn&6)&&cp();var e=Sn;Sn|=1;var n=bo.transition,r=Pn;try{if(bo.transition=null,Pn=1,t)return t()}finally{Pn=r,bo.transition=n,Sn=e,!(Sn&6)&&bc()}}function GC(){Us=Yd.current,Jn(Yd)}function Xf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_6(n)),kr!==null)for(n=kr.return;n!==null;){var r=n;switch(SC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&G_();break;case 3:Ep(),Jn(vs),Jn(Di),IC();break;case 5:PC(r);break;case 4:Ep();break;case 13:Jn(sr);break;case 19:Jn(sr);break;case 10:TC(r.type._context);break;case 22:case 23:GC()}n=n.return}if(hi=t,kr=t=sc(t.current,null),xi=Us=e,Jr=0,M0=null,kC=NA=rh=0,ds=Xg=null,Nf!==null){for(e=0;e<Nf.length;e++)if(n=Nf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nf=null}return t}function sO(t,e){do{var n=kr;try{if(EC(),f_.current=q_,Q_){for(var r=cr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Q_=!1}if(nh=0,ci=Xr=cr=null,Wg=!1,_0=0,UC.current=null,n===null||n.return===null){Jr=1,M0=e,kr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=xi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=F2(o);if(v!==null){v.flags&=-257,O2(v,o,a,s,e),v.mode&1&&D2(s,u,e),e=v,l=u;var x=e.updateQueue;if(x===null){var E=new Set;E.add(l),e.updateQueue=E}else x.add(l);break e}else{if(!(e&1)){D2(s,u,e),VC();break e}l=Error(Xe(426))}}else if(Zn&&a.mode&1){var M=F2(o);if(M!==null){!(M.flags&65536)&&(M.flags|=256),O2(M,o,a,s,e),MC(Tp(l,a));break e}}s=l=Tp(l,a),Jr!==4&&(Jr=2),Xg===null?Xg=[s]:Xg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=GF(s,l,e);C2(s,y);break e;case 1:a=l;var S=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(rc===null||!rc.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=VF(s,a,e);C2(s,C);break e}}s=s.return}while(s!==null)}lO(n)}catch(P){e=P,kr===n&&n!==null&&(kr=n=n.return);continue}break}while(!0)}function oO(){var t=Z_.current;return Z_.current=q_,t===null?q_:t}function VC(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),hi===null||!(rh&268435455)&&!(NA&268435455)||Vu(hi,xi)}function tA(t,e){var n=Sn;Sn|=2;var r=oO();(hi!==t||xi!==e)&&(El=null,Xf(t,e));do try{j6();break}catch(i){sO(t,i)}while(!0);if(EC(),Sn=n,Z_.current=r,kr!==null)throw Error(Xe(261));return hi=null,xi=0,Jr}function j6(){for(;kr!==null;)aO(kr)}function X6(){for(;kr!==null&&!v8();)aO(kr)}function aO(t){var e=cO(t.alternate,t,Us);t.memoizedProps=t.pendingProps,e===null?lO(t):kr=e,UC.current=null}function lO(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=k6(n,e),n!==null){n.flags&=32767,kr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Jr=6,kr=null;return}}else if(n=U6(n,e,Us),n!==null){kr=n;return}if(e=e.sibling,e!==null){kr=e;return}kr=e=t}while(e!==null);Jr===0&&(Jr=5)}function Tf(t,e,n){var r=Pn,i=bo.transition;try{bo.transition=null,Pn=1,J6(t,e,n,r)}finally{bo.transition=i,Pn=r}return null}function J6(t,e,n,r){do cp();while(Xu!==null);if(Sn&6)throw Error(Xe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Xe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(C8(t,s),t===hi&&(kr=hi=null,xi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rx||(rx=!0,fO(O_,function(){return cp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bo.transition,bo.transition=null;var o=Pn;Pn=1;var a=Sn;Sn|=4,UC.current=null,z6(t,n),nO(n,t),d6(eE),U_=!!$w,eE=$w=null,t.current=n,G6(n),y8(),Sn=a,Pn=o,bo.transition=s}else t.current=n;if(rx&&(rx=!1,Xu=t,eA=i),s=t.pendingLanes,s===0&&(rc=null),A8(n.stateNode),xs(t,Ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($_)throw $_=!1,t=_E,_E=null,t;return eA&1&&t.tag!==0&&cp(),s=t.pendingLanes,s&1?t===AE?Jg++:(Jg=0,AE=t):Jg=0,bc(),null}function cp(){if(Xu!==null){var t=z3(eA),e=bo.transition,n=Pn;try{if(bo.transition=null,Pn=16>t?16:t,Xu===null)var r=!1;else{if(t=Xu,Xu=null,eA=0,Sn&6)throw Error(Xe(331));var i=Sn;for(Sn|=4,ht=t.current;ht!==null;){var s=ht,o=s.child;if(ht.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ht=u;ht!==null;){var h=ht;switch(h.tag){case 0:case 11:case 15:jg(8,h,s)}var p=h.child;if(p!==null)p.return=h,ht=p;else for(;ht!==null;){h=ht;var g=h.sibling,v=h.return;if($F(h),h===u){ht=null;break}if(g!==null){g.return=v,ht=g;break}ht=v}}}var x=s.alternate;if(x!==null){var E=x.child;if(E!==null){x.child=null;do{var M=E.sibling;E.sibling=null,E=M}while(E!==null)}}ht=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ht=o;else e:for(;ht!==null;){if(s=ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jg(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ht=y;break e}ht=s.return}}var S=t.current;for(ht=S;ht!==null;){o=ht;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ht=A;else e:for(o=S;ht!==null;){if(a=ht,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:OA(9,a)}}catch(P){xr(a,a.return,P)}if(a===o){ht=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,ht=C;break e}ht=a.return}}if(Sn=i,bc(),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(bA,t)}catch{}r=!0}return r}finally{Pn=n,bo.transition=e}}return!1}function Y2(t,e,n){e=Tp(n,e),e=GF(t,e,1),t=nc(t,e,1),e=Qi(),t!==null&&(ev(t,1,e),xs(t,e))}function xr(t,e,n){if(t.tag===3)Y2(t,t,n);else for(;e!==null;){if(e.tag===3){Y2(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rc===null||!rc.has(r))){t=Tp(n,t),t=VF(e,t,1),e=nc(e,t,1),t=Qi(),e!==null&&(ev(e,1,t),xs(e,t));break}}e=e.return}}function K6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qi(),t.pingedLanes|=t.suspendedLanes&n,hi===t&&(xi&n)===n&&(Jr===4||Jr===3&&(xi&130023424)===xi&&500>Ir()-HC?Xf(t,0):kC|=n),xs(t,e)}function uO(t,e){e===0&&(t.mode&1?(e=Jy,Jy<<=1,!(Jy&130023424)&&(Jy=4194304)):e=1);var n=Qi();t=Gl(t,e),t!==null&&(ev(t,e,n),xs(t,n))}function Y6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uO(t,n)}function Q6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Xe(314))}r!==null&&r.delete(e),uO(t,n)}var cO;cO=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vs.current)gs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gs=!1,N6(t,e,n);gs=!!(t.flags&131072)}else gs=!1,Zn&&e.flags&1048576&&dF(e,j_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;d_(t,e),t=e.pendingProps;var i=Sp(e,Di.current);up(e,n),i=LC(null,e,r,t,i,n);var s=DC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ys(r)?(s=!0,V_(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bC(e),i.updater=DA,e.stateNode=i,i._reactInternals=e,uE(e,r,t,n),e=hE(null,e,r,!0,s,n)):(e.tag=0,Zn&&s&&AC(e),Ki(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(d_(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Z6(r),t=Qo(r,t),i){case 0:e=fE(null,e,r,t,n);break e;case 1:e=k2(null,e,r,t,n);break e;case 11:e=N2(null,e,r,t,n);break e;case 14:e=U2(null,e,r,Qo(r.type,t),n);break e}throw Error(Xe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),fE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),k2(t,e,r,i,n);case 3:e:{if(JF(e),t===null)throw Error(Xe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,vF(t,e),K_(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tp(Error(Xe(423)),e),e=H2(t,e,r,n,i);break e}else if(r!==i){i=Tp(Error(Xe(424)),e),e=H2(t,e,r,n,i);break e}else for(ks=tc(e.stateNode.containerInfo.firstChild),Gs=e,Zn=!0,ea=null,n=AF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mp(),r===i){e=Vl(t,e,n);break e}Ki(t,e,r,n)}e=e.child}return e;case 5:return SF(e),t===null&&oE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,tE(r,i)?o=null:s!==null&&tE(r,s)&&(e.flags|=32),XF(t,e),Ki(t,e,o,n),e.child;case 6:return t===null&&oE(e),null;case 13:return KF(t,e,n);case 4:return RC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wp(e,null,r,n):Ki(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),N2(t,e,r,i,n);case 7:return Ki(t,e,e.pendingProps,n),e.child;case 8:return Ki(t,e,e.pendingProps.children,n),e.child;case 12:return Ki(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Gn(X_,r._currentValue),r._currentValue=o,s!==null)if(ua(s.value,o)){if(s.children===i.children&&!vs.current){e=Vl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ol(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),aE(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Xe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),aE(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ki(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,up(e,n),i=Ro(i),r=r(i),e.flags|=1,Ki(t,e,r,n),e.child;case 14:return r=e.type,i=Qo(r,e.pendingProps),i=Qo(r.type,i),U2(t,e,r,i,n);case 15:return WF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),d_(t,e),e.tag=1,ys(r)?(t=!0,V_(e)):t=!1,up(e,n),xF(e,r,i),uE(e,r,i,n),hE(null,e,r,!0,t,n);case 19:return YF(t,e,n);case 22:return jF(t,e,n)}throw Error(Xe(156,e.tag))};function fO(t,e){return N3(t,e)}function q6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function To(t,e,n,r){return new q6(t,e,n,r)}function WC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z6(t){if(typeof t=="function")return WC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uC)return 11;if(t===cC)return 14}return 2}function sc(t,e){var n=t.alternate;return n===null?(n=To(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function g_(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")WC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kd:return Jf(n.children,i,s,e);case lC:o=8,i|=8;break;case Lw:return t=To(12,n,e,i|2),t.elementType=Lw,t.lanes=s,t;case Dw:return t=To(13,n,e,i),t.elementType=Dw,t.lanes=s,t;case Fw:return t=To(19,n,e,i),t.elementType=Fw,t.lanes=s,t;case _3:return UA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case y3:o=10;break e;case x3:o=9;break e;case uC:o=11;break e;case cC:o=14;break e;case Uu:o=16,r=null;break e}throw Error(Xe(130,t==null?t:typeof t,""))}return e=To(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Jf(t,e,n,r){return t=To(7,t,r,e),t.lanes=n,t}function UA(t,e,n,r){return t=To(22,t,r,e),t.elementType=_3,t.lanes=n,t.stateNode={isHidden:!1},t}function tM(t,e,n){return t=To(6,t,null,e),t.lanes=n,t}function nM(t,e,n){return e=To(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=OS(0),this.expirationTimes=OS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jC(t,e,n,r,i,s,o,a,l){return t=new $6(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=To(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bC(s),t}function eW(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ud,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function hO(t){if(!t)return gc;t=t._reactInternals;e:{if(ph(t)!==t||t.tag!==1)throw Error(Xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ys(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Xe(171))}if(t.tag===1){var n=t.type;if(ys(n))return fF(t,n,e)}return e}function dO(t,e,n,r,i,s,o,a,l){return t=jC(n,r,!0,t,i,s,o,a,l),t.context=hO(null),n=t.current,r=Qi(),i=ic(n),s=Ol(r,i),s.callback=e??null,nc(n,s,i),t.current.lanes=i,ev(t,i,r),xs(t,r),t}function kA(t,e,n,r){var i=e.current,s=Qi(),o=ic(i);return n=hO(n),e.context===null?e.context=n:e.pendingContext=n,e=Ol(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=nc(i,e,o),t!==null&&(aa(t,i,o,s),c_(t,i,o)),o}function nA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Q2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function XC(t,e){Q2(t,e),(t=t.alternate)&&Q2(t,e)}function tW(){return null}var pO=typeof reportError=="function"?reportError:function(t){console.error(t)};function JC(t){this._internalRoot=t}HA.prototype.render=JC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Xe(409));kA(t,e,null,null)};HA.prototype.unmount=JC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ih(function(){kA(null,t,null,null)}),e[zl]=null}};function HA(t){this._internalRoot=t}HA.prototype.unstable_scheduleHydration=function(t){if(t){var e=W3();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gu.length&&e!==0&&e<Gu[n].priority;n++);Gu.splice(n,0,t),n===0&&X3(t)}};function KC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q2(){}function nW(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=nA(o);s.call(u)}}var o=dO(e,r,t,0,null,!1,!1,"",q2);return t._reactRootContainer=o,t[zl]=o.current,m0(t.nodeType===8?t.parentNode:t),ih(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=nA(l);a.call(u)}}var l=jC(t,0,!1,null,null,!1,!1,"",q2);return t._reactRootContainer=l,t[zl]=l.current,m0(t.nodeType===8?t.parentNode:t),ih(function(){kA(e,l,n,r)}),l}function GA(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=nA(o);a.call(l)}}kA(e,o,t,i)}else o=nW(n,e,t,i,r);return nA(o)}G3=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bg(e.pendingLanes);n!==0&&(dC(e,n|1),xs(e,Ir()),!(Sn&6)&&(Cp=Ir()+500,bc()))}break;case 13:ih(function(){var r=Gl(t,1);if(r!==null){var i=Qi();aa(r,t,1,i)}}),XC(t,1)}};pC=function(t){if(t.tag===13){var e=Gl(t,134217728);if(e!==null){var n=Qi();aa(e,t,134217728,n)}XC(t,134217728)}};V3=function(t){if(t.tag===13){var e=ic(t),n=Gl(t,e);if(n!==null){var r=Qi();aa(n,t,e,r)}XC(t,e)}};W3=function(){return Pn};j3=function(t,e){var n=Pn;try{return Pn=t,e()}finally{Pn=n}};jw=function(t,e,n){switch(e){case"input":if(Uw(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=BA(r);if(!i)throw Error(Xe(90));S3(r),Uw(r,i)}}}break;case"textarea":w3(t,n);break;case"select":e=n.value,e!=null&&sp(t,!!n.multiple,e,!1)}};I3=zC;B3=ih;var rW={usingClientEntryPoint:!1,Events:[nv,Vd,BA,R3,P3,zC]},lg={findFiberByHostInstance:Of,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iW={bundleType:lg.bundleType,version:lg.version,rendererPackageName:lg.rendererPackageName,rendererConfig:lg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=F3(t),t===null?null:t.stateNode},findFiberByHostInstance:lg.findFiberByHostInstance||tW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ix.isDisabled&&ix.supportsFiber)try{bA=ix.inject(iW),Ga=ix}catch{}}Ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rW;Ks.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!KC(e))throw Error(Xe(200));return eW(t,e,null,n)};Ks.createRoot=function(t,e){if(!KC(t))throw Error(Xe(299));var n=!1,r="",i=pO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jC(t,1,!1,null,null,n,!1,r,i),t[zl]=e.current,m0(t.nodeType===8?t.parentNode:t),new JC(e)};Ks.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Xe(188)):(t=Object.keys(t).join(","),Error(Xe(268,t)));return t=F3(e),t=t===null?null:t.stateNode,t};Ks.flushSync=function(t){return ih(t)};Ks.hydrate=function(t,e,n){if(!zA(e))throw Error(Xe(200));return GA(null,t,e,!0,n)};Ks.hydrateRoot=function(t,e,n){if(!KC(t))throw Error(Xe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=pO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dO(e,null,t,1,n??null,i,!1,s,o),t[zl]=e.current,m0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new HA(e)};Ks.render=function(t,e,n){if(!zA(e))throw Error(Xe(200));return GA(null,t,e,!1,n)};Ks.unmountComponentAtNode=function(t){if(!zA(t))throw Error(Xe(40));return t._reactRootContainer?(ih(function(){GA(null,null,t,!1,function(){t._reactRootContainer=null,t[zl]=null})}),!0):!1};Ks.unstable_batchedUpdates=zC;Ks.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zA(n))throw Error(Xe(200));if(t==null||t._reactInternals===void 0)throw Error(Xe(38));return GA(t,e,n,!1,r)};Ks.version="18.2.0-next-9e3b772b8-20220608";function mO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mO)}catch(t){console.error(t)}}mO(),d3.exports=Ks;var YC=d3.exports,gO,Z2=YC;gO=Iw.createRoot=Z2.createRoot,Iw.hydrateRoot=Z2.hydrateRoot;var vO={exports:{}},yO={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=U;function sW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oW=typeof Object.is=="function"?Object.is:sW,aW=bp.useState,lW=bp.useEffect,uW=bp.useLayoutEffect,cW=bp.useDebugValue;function fW(t,e){var n=e(),r=aW({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return uW(function(){i.value=n,i.getSnapshot=e,rM(i)&&s({inst:i})},[t,n,e]),lW(function(){return rM(i)&&s({inst:i}),t(function(){rM(i)&&s({inst:i})})},[t]),cW(n),n}function rM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!oW(t,n)}catch{return!0}}function hW(t,e){return e()}var dW=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hW:fW;yO.useSyncExternalStore=bp.useSyncExternalStore!==void 0?bp.useSyncExternalStore:dW;vO.exports=yO;var pW=vO.exports,xO={exports:{}},_O={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA=U,mW=pW;function gW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vW=typeof Object.is=="function"?Object.is:gW,yW=mW.useSyncExternalStore,xW=VA.useRef,_W=VA.useEffect,AW=VA.useMemo,SW=VA.useDebugValue;_O.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=xW(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=AW(function(){function l(v){if(!u){if(u=!0,h=v,v=r(v),i!==void 0&&o.hasValue){var x=o.value;if(i(x,v))return p=x}return p=v}if(x=p,vW(h,v))return x;var E=r(v);return i!==void 0&&i(x,E)?x:(h=v,p=E)}var u=!1,h,p,g=n===void 0?null:n;return[function(){return l(e())},g===null?void 0:function(){return l(g())}]},[e,n,r,i]);var a=yW(t,s[0],s[1]);return _W(function(){o.hasValue=!0,o.value=a},[a]),SW(a),a};xO.exports=_O;var MW=xO.exports;function wW(t){t()}let AO=wW;const EW=t=>AO=t,TW=()=>AO,$2=Symbol.for("react-redux-context"),eI=typeof globalThis<"u"?globalThis:{};function CW(){var t;if(!U.createContext)return{};const e=(t=eI[$2])!=null?t:eI[$2]=new Map;let n=e.get(U.createContext);return n||(n=U.createContext(null),e.set(U.createContext,n)),n}const vc=CW();function QC(t=vc){return function(){return U.useContext(t)}}const SO=QC(),bW=()=>{throw new Error("uSES not initialized!")};let MO=bW;const RW=t=>{MO=t},PW=(t,e)=>t===e;function IW(t=vc){const e=t===vc?SO:QC(t);return function(r,i={}){const{equalityFn:s=PW,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:l,subscription:u,getServerState:h,stabilityCheck:p,noopCheck:g}=e();U.useRef(!0);const v=U.useCallback({[r.name](E){return r(E)}}[r.name],[r,p,o]),x=MO(u.addNestedSub,l.getState,h||l.getState,v,s);return U.useDebugValue(x),x}}const Li=IW();function sh(){return sh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sh.apply(null,arguments)}var wO={exports:{}},In={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var di=typeof Symbol=="function"&&Symbol.for,qC=di?Symbol.for("react.element"):60103,ZC=di?Symbol.for("react.portal"):60106,WA=di?Symbol.for("react.fragment"):60107,jA=di?Symbol.for("react.strict_mode"):60108,XA=di?Symbol.for("react.profiler"):60114,JA=di?Symbol.for("react.provider"):60109,KA=di?Symbol.for("react.context"):60110,$C=di?Symbol.for("react.async_mode"):60111,YA=di?Symbol.for("react.concurrent_mode"):60111,QA=di?Symbol.for("react.forward_ref"):60112,qA=di?Symbol.for("react.suspense"):60113,BW=di?Symbol.for("react.suspense_list"):60120,ZA=di?Symbol.for("react.memo"):60115,$A=di?Symbol.for("react.lazy"):60116,LW=di?Symbol.for("react.block"):60121,DW=di?Symbol.for("react.fundamental"):60117,FW=di?Symbol.for("react.responder"):60118,OW=di?Symbol.for("react.scope"):60119;function Qs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case qC:switch(t=t.type,t){case $C:case YA:case WA:case XA:case jA:case qA:return t;default:switch(t=t&&t.$$typeof,t){case KA:case QA:case $A:case ZA:case JA:return t;default:return e}}case ZC:return e}}}function EO(t){return Qs(t)===YA}In.AsyncMode=$C;In.ConcurrentMode=YA;In.ContextConsumer=KA;In.ContextProvider=JA;In.Element=qC;In.ForwardRef=QA;In.Fragment=WA;In.Lazy=$A;In.Memo=ZA;In.Portal=ZC;In.Profiler=XA;In.StrictMode=jA;In.Suspense=qA;In.isAsyncMode=function(t){return EO(t)||Qs(t)===$C};In.isConcurrentMode=EO;In.isContextConsumer=function(t){return Qs(t)===KA};In.isContextProvider=function(t){return Qs(t)===JA};In.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===qC};In.isForwardRef=function(t){return Qs(t)===QA};In.isFragment=function(t){return Qs(t)===WA};In.isLazy=function(t){return Qs(t)===$A};In.isMemo=function(t){return Qs(t)===ZA};In.isPortal=function(t){return Qs(t)===ZC};In.isProfiler=function(t){return Qs(t)===XA};In.isStrictMode=function(t){return Qs(t)===jA};In.isSuspense=function(t){return Qs(t)===qA};In.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===WA||t===YA||t===XA||t===jA||t===qA||t===BW||typeof t=="object"&&t!==null&&(t.$$typeof===$A||t.$$typeof===ZA||t.$$typeof===JA||t.$$typeof===KA||t.$$typeof===QA||t.$$typeof===DW||t.$$typeof===FW||t.$$typeof===OW||t.$$typeof===LW)};In.typeOf=Qs;wO.exports=In;var NW=wO.exports,TO=NW,UW={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},CO={};CO[TO.ForwardRef]=UW;CO[TO.Memo]=kW;var Ln={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb=Symbol.for("react.element"),tb=Symbol.for("react.portal"),e1=Symbol.for("react.fragment"),t1=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),r1=Symbol.for("react.provider"),i1=Symbol.for("react.context"),HW=Symbol.for("react.server_context"),s1=Symbol.for("react.forward_ref"),o1=Symbol.for("react.suspense"),a1=Symbol.for("react.suspense_list"),l1=Symbol.for("react.memo"),u1=Symbol.for("react.lazy"),zW=Symbol.for("react.offscreen"),bO;bO=Symbol.for("react.module.reference");function Bo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eb:switch(t=t.type,t){case e1:case n1:case t1:case o1:case a1:return t;default:switch(t=t&&t.$$typeof,t){case HW:case i1:case s1:case u1:case l1:case r1:return t;default:return e}}case tb:return e}}}Ln.ContextConsumer=i1;Ln.ContextProvider=r1;Ln.Element=eb;Ln.ForwardRef=s1;Ln.Fragment=e1;Ln.Lazy=u1;Ln.Memo=l1;Ln.Portal=tb;Ln.Profiler=n1;Ln.StrictMode=t1;Ln.Suspense=o1;Ln.SuspenseList=a1;Ln.isAsyncMode=function(){return!1};Ln.isConcurrentMode=function(){return!1};Ln.isContextConsumer=function(t){return Bo(t)===i1};Ln.isContextProvider=function(t){return Bo(t)===r1};Ln.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eb};Ln.isForwardRef=function(t){return Bo(t)===s1};Ln.isFragment=function(t){return Bo(t)===e1};Ln.isLazy=function(t){return Bo(t)===u1};Ln.isMemo=function(t){return Bo(t)===l1};Ln.isPortal=function(t){return Bo(t)===tb};Ln.isProfiler=function(t){return Bo(t)===n1};Ln.isStrictMode=function(t){return Bo(t)===t1};Ln.isSuspense=function(t){return Bo(t)===o1};Ln.isSuspenseList=function(t){return Bo(t)===a1};Ln.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===e1||t===n1||t===t1||t===o1||t===a1||t===zW||typeof t=="object"&&t!==null&&(t.$$typeof===u1||t.$$typeof===l1||t.$$typeof===r1||t.$$typeof===i1||t.$$typeof===s1||t.$$typeof===bO||t.getModuleId!==void 0)};Ln.typeOf=Bo;function GW(){const t=TW();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const tI={notify(){},get:()=>[]};function VW(t,e){let n,r=tI,i=0,s=!1;function o(E){h();const M=r.subscribe(E);let y=!1;return()=>{y||(y=!0,M(),p())}}function a(){r.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return s}function h(){i++,n||(n=t.subscribe(l),r=GW())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tI)}function g(){s||(s=!0,h())}function v(){s&&(s=!1,p())}const x={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>r};return x}const WW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jW=WW?U.useLayoutEffect:U.useEffect;function XW({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:s="once"}){const o=U.useMemo(()=>{const u=VW(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:s}},[t,r,i,s]),a=U.useMemo(()=>t.getState(),[t]);jW(()=>{const{subscription:u}=o;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[o,a]);const l=e||vc;return U.createElement(l.Provider,{value:o},n)}function RO(t=vc){const e=t===vc?SO:QC(t);return function(){const{store:r}=e();return r}}const JW=RO();function KW(t=vc){const e=t===vc?JW:RO(t);return function(){return e().dispatch}}const nb=KW();RW(MW.useSyncExternalStoreWithSelector);EW(YC.unstable_batchedUpdates);function ra(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function yc(t){return!!t&&!!t[qn]}function Wl(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===rj}(t)||Array.isArray(t)||!!t[lI]||!!(!((e=t.constructor)===null||e===void 0)&&e[lI])||rb(t)||ib(t))}function oh(t,e,n){n===void 0&&(n=!1),Xp(t)===0?(n?Object.keys:hp)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function Xp(t){var e=t[qn];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:rb(t)?2:ib(t)?3:0}function fp(t,e){return Xp(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function YW(t,e){return Xp(t)===2?t.get(e):t[e]}function PO(t,e,n){var r=Xp(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function IO(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function rb(t){return tj&&t instanceof Map}function ib(t){return nj&&t instanceof Set}function Cf(t){return t.o||t.t}function sb(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=LO(t);delete e[qn];for(var n=hp(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function ob(t,e){return e===void 0&&(e=!1),ab(t)||yc(t)||!Wl(t)||(Xp(t)>1&&(t.set=t.add=t.clear=t.delete=QW),Object.freeze(t),e&&oh(t,function(n,r){return ob(r,!0)},!0)),t}function QW(){ra(2)}function ab(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Wa(t){var e=CE[t];return e||ra(18,t),e}function qW(t,e){CE[t]||(CE[t]=e)}function wE(){return w0}function iM(t,e){e&&(Wa("Patches"),t.u=[],t.s=[],t.v=e)}function rA(t){EE(t),t.p.forEach(ZW),t.p=null}function EE(t){t===w0&&(w0=t.l)}function nI(t){return w0={p:[],l:w0,h:t,m:!0,_:0}}function ZW(t){var e=t[qn];e.i===0||e.i===1?e.j():e.g=!0}function sM(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||Wa("ES5").S(e,t,r),r?(n[qn].P&&(rA(e),ra(4)),Wl(t)&&(t=iA(e,t),e.l||sA(e,t)),e.u&&Wa("Patches").M(n[qn].t,t,e.u,e.s)):t=iA(e,n,[]),rA(e),e.u&&e.v(e.u,e.s),t!==BO?t:void 0}function iA(t,e,n){if(ab(e))return e;var r=e[qn];if(!r)return oh(e,function(a,l){return rI(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return sA(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=sb(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),oh(s,function(a,l){return rI(t,r,i,a,l,n,o)}),sA(t,i,!1),n&&t.u&&Wa("Patches").N(r,n,t.u,t.s)}return r.o}function rI(t,e,n,r,i,s,o){if(yc(i)){var a=iA(t,i,s&&e&&e.i!==3&&!fp(e.R,r)?s.concat(r):void 0);if(PO(n,r,a),!yc(a))return;t.m=!1}else o&&n.add(i);if(Wl(i)&&!ab(i)){if(!t.h.D&&t._<1)return;iA(t,i),e&&e.A.l||sA(t,i)}}function sA(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&ob(e,n)}function oM(t,e){var n=t[qn];return(n?Cf(n):t)[e]}function iI(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Wu(t){t.P||(t.P=!0,t.l&&Wu(t.l))}function aM(t){t.o||(t.o=sb(t.t))}function TE(t,e,n){var r=rb(e)?Wa("MapSet").F(e,n):ib(e)?Wa("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:wE(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=E0;o&&(l=[a],u=Dg);var h=Proxy.revocable(l,u),p=h.revoke,g=h.proxy;return a.k=g,a.j=p,g}(e,n):Wa("ES5").J(e,n);return(n?n.A:wE()).p.push(r),r}function $W(t){return yc(t)||ra(22,t),function e(n){if(!Wl(n))return n;var r,i=n[qn],s=Xp(n);if(i){if(!i.P&&(i.i<4||!Wa("ES5").K(i)))return i.t;i.I=!0,r=sI(n,s),i.I=!1}else r=sI(n,s);return oh(r,function(o,a){i&&YW(i.t,o)===a||PO(r,o,e(a))}),s===3?new Set(r):r}(t)}function sI(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return sb(t)}function ej(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[qn];return E0.get(l,s)},set:function(l){var u=this[qn];E0.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][qn];if(!a.P)switch(a.i){case 5:r(a)&&Wu(a);break;case 4:n(a)&&Wu(a)}}}function n(s){for(var o=s.t,a=s.k,l=hp(a),u=l.length-1;u>=0;u--){var h=l[u];if(h!==qn){var p=o[h];if(p===void 0&&!fp(o,h))return!0;var g=a[h],v=g&&g[qn];if(v?v.t!==p:!IO(g,p))return!0}}var x=!!o[qn];return l.length!==hp(o).length+(x?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};qW("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(h,p){if(h){for(var g=Array(p.length),v=0;v<p.length;v++)Object.defineProperty(g,""+v,t(v,!0));return g}var x=LO(p);delete x[qn];for(var E=hp(x),M=0;M<E.length;M++){var y=E[M];x[y]=t(y,h||!!x[y].enumerable)}return Object.create(Object.getPrototypeOf(p),x)}(a,s),u={i:a?5:4,A:o?o.A:wE(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,qn,{value:u,writable:!0}),l},S:function(s,o,a){a?yc(o)&&o[qn].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var h=u[qn];if(h){var p=h.t,g=h.k,v=h.R,x=h.i;if(x===4)oh(g,function(A){A!==qn&&(p[A]!==void 0||fp(p,A)?v[A]||l(g[A]):(v[A]=!0,Wu(h)))}),oh(p,function(A){g[A]!==void 0||fp(g,A)||(v[A]=!1,Wu(h))});else if(x===5){if(r(h)&&(Wu(h),v.length=!0),g.length<p.length)for(var E=g.length;E<p.length;E++)v[E]=!1;else for(var M=p.length;M<g.length;M++)v[M]=!0;for(var y=Math.min(g.length,p.length),S=0;S<y;S++)g.hasOwnProperty(S)||(v[S]=!0),v[S]===void 0&&l(g[S])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var oI,w0,lb=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",tj=typeof Map<"u",nj=typeof Set<"u",aI=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",BO=lb?Symbol.for("immer-nothing"):((oI={})["immer-nothing"]=!0,oI),lI=lb?Symbol.for("immer-draftable"):"__$immer_draftable",qn=lb?Symbol.for("immer-state"):"__$immer_state",rj=""+Object.prototype.constructor,hp=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,LO=Object.getOwnPropertyDescriptors||function(t){var e={};return hp(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},CE={},E0={get:function(t,e){if(e===qn)return t;var n=Cf(t);if(!fp(n,e))return function(i,s,o){var a,l=iI(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Wl(r)?r:r===oM(t.t,e)?(aM(t),t.o[e]=TE(t.A.h,r,t)):r},has:function(t,e){return e in Cf(t)},ownKeys:function(t){return Reflect.ownKeys(Cf(t))},set:function(t,e,n){var r=iI(Cf(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=oM(Cf(t),e),s=i==null?void 0:i[qn];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(IO(n,i)&&(n!==void 0||fp(t.t,e)))return!0;aM(t),Wu(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return oM(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,aM(t),Wu(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Cf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){ra(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ra(12)}},Dg={};oh(E0,function(t,e){Dg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Dg.deleteProperty=function(t,e){return Dg.set.call(this,t,e,void 0)},Dg.set=function(t,e,n){return E0.set.call(this,t[0],e,n,t[0])};var ij=function(){function t(n){var r=this;this.O=aI,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(E){var M=this;E===void 0&&(E=a);for(var y=arguments.length,S=Array(y>1?y-1:0),A=1;A<y;A++)S[A-1]=arguments[A];return l.produce(E,function(C){var P;return(P=s).call.apply(P,[M,C].concat(S))})}}var u;if(typeof s!="function"&&ra(6),o!==void 0&&typeof o!="function"&&ra(7),Wl(i)){var h=nI(r),p=TE(r,i,void 0),g=!0;try{u=s(p),g=!1}finally{g?rA(h):EE(h)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(E){return iM(h,o),sM(E,h)},function(E){throw rA(h),E}):(iM(h,o),sM(u,h))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===BO&&(u=void 0),r.D&&ob(u,!0),o){var v=[],x=[];Wa("Patches").M(i,u,v,x),o(v,x)}return u}ra(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var h=arguments.length,p=Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];return r.produceWithPatches(u,function(v){return i.apply(void 0,[v].concat(p))})};var o,a,l=r.produce(i,s,function(u,h){o=u,a=h});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Wl(n)||ra(8),yc(n)&&(n=$W(n));var r=nI(this),i=TE(this,n,void 0);return i[qn].C=!0,EE(r),i},e.finishDraft=function(n,r){var i=n&&n[qn],s=i.A;return iM(s,r),sM(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!aI&&ra(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=Wa("Patches").$;return yc(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),js=new ij,DO=js.produce;js.produceWithPatches.bind(js);js.setAutoFreeze.bind(js);js.setUseProxies.bind(js);js.applyPatches.bind(js);js.createDraft.bind(js);js.finishDraft.bind(js);function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function sj(t,e){if(T0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(T0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oj(t){var e=sj(t,"string");return T0(e)=="symbol"?e:e+""}function aj(t,e,n){return(e=oj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){aj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pi(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var fI=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),lM=function(){return Math.random().toString(36).substring(7).split("").join(".")},oA={INIT:"@@redux/INIT"+lM(),REPLACE:"@@redux/REPLACE"+lM(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lM()}};function lj(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function FO(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pi(1));return n(FO)(t,e)}if(typeof t!="function")throw new Error(Pi(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function h(){if(l)throw new Error(Pi(3));return s}function p(E){if(typeof E!="function")throw new Error(Pi(4));if(l)throw new Error(Pi(5));var M=!0;return u(),a.push(E),function(){if(M){if(l)throw new Error(Pi(6));M=!1,u();var S=a.indexOf(E);a.splice(S,1),o=null}}}function g(E){if(!lj(E))throw new Error(Pi(7));if(typeof E.type>"u")throw new Error(Pi(8));if(l)throw new Error(Pi(9));try{l=!0,s=i(s,E)}finally{l=!1}for(var M=o=a,y=0;y<M.length;y++){var S=M[y];S()}return E}function v(E){if(typeof E!="function")throw new Error(Pi(10));i=E,g({type:oA.REPLACE})}function x(){var E,M=p;return E={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(Pi(11));function A(){S.next&&S.next(h())}A();var C=M(A);return{unsubscribe:C}}},E[fI]=function(){return this},E}return g({type:oA.INIT}),r={dispatch:g,subscribe:p,getState:h,replaceReducer:v},r[fI]=x,r}function uj(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:oA.INIT});if(typeof r>"u")throw new Error(Pi(12));if(typeof n(void 0,{type:oA.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pi(13))})}function cj(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{uj(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var h=!1,p={},g=0;g<s.length;g++){var v=s[g],x=n[v],E=l[v],M=x(E,u);if(typeof M>"u")throw u&&u.type,new Error(Pi(14));p[v]=M,h=h||M!==E}return h=h||s.length!==Object.keys(l).length,h?p:l}}function aA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function fj(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Pi(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=aA.apply(void 0,a)(i.dispatch),cI(cI({},i),{},{dispatch:s})}}}function OO(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var bE=OO();bE.withExtraArgument=OO;var NO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),hj=function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(h){return l([u,h])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(h){u=[6,h],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Rp=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},dj=Object.defineProperty,pj=Object.defineProperties,mj=Object.getOwnPropertyDescriptors,hI=Object.getOwnPropertySymbols,gj=Object.prototype.hasOwnProperty,vj=Object.prototype.propertyIsEnumerable,dI=function(t,e,n){return e in t?dj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},oc=function(t,e){for(var n in e||(e={}))gj.call(e,n)&&dI(t,n,e[n]);if(hI)for(var r=0,i=hI(e);r<i.length;r++){var n=i[r];vj.call(e,n)&&dI(t,n,e[n])}return t},uM=function(t,e){return pj(t,mj(e))},yj=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},xj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?aA:aA.apply(null,arguments)};function _j(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}function ac(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return oc(oc({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}var Aj=function(t){NO(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Rp([void 0],n[0].concat(this)))):new(e.bind.apply(e,Rp([void 0],n.concat(this))))},e}(Array),Sj=function(t){NO(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,Rp([void 0],n[0].concat(this)))):new(e.bind.apply(e,Rp([void 0],n.concat(this))))},e}(Array);function RE(t){return Wl(t)?DO(t,function(){}):t}function Mj(t){return typeof t=="boolean"}function wj(){return function(e){return Ej(e)}}function Ej(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var r=new Aj;return n&&(Mj(n)?r.push(bE):r.push(bE.withExtraArgument(n.extraArgument))),r}function Tj(t){var e=wj(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,h=u===void 0?void 0:u,p=n.enhancers,g=p===void 0?void 0:p,v;if(typeof i=="function")v=i;else if(_j(i))v=cj(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var x=o;typeof x=="function"&&(x=x(e));var E=fj.apply(void 0,x),M=aA;l&&(M=xj(oc({trace:!1},typeof l=="object"&&l)));var y=new Sj(E),S=y;Array.isArray(g)?S=Rp([E],g):typeof g=="function"&&(S=g(y));var A=M.apply(void 0,S);return FO(v,h,A)}function UO(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function Cj(t){return typeof t=="function"}function bj(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?UO(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(Cj(t))l=function(){return RE(t())};else{var u=RE(t);l=function(){return u}}function h(p,g){p===void 0&&(p=l());var v=Rp([s[g.type]],o.filter(function(x){var E=x.matcher;return E(g)}).map(function(x){var E=x.reducer;return E}));return v.filter(function(x){return!!x}).length===0&&(v=[a]),v.reduce(function(x,E){if(E)if(yc(x)){var M=x,y=E(M,g);return y===void 0?x:y}else{if(Wl(x))return DO(x,function(S){return E(S,g)});var y=E(x,g);if(y===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return x},p)}return h.getInitialState=l,h}function Rj(t,e){return t+"/"+e}function kO(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n=typeof t.initialState=="function"?t.initialState:RE(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(h){var p=r[h],g=Rj(e,h),v,x;"reducer"in p?(v=p.reducer,x=p.prepare):v=p,s[h]=v,o[g]=v,a[h]=x?ac(g,x):ac(g)});function l(){var h=typeof t.extraReducers=="function"?UO(t.extraReducers):[t.extraReducers],p=h[0],g=p===void 0?{}:p,v=h[1],x=v===void 0?[]:v,E=h[2],M=E===void 0?void 0:E,y=oc(oc({},g),o);return bj(n,function(S){for(var A in y)S.addCase(A,y[A]);for(var C=0,P=x;C<P.length;C++){var L=P[C];S.addMatcher(L.matcher,L.reducer)}M&&S.addDefaultCase(M)})}var u;return{name:e,reducer:function(h,p){return u||(u=l()),u(h,p)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Pj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Ij=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=Pj[Math.random()*64|0];return e},Bj=["name","message","stack","code"],cM=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),pI=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),Lj=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=Bj;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=ac(e+"/fulfilled",function(u,h,p,g){return{payload:u,meta:uM(oc({},g||{}),{arg:p,requestId:h,requestStatus:"fulfilled"})}}),s=ac(e+"/pending",function(u,h,p){return{payload:void 0,meta:uM(oc({},p||{}),{arg:h,requestId:u,requestStatus:"pending"})}}),o=ac(e+"/rejected",function(u,h,p,g,v){return{payload:g,error:(r&&r.serializeError||Lj)(u||"Rejected"),meta:uM(oc({},v||{}),{arg:p,requestId:h,rejectedWithValue:!!g,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(h,p,g){var v=r!=null&&r.idGenerator?r.idGenerator(u):Ij(),x=new a,E;function M(S){E=S,x.abort()}var y=function(){return yj(this,null,function(){var S,A,C,P,L,D,N;return hj(this,function(I){switch(I.label){case 0:return I.trys.push([0,4,,5]),P=(S=r==null?void 0:r.condition)==null?void 0:S.call(r,u,{getState:p,extra:g}),Fj(P)?[4,P]:[3,2];case 1:P=I.sent(),I.label=2;case 2:if(P===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return L=new Promise(function(F,W){return x.signal.addEventListener("abort",function(){return W({name:"AbortError",message:E||"Aborted"})})}),h(s(v,u,(A=r==null?void 0:r.getPendingMeta)==null?void 0:A.call(r,{requestId:v,arg:u},{getState:p,extra:g}))),[4,Promise.race([L,Promise.resolve(n(u,{dispatch:h,getState:p,extra:g,requestId:v,signal:x.signal,abort:M,rejectWithValue:function(F,W){return new cM(F,W)},fulfillWithValue:function(F,W){return new pI(F,W)}})).then(function(F){if(F instanceof cM)throw F;return F instanceof pI?i(F.payload,v,u,F.meta):i(F,v,u)})])];case 3:return C=I.sent(),[3,5];case 4:return D=I.sent(),C=D instanceof cM?o(null,v,u,D.payload,D.meta):o(D,v,u),[3,5];case 5:return N=r&&!r.dispatchConditionRejection&&o.match(C)&&C.meta.condition,N||h(C),[2,C]}})})}();return Object.assign(y,{abort:M,requestId:v,arg:u,unwrap:function(){return y.then(Dj)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function Dj(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Fj(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var ub="listenerMiddleware";ac(ub+"/add");ac(ub+"/removeAll");ac(ub+"/remove");var mI;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);ej();const Oj={visibility:!1,isMenuOpen:!1,currentPage:"/"},HO=kO({name:"ui",initialState:Oj,reducers:{updateVisibility:(t,e)=>{t.visibility=e.payload},updateMenu:(t,e)=>{t.isMenuOpen=e.payload},updateCurrentPage:(t,e)=>{t.currentPage=e.payload}}}),{updateVisibility:Wue,updateMenu:zO,updateCurrentPage:GO}=HO.actions,Nj=HO.reducer,Uj={academicData:[],stages:[],toggle:[!1,void 0,!1],hover:[!1,void 0],academicElementSize:[0,0]},VO=kO({name:"data",initialState:Uj,reducers:{updateData:(t,e)=>{t.academicData=e.payload},updateStages:(t,e)=>{t.stages=e.payload},updateToggle:(t,e)=>{t.toggle=e.payload},updateHover:(t,e)=>{t.hover=e.payload},updateAcademicElementSize:(t,e)=>{t.academicElementSize=e.payload}}}),{updateData:kj,updateStages:Hj,updateToggle:jue,updateHover:Xue,updateAcademicElementSize:zj}=VO.actions,Gj=VO.reducer,WO=Tj({reducer:{ui:Nj,data:Gj}}),Vj="modulepreload",Wj=function(t){return"/"+t},gI={},cb=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Wj(l),l in gI)return;gI[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":Vj,u||(p.as="script"),p.crossOrigin="",p.href=l,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};/**
 * @remix-run/router v1.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}var Ju;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ju||(Ju={}));const vI="popstate";function jj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return PE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:jO(i)}return Jj(e,n,null,t)}function Kr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xj(){return Math.random().toString(36).substr(2,8)}function yI(t,e){return{usr:t.state,key:t.key,idx:e}}function PE(t,e,n,r){return n===void 0&&(n=null),C0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jp(e):e,{state:n,key:e&&e.key||r||Xj()})}function jO(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Jj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ju.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(C0({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Ju.Pop;let M=h(),y=M==null?null:M-u;u=M,l&&l({action:a,location:E.location,delta:y})}function g(M,y){a=Ju.Push;let S=PE(E.location,M,y);u=h()+1;let A=yI(S,u),C=E.createHref(S);try{o.pushState(A,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(C)}s&&l&&l({action:a,location:E.location,delta:1})}function v(M,y){a=Ju.Replace;let S=PE(E.location,M,y);u=h();let A=yI(S,u),C=E.createHref(S);o.replaceState(A,"",C),s&&l&&l({action:a,location:E.location,delta:0})}function x(M){let y=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof M=="string"?M:jO(M);return Kr(y,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,y)}let E={get action(){return a},get location(){return t(i,o)},listen(M){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(vI,p),l=M,()=>{i.removeEventListener(vI,p),l=null}},createHref(M){return e(i,M)},createURL:x,encodeLocation(M){let y=x(M);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:v,go(M){return o.go(M)}};return E}var xI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xI||(xI={}));function Kj(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Jp(e):e,i=KO(r.pathname||"/",n);if(i==null)return null;let s=XO(t);Yj(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=i7(s[a],a7(i));return o}function XO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Kr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Kf([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Kr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),XO(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:n7(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of JO(s.path))i(s,o,l)}),e}function JO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=JO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Yj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:r7(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Qj=/^:\w+$/,qj=3,Zj=2,$j=1,e7=10,t7=-2,_I=t=>t==="*";function n7(t,e){let n=t.split("/"),r=n.length;return n.some(_I)&&(r+=t7),e&&(r+=Zj),n.filter(i=>!_I(i)).reduce((i,s)=>i+(Qj.test(s)?qj:s===""?$j:e7),r)}function r7(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function i7(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",h=s7({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!h)return null;Object.assign(r,h.params);let p=a.route;s.push({params:r,pathname:Kf([i,h.pathname]),pathnameBase:p7(Kf([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Kf([i,h.pathnameBase]))}return s}function s7(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=o7(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:g,isOptional:v}=h;if(g==="*"){let E=a[p]||"";o=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const x=a[p];return v&&!x?u[g]=void 0:u[g]=l7(x||"",g),u},{}),pathname:s,pathnameBase:o,pattern:t}}function o7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function a7(t){try{return decodeURI(t)}catch(e){return fb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function l7(t,e){try{return decodeURIComponent(t)}catch(n){return fb(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function KO(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function u7(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jp(t):t;return{pathname:n?n.startsWith("/")?n:c7(n,e):e,search:m7(r),hash:g7(i)}}function c7(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fM(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f7(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function h7(t,e){let n=f7(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function d7(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jp(t):(i=C0({},t),Kr(!i.pathname||!i.pathname.includes("?"),fM("?","pathname","search",i)),Kr(!i.pathname||!i.pathname.includes("#"),fM("#","pathname","hash",i)),Kr(!i.search||!i.search.includes("#"),fM("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}a=p>=0?e[p]:"/"}let l=u7(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Kf=t=>t.join("/").replace(/\/\/+/g,"/"),p7=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m7=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g7=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function v7(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YO=["post","put","patch","delete"];new Set(YO);const y7=["get",...YO];new Set(y7);/**
 * React Router v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(this,arguments)}const hb=U.createContext(null),x7=U.createContext(null),c1=U.createContext(null),f1=U.createContext(null),Kp=U.createContext({outlet:null,matches:[],isDataRoute:!1}),QO=U.createContext(null);function h1(){return U.useContext(f1)!=null}function Yp(){return h1()||Kr(!1),U.useContext(f1).location}function qO(t){U.useContext(c1).static||U.useLayoutEffect(t)}function ZO(){let{isDataRoute:t}=U.useContext(Kp);return t?B7():_7()}function _7(){h1()||Kr(!1);let t=U.useContext(hb),{basename:e,future:n,navigator:r}=U.useContext(c1),{matches:i}=U.useContext(Kp),{pathname:s}=Yp(),o=JSON.stringify(h7(i,n.v7_relativeSplatPath)),a=U.useRef(!1);return qO(()=>{a.current=!0}),U.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=d7(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Kf([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}function A7(t,e){return S7(t,e)}function S7(t,e,n,r){h1()||Kr(!1);let{navigator:i}=U.useContext(c1),{matches:s}=U.useContext(Kp),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Yp(),h;if(e){var p;let M=typeof e=="string"?Jp(e):e;l==="/"||(p=M.pathname)!=null&&p.startsWith(l)||Kr(!1),h=M}else h=u;let g=h.pathname||"/",v=l==="/"?g:g.slice(l.length)||"/",x=Kj(t,{pathname:v}),E=C7(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},a,M.params),pathname:Kf([l,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?l:Kf([l,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,r);return e&&E?U.createElement(f1.Provider,{value:{location:b0({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ju.Pop}},E):E}function M7(){let t=I7(),e=v7(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const w7=U.createElement(M7,null);class E7 extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(Kp.Provider,{value:this.props.routeContext},U.createElement(QO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T7(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(hb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(Kp.Provider,{value:e},r)}function C7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id]));h>=0||Kr(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:v}=n,x=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let v,x=!1,E=null,M=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,E=p.route.errorElement||w7,l&&(u<0&&g===0?(L7("route-fallback"),x=!0,M=null):u===g&&(x=!0,M=p.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,g+1)),S=()=>{let A;return v?A=E:x?A=M:p.route.Component?A=U.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,U.createElement(T7,{match:p,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?U.createElement(E7,{location:n.location,revalidation:n.revalidation,component:E,error:v,children:S(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):S()},null)}var $O=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}($O||{}),eN=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(eN||{});function b7(t){let e=U.useContext(hb);return e||Kr(!1),e}function R7(t){let e=U.useContext(x7);return e||Kr(!1),e}function P7(t){let e=U.useContext(Kp);return e||Kr(!1),e}function tN(t){let e=P7(),n=e.matches[e.matches.length-1];return n.route.id||Kr(!1),n.route.id}function I7(){var t;let e=U.useContext(QO),n=R7(),r=tN();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function B7(){let{router:t}=b7($O.UseNavigateStable),e=tN(eN.UseNavigateStable),n=U.useRef(!1);return qO(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,b0({fromRouteId:e},s)))},[t,e])}const AI={};function L7(t,e,n){AI[t]||(AI[t]=!0)}function v_(t){Kr(!1)}function D7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ju.Pop,navigator:s,static:o=!1,future:a}=t;h1()&&Kr(!1);let l=e.replace(/^\/*/,"/"),u=U.useMemo(()=>({basename:l,navigator:s,static:o,future:b0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Jp(r));let{pathname:h="/",search:p="",hash:g="",state:v=null,key:x="default"}=r,E=U.useMemo(()=>{let M=KO(h,l);return M==null?null:{location:{pathname:M,search:p,hash:g,state:v,key:x},navigationType:i}},[l,h,p,g,v,x,i]);return E==null?null:U.createElement(c1.Provider,{value:u},U.createElement(f1.Provider,{children:n,value:E}))}function F7(t){let{children:e,location:n}=t;return A7(IE(e),n)}new Promise(()=>{});function IE(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let s=[...e,i];if(r.type===U.Fragment){n.push.apply(n,IE(r.props.children,s));return}r.type!==v_&&Kr(!1),!r.props.index||!r.props.children||Kr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=IE(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const O7="startTransition",SI=Y9[O7];function N7(t){let{basename:e,children:n,future:r,window:i}=t,s=U.useRef();s.current==null&&(s.current=jj({window:i,v5Compat:!0}));let o=s.current,[a,l]=U.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=U.useCallback(p=>{u&&SI?SI(()=>l(p)):l(p)},[l,u]);return U.useLayoutEffect(()=>o.listen(h),[o,h]),U.createElement(D7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var MI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(MI||(MI={}));var wI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wI||(wI={}));const U7=[{id:1,title:"PhD in Mechanical Engineering",Date:"2021  NOW",Location:"York University, Toronto ON, Canada",Thesis:"Compressible Flow Exfoliation of 2D Nanomaterials: Optimization and applications",Supervisor:"R. Rizvi , C. Jian"},{id:2,title:"Master of Science in mechanical Engineering",Date:"2017  2019",Location:"IK International University, Qazvin, Iran",Thesis:"Defect engineering on Thermo-Mechanical Properties of single-layer Borophene: Comparison of Molecular Dynamics and Finite Element Method",Supervisor:"A. Rajabpour, AH. Akbarzadeh"},{id:3,title:"Bachelor of Science in Mechanical Engineering",Date:"2013 - 2017",Location:"IK International University, Qazvin, Iran",Thesis:"Importance of nanolayer formation in nanofluid properties: Equilibrium molecular dynamic simulations",Supervisor:"A. Rajabpour"}],k7=[{id:1,Award:"Ranked 1st Among the BS Mechanical Engineering Alumni, IK International University."},{id:2,Award:"Visiting the 'Condensed Matter and Statistical Physics of the Abdus Salam International Centre for Theoretical Physics (ICTP)' and collaboration with E. Roldan and A. Hassanali on a research project on 'inverse heat flux between nanoparticles', from 21 October to 18 November 2019, Trieste, Italy."}],H7=[{id:1,Conference:'Attending "North American Cold Spray Conference", September 2024, Boucherville, Canada.'},{id:2,Conference:'Presentation at "Canadian Society for Mechanical Engineering Conference", May 2023, Universit de Sherbrooke, Sherbrooke, Qubec, Canada.'},{id:3,Conference:'Invited to "QLS/CMSP Huddle on Water, Heat and Stochastic Theory", April 2022, ICTP, Trieste, Italy.'},{id:4,Conference:'"Workshop on Molecular Dynamics and its Applications to Biological Systems", online workshop, September 2020, ICTP, Trieste, Italy.'},{id:5,Conference:'"Joint QLS-CMSP Virtual Summer Retreat on Heat, Water, Noise, and Life", online conference, July 2020, ICTP, Trieste, Italy.'},{id:6,Conference:'"A Not-so-brief Introduction to Molecular Biophysics", crash course, April 2019, Institute for Research in Fundamental Sciences (IPM), Tehran, Iran.'},{id:7,Conference:'Presentation at "26th IPM Physics Spring Conference", June 2019, Institute for Research in Fundamental Sciences (IPM), Tehran, Iran.'},{id:8,Conference:'Presentation at "7th National Conference on Nanotechnology from Theory to Application", June 2019, Jami Institute of Technology, Tehran, Iran.'}],z7=[{id:"b1e644fe-23e3-48ef-914d-58e71da761c7",Title:"Nonreciprocal forces enable cold-to-hot heat transfer between nanoparticles",Citations:15,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:TFP_iSt0sucC",Authors:"SAM Loos, S Arabha, A Rajabpour, A Hassanali,  Roldn",Journal:"Scientific Reports",Year:2023},{id:"0f60e716-a361-4229-8fce-ce55d5f08c9f",Title:"Lattice thermal conductivity and Young's modulus of XN 4 (X= Be, Mg and Pt) 2D materials using machine learning interatomic potentials",Citations:5,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:isC4tDSrTZIC",Authors:"K Ghorbani, P Mirchi, S Arabha, A Rajabpour, S Volz",Journal:"Physical Chemistry Chemical Physics",Year:2023},{id:"995df32a-ffa0-431e-b0f4-417db2e6dcc1",Title:"Interfacial thermal conductance between TiO2 nanoparticle and water: A molecular dynamics study",Citations:24,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:TQgYirikUcIC",Authors:"M Roodbari, M Abbasi, S Arabha, A Gharedaghi, A Rajabpour",Journal:"Journal of Molecular Liquids",Year:2022},{id:"e70c06c3-6a59-40ac-be47-933a71ba9062",Title:"Interactions of Gas Particles with Graphene during High-Throughput Compressible Flow Exfoliation: A Molecular Dynamics Simulations Study",Citations:1,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:e5wmG9Sq2KIC",Authors:"S Ahmed, S Arabha, RI Gonzalez, R Rizvi",Journal:"The Journal of Physical Chemistry C",Year:2022},{id:"8d1928a8-747e-4bf1-807e-124067e02940",Title:"Recent advances in lattice thermal conductivity calculation using machine-learning interatomic potentials",Citations:48,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:R3hNpaxXUhUC",Authors:"S Arabha, ZS Aghbolagh, K Ghorbani, SM Hatam-Lee, A Rajabpour",Journal:"Journal of Applied Physics",Year:2021},{id:"f1fd380c-52ed-44b6-a4db-0795f44fe918",Title:"Thermo-mechanical properties of nitrogenated holey graphene (C2N): A comparison of machine-learning-based and classical interatomic potentials",Citations:36,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:mB3voiENLucC",Authors:"S Arabha, A Rajabpour",Journal:"International Journal of Heat and Mass Transfer",Year:2021},{id:"1c748616-81df-4edd-b0ca-403d94c8af49",Title:"Elucidation of thermo-mechanical properties of silicon nanowires from a molecular dynamics perspective",Citations:17,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:HDshCWvjkbEC",Authors:"F Hasheminia, Y Bahari, A Rajabpour, S Arabha",Journal:"Computational Materials Science",Year:2021},{id:"cebbca99-f9fb-400e-91dd-508998b9672c",Title:"Engineered porous borophene with tunable anisotropic properties",Citations:29,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:hFOr9nPyWt4C",Authors:"S Arabha, AH Akbarzadeh, A Rajabpour",Journal:"Composites Part B: Engineering",Year:2020},{id:"0797bebc-fb7e-42d4-8598-60ae385d1670",Title:"Effect of planar torsional deformation on the thermal conductivity of 2D nanomaterials: a molecular dynamics study",Citations:13,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:qUcmZB5y_30C",Authors:"S Arabha, A Rajabpour",Journal:"Materials Today Communications",Year:2020},{id:"b1c5c36f-6fc2-4e3d-88d4-b82ec3707920",Title:"Thermal transport at a nanoparticle-water interface: A molecular dynamics and continuum modeling study",Citations:76,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:_FxGoFyzp5QC",Authors:"A Rajabpour, R Seif, S Arabha, MM Heyhat, S Merabia, A Hassanali",Journal:"The Journal of chemical physics",Year:2019},{id:"95ea8d02-4dba-4493-a319-1f538fb198af",Title:"Importance of nanolayer formation in nanofluid properties: Equilibrium molecular dynamic simulations for Ag-water nanofluid",Citations:53,Link:"https://scholar.google.ca/citations?view_op=view_citation&hl=en&user=mroBfIwAAAAJ&citation_for_view=mroBfIwAAAAJ:M3ejUd6NZC8C",Authors:"MM Heyhat, A Rajabpour, M Abbasi, S Arabha",Journal:"Journal of Molecular Liquids",Year:2018}],Jue=317,Kue=9,G7=[{label:"2D Nanomaterials",href:"#2DMaterials"},{label:"Multiscale Modeling",href:"#MultiscaleModeling"},{label:"Heat Transfer",href:"#HeatTransfer"},{label:"Statistical Mechanics",href:"#StatisticalMechanics"}],V7=[{id:1,Title:"Coding",skill:[["Python","Expert"],["C++","Beginner"],["Java Script (JS)","Intermediate"],["MATLAB","Expert"]]},{id:2,Title:"Atomestic Modeling",skill:[["LAMMPS Molecular Dynamics Simulator","Expert"],["VMD","Expert"],["VASP","Beginner"],["Ovito","Expert"]]},{id:3,Title:"Continuum Modeling & Design",skill:[["COMSOL Multiphysics","Intermediate"],["CATIA","Beginner"],["Solid Works","Expert"],["AutoCAD","Beginner"]]}],W7=[{id:1,Teaching:"Teacher Assistant in Dynamics, Simulation Tools for Design & Analysis, and Machine Elements Design, Mechanical Engineering Department, York University, 2021Now, Toronto, ON, Canada."},{id:2,Teaching:"Researcher in Advanced Simulation and Computing Lab, Mechanical Engineering Department, IK International University, September 2015  2021."},{id:3,Teaching:"Teacher Assistant in Fluid Mechanics , Mechanical Engineering Department, IK International University, Autumn 2017, Qazvin, Iran."},{id:4,Teaching:"Teacher Assistant in Heat Transfer, CFD, Thermodynamics, Mechanical and Electrical Engineering Department, IK International University, Spring 2017  2018, Qazvin, Iran."},{id:5,Teaching:"Internship in TAHVIE Co, Air Conditioning Systems, Technical Office, Summer 2015, Qazvin, Iran."}];var j7=Object.defineProperty,X7=(t,e)=>{for(var n in e)j7(t,n,{get:e[n],enumerable:!0})},ca={};X7(ca,{assign:()=>Y7,colors:()=>lc,createStringInterpolator:()=>xb,skipAnimation:()=>lN,to:()=>aN,willAdvance:()=>_b});var db=sv(),Yt=t=>iv(t,db),pb=sv();Yt.write=t=>iv(t,pb);var d1=sv();Yt.onStart=t=>iv(t,d1);var mb=sv();Yt.onFrame=t=>iv(t,mb);var gb=sv();Yt.onFinish=t=>iv(t,gb);var dp=[];Yt.setTimeout=(t,e)=>{const n=Yt.now()+e,r=()=>{const s=dp.findIndex(o=>o.cancel==r);~s&&dp.splice(s,1),Yu-=~s?1:0},i={time:n,handler:t,cancel:r};return dp.splice(nN(n),0,i),Yu+=1,rN(),i};var nN=t=>~(~dp.findIndex(e=>e.time>t)||~dp.length);Yt.cancel=t=>{d1.delete(t),mb.delete(t),gb.delete(t),db.delete(t),pb.delete(t)};Yt.sync=t=>{BE=!0,Yt.batchedUpdates(t),BE=!1};Yt.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Yt.onStart(n)}return r.handler=t,r.cancel=()=>{d1.delete(n),e=null},r};var vb=typeof window<"u"?window.requestAnimationFrame:()=>{};Yt.use=t=>vb=t;Yt.now=typeof performance<"u"?()=>performance.now():Date.now;Yt.batchedUpdates=t=>t();Yt.catch=console.error;Yt.frameLoop="always";Yt.advance=()=>{Yt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):sN()};var Ku=-1,Yu=0,BE=!1;function iv(t,e){BE?(e.delete(t),t(0)):(e.add(t),rN())}function rN(){Ku<0&&(Ku=0,Yt.frameLoop!=="demand"&&vb(iN))}function J7(){Ku=-1}function iN(){~Ku&&(vb(iN),Yt.batchedUpdates(sN))}function sN(){const t=Ku;Ku=Yt.now();const e=nN(Ku);if(e&&(oN(dp.splice(0,e),n=>n.handler()),Yu-=e),!Yu){J7();return}d1.flush(),db.flush(t?Math.min(64,Ku-t):16.667),mb.flush(),pb.flush(),gb.flush()}function sv(){let t=new Set,e=t;return{add(n){Yu+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return Yu-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,Yu-=e.size,oN(e,r=>r(n)&&t.add(r)),Yu+=t.size,e=t)}}}function oN(t,e){t.forEach(n=>{try{e(n)}catch(r){Yt.catch(r)}})}function LE(){}var K7=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),ze={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Tl(t,e){if(ze.arr(t)){if(!ze.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var Wt=(t,e)=>t.forEach(e);function Ya(t,e,n){if(ze.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Yi=t=>ze.und(t)?[]:ze.arr(t)?t:[t];function Kg(t,e){if(t.size){const n=Array.from(t);t.clear(),Wt(n,e)}}var Fg=(t,...e)=>Kg(t,n=>n(...e)),yb=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xb,aN,lc=null,lN=!1,_b=LE,Y7=t=>{t.to&&(aN=t.to),t.now&&(Yt.now=t.now),t.colors!==void 0&&(lc=t.colors),t.skipAnimation!=null&&(lN=t.skipAnimation),t.createStringInterpolator&&(xb=t.createStringInterpolator),t.requestAnimationFrame&&Yt.use(t.requestAnimationFrame),t.batchedUpdates&&(Yt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(_b=t.willAdvance),t.frameLoop&&(Yt.frameLoop=t.frameLoop)},Yg=new Set,wo=[],hM=[],lA=0,p1={get idle(){return!Yg.size&&!wo.length},start(t){lA>t.priority?(Yg.add(t),Yt.onStart(Q7)):(uN(t),Yt(DE))},advance:DE,sort(t){if(lA)Yt.onFrame(()=>p1.sort(t));else{const e=wo.indexOf(t);~e&&(wo.splice(e,1),cN(t))}},clear(){wo=[],Yg.clear()}};function Q7(){Yg.forEach(uN),Yg.clear(),Yt(DE)}function uN(t){wo.includes(t)||cN(t)}function cN(t){wo.splice(q7(wo,e=>e.priority>t.priority),0,t)}function DE(t){const e=hM;for(let n=0;n<wo.length;n++){const r=wo[n];lA=r.priority,r.idle||(_b(r),r.advance(t),r.idle||e.push(r))}return lA=0,hM=wo,hM.length=0,wo=e,wo.length>0}function q7(t,e){const n=t.findIndex(e);return n<0?t.length:n}var Z7={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ia="[-+]?\\d*\\.?\\d+",uA=ia+"%";function m1(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var $7=new RegExp("rgb"+m1(ia,ia,ia)),eX=new RegExp("rgba"+m1(ia,ia,ia,ia)),tX=new RegExp("hsl"+m1(ia,uA,uA)),nX=new RegExp("hsla"+m1(ia,uA,uA,ia)),rX=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,iX=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,sX=/^#([0-9a-fA-F]{6})$/,oX=/^#([0-9a-fA-F]{8})$/;function aX(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=sX.exec(t))?parseInt(e[1]+"ff",16)>>>0:lc&&lc[t]!==void 0?lc[t]:(e=$7.exec(t))?(cd(e[1])<<24|cd(e[2])<<16|cd(e[3])<<8|255)>>>0:(e=eX.exec(t))?(cd(e[1])<<24|cd(e[2])<<16|cd(e[3])<<8|CI(e[4]))>>>0:(e=rX.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=oX.exec(t))?parseInt(e[1],16)>>>0:(e=iX.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=tX.exec(t))?(EI(TI(e[1]),sx(e[2]),sx(e[3]))|255)>>>0:(e=nX.exec(t))?(EI(TI(e[1]),sx(e[2]),sx(e[3]))|CI(e[4]))>>>0:null}function dM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function EI(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,s=dM(i,r,t+1/3),o=dM(i,r,t),a=dM(i,r,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function cd(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function TI(t){return(parseFloat(t)%360+360)%360/360}function CI(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function sx(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function bI(t){let e=aX(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${s})`}var R0=(t,e,n)=>{if(ze.fun(t))return t;if(ze.arr(t))return R0({range:t,output:e,extrapolate:n});if(ze.str(t.output[0]))return xb(t);const r=t,i=r.output,s=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const h=uX(u,s);return lX(u,s[h],s[h+1],i[h],i[h+1],l,o,a,r.map)}};function lX(t,e,n,r,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>n){if(a==="identity")return u;a==="clamp"&&(u=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?u=-u:n===1/0?u=u-e:u=(u-e)/(n-e),u=s(u),r===-1/0?u=-u:i===1/0?u=u+r:u=u*(i-r)+r,u)}function uX(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var Io={linear:t=>t,easeOutCubic:t=>1-Math.pow(1-t,3)},P0=Symbol.for("FluidValue.get"),Pp=Symbol.for("FluidValue.observers"),Mo=t=>!!(t&&t[P0]),fs=t=>t&&t[P0]?t[P0]():t,RI=t=>t[Pp]||null;function cX(t,e){t.eventObserved?t.eventObserved(e):t(e)}function I0(t,e){const n=t[Pp];n&&n.forEach(r=>{cX(r,e)})}var fN=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");fX(this,t)}},fX=(t,e)=>hN(t,P0,e);function Qp(t,e){if(t[P0]){let n=t[Pp];n||hN(t,Pp,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function B0(t,e){const n=t[Pp];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Pp]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var hN=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),y_=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,hX=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,PI=new RegExp(`(${y_.source})(%|[a-z]+)`,"i"),dX=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,g1=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,dN=t=>{const[e,n]=pX(t);if(!e||yb())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&g1.test(n))return dN(n);if(n)return n}return t},pX=t=>{const e=g1.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},pM,mX=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,pN=t=>{pM||(pM=lc?new RegExp(`(${Object.keys(lc).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>fs(s).replace(g1,dN).replace(hX,bI).replace(pM,bI)),n=e.map(s=>s.match(y_).map(Number)),i=n[0].map((s,o)=>n.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>R0({...t,output:s}));return s=>{var l;const o=!PI.test(e[0])&&((l=e.find(u=>PI.test(u)))==null?void 0:l.replace(y_,""));let a=0;return e[0].replace(y_,()=>`${i[a++](s)}${o||""}`).replace(dX,mX)}},Ab="react-spring: ",mN=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${Ab}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},gX=mN(console.warn);function vX(){gX(`${Ab}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var yX=mN(console.warn);function xX(){yX(`${Ab}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function v1(t){return ze.str(t)&&(t[0]=="#"||/\d/.test(t)||!yb()&&g1.test(t)||t in(lc||{}))}var Qu=yb()?U.useEffect:U.useLayoutEffect,_X=()=>{const t=U.useRef(!1);return Qu(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function Sb(){const t=U.useState()[1],e=_X();return()=>{e.current&&t(Math.random())}}function AX(t,e){const[n]=U.useState(()=>({inputs:e,result:t()})),r=U.useRef(),i=r.current;let s=i;return s?e&&s.inputs&&SX(e,s.inputs)||(s={inputs:e,result:t()}):s=n,U.useEffect(()=>{r.current=s,i==n&&(n.inputs=n.result=void 0)},[s]),s.result}function SX(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var Mb=t=>U.useEffect(t,MX),MX=[];function FE(t){const e=U.useRef();return U.useEffect(()=>{e.current=t}),e.current}var L0=Symbol.for("Animated:node"),wX=t=>!!t&&t[L0]===t,Na=t=>t&&t[L0],wb=(t,e)=>K7(t,L0,e),y1=t=>t&&t[L0]&&t[L0].getPayload(),gN=class{constructor(){wb(this,this)}getPayload(){return this.payload||[]}},ov=class extends gN{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ze.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new ov(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ze.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ze.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},D0=class extends ov{constructor(t){super(0),this._string=null,this._toString=R0({output:[t,t]})}static create(t){return new D0(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ze.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=R0({output:[this.getValue(),t]})),this._value=0,super.reset()}},cA={dependencies:null},x1=class extends gN{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Ya(this.source,(n,r)=>{wX(n)?e[r]=n.getValue(t):Mo(n)?e[r]=fs(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Wt(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Ya(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){cA.dependencies&&Mo(t)&&cA.dependencies.add(t);const e=y1(t);e&&Wt(e,n=>this.add(n))}},vN=class extends x1{constructor(t){super(t)}static create(t){return new vN(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(EX)),!0)}};function EX(t){return(v1(t)?D0:ov).create(t)}function OE(t){const e=Na(t);return e?e.constructor:ze.arr(t)?vN:v1(t)?D0:ov}var II=(t,e)=>{const n=!ze.fun(t)||t.prototype&&t.prototype.isReactComponent;return U.forwardRef((r,i)=>{const s=U.useRef(null),o=n&&U.useCallback(x=>{s.current=bX(i,x)},[i]),[a,l]=CX(r,e),u=Sb(),h=()=>{const x=s.current;if(n&&!x)return;(x?e.applyAnimatedValues(x,a.getValue(!0)):!1)===!1&&u()},p=new TX(h,l),g=U.useRef();Qu(()=>(g.current=p,Wt(l,x=>Qp(x,p)),()=>{g.current&&(Wt(g.current.deps,x=>B0(x,g.current)),Yt.cancel(g.current.update))})),U.useEffect(h,[]),Mb(()=>()=>{const x=g.current;Wt(x.deps,E=>B0(E,x))});const v=e.getComponentProps(a.getValue());return U.createElement(t,{...v,ref:o})})},TX=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Yt.write(this.update)}};function CX(t,e){const n=new Set;return cA.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new x1(t),cA.dependencies=null,[t,n]}function bX(t,e){return t&&(ze.fun(t)?t(e):t.current=e),e}var BI=Symbol.for("AnimatedComponent"),RX=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new x1(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},s=o=>{const a=LI(o)||"Anonymous";return ze.str(o)?o=s[o]||(s[o]=II(o,i)):o=o[BI]||(o[BI]=II(o,i)),o.displayName=`Animated(${a})`,o};return Ya(t,(o,a)=>{ze.arr(t)&&(a=LI(o)),s[a]=s(o)}),{animated:s}},LI=t=>ze.str(t)?t:t&&ze.str(t.displayName)?t.displayName:ze.fun(t)&&t.name||null;function hs(t,...e){return ze.fun(t)?t(...e):t}var Qg=(t,e)=>t===!0||!!(e&&t&&(ze.fun(t)?t(e):Yi(t).includes(e))),yN=(t,e)=>ze.obj(t)?e&&t[e]:t,xN=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,PX=t=>t,_1=(t,e=PX)=>{let n=IX;t.default&&t.default!==!0&&(t=t.default,n=Object.keys(t));const r={};for(const i of n){const s=e(t[i],i);ze.und(s)||(r[i]=s)}return r},IX=["config","onProps","onStart","onChange","onPause","onResume","onRest"],BX={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function LX(t){const e={};let n=0;if(Ya(t,(r,i)=>{BX[i]||(e[i]=r,n++)}),n)return e}function Eb(t){const e=LX(t);if(e){const n={to:e};return Ya(t,(r,i)=>i in e||(n[i]=r)),n}return{...t}}function F0(t){return t=fs(t),ze.arr(t)?t.map(F0):v1(t)?ca.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function _N(t){for(const e in t)return!0;return!1}function NE(t){return ze.fun(t)||ze.arr(t)&&ze.obj(t[0])}function UE(t,e){var n;(n=t.ref)==null||n.delete(t),e==null||e.delete(t)}function Tb(t,e){var n;e&&t.ref!==e&&((n=t.ref)==null||n.delete(t),e.add(t),t.ref=e)}var DX={default:{tension:170,friction:26}},kE={...DX.default,mass:1,damping:1,easing:Io.linear,clamp:!1},FX=class{constructor(){this.velocity=0,Object.assign(this,kE)}};function OX(t,e,n){n&&(n={...n},DI(n,e),e={...n,...e}),DI(t,e),Object.assign(t,e);for(const o in kE)t[o]==null&&(t[o]=kE[o]);let{frequency:r,damping:i}=t;const{mass:s}=t;return ze.und(r)||(r<.01&&(r=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/r,2)*s,t.friction=4*Math.PI*i*s/r),t}function DI(t,e){if(!ze.und(e.decay))t.duration=void 0;else{const n=!ze.und(e.tension)||!ze.und(e.friction);(n||!ze.und(e.frequency)||!ze.und(e.damping)||!ze.und(e.mass))&&(t.duration=void 0,t.decay=void 0),n&&(t.frequency=void 0)}}var FI=[],NX=class{constructor(){this.changed=!1,this.values=FI,this.toValues=null,this.fromValues=FI,this.config=new FX,this.immediate=!1}};function AN(t,{key:e,props:n,defaultProps:r,state:i,actions:s}){return new Promise((o,a)=>{let l,u,h=Qg(n.cancel??(r==null?void 0:r.cancel),e);if(h)v();else{ze.und(n.pause)||(i.paused=Qg(n.pause,e));let x=r==null?void 0:r.pause;x!==!0&&(x=i.paused||Qg(x,e)),l=hs(n.delay||0,e),x?(i.resumeQueue.add(g),s.pause()):(s.resume(),g())}function p(){i.resumeQueue.add(g),i.timeouts.delete(u),u.cancel(),l=u.time-Yt.now()}function g(){l>0&&!ca.skipAnimation?(i.delayed=!0,u=Yt.setTimeout(v,l),i.pauseQueue.add(p),i.timeouts.add(u)):v()}function v(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(p),i.timeouts.delete(u),t<=(i.cancelId||0)&&(h=!0);try{s.start({...n,callId:t,cancel:h},o)}catch(x){a(x)}}})}var Cb=(t,e)=>e.length==1?e[0]:e.some(n=>n.cancelled)?pp(t.get()):e.every(n=>n.noop)?SN(t.get()):ta(t.get(),e.every(n=>n.finished)),SN=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),ta=(t,e,n=!1)=>({value:t,finished:e,cancelled:n}),pp=t=>({value:t,cancelled:!0,finished:!1});function MN(t,e,n,r){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=n;return!s&&t===a&&!e.reset?l:n.promise=(async()=>{n.asyncId=i,n.asyncTo=t;const u=_1(e,(M,y)=>y==="onRest"?void 0:M);let h,p;const g=new Promise((M,y)=>(h=M,p=y)),v=M=>{const y=i<=(n.cancelId||0)&&pp(r)||i!==n.asyncId&&ta(r,!1);if(y)throw M.result=y,p(M),M},x=(M,y)=>{const S=new OI,A=new NI;return(async()=>{if(ca.skipAnimation)throw O0(n),A.result=ta(r,!1),p(A),A;v(S);const C=ze.obj(M)?{...M}:{...y,to:M};C.parentId=i,Ya(u,(L,D)=>{ze.und(C[D])&&(C[D]=L)});const P=await r.start(C);return v(S),n.paused&&await new Promise(L=>{n.resumeQueue.add(L)}),P})()};let E;if(ca.skipAnimation)return O0(n),ta(r,!1);try{let M;ze.arr(t)?M=(async y=>{for(const S of y)await x(S)})(t):M=Promise.resolve(t(x,r.stop.bind(r))),await Promise.all([M.then(h),g]),E=ta(r.get(),!0,!1)}catch(M){if(M instanceof OI)E=M.result;else if(M instanceof NI)E=M.result;else throw M}finally{i==n.asyncId&&(n.asyncId=s,n.asyncTo=s?a:void 0,n.promise=s?l:void 0)}return ze.fun(o)&&Yt.batchedUpdates(()=>{o(E,r,r.item)}),E})()}function O0(t,e){Kg(t.timeouts,n=>n.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var OI=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},NI=class extends Error{constructor(){super("SkipAnimationSignal")}},HE=t=>t instanceof bb,UX=1,bb=class extends fN{constructor(){super(...arguments),this.id=UX++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Na(this);return t&&t.getValue()}to(...t){return ca.to(this,t)}interpolate(...t){return vX(),ca.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){I0(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||p1.sort(this),I0(this,{type:"priority",parent:this,priority:t})}},ah=Symbol.for("SpringPhase"),wN=1,zE=2,GE=4,mM=t=>(t[ah]&wN)>0,Pu=t=>(t[ah]&zE)>0,ug=t=>(t[ah]&GE)>0,UI=(t,e)=>e?t[ah]|=zE|wN:t[ah]&=~zE,kI=(t,e)=>e?t[ah]|=GE:t[ah]&=~GE,kX=class extends bb{constructor(t,e){if(super(),this.animation=new NX,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ze.und(t)||!ze.und(e)){const n=ze.obj(t)?{...t}:{...e,from:t};ze.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Pu(this)||this._state.asyncTo)||ug(this)}get goal(){return fs(this.animation.to)}get velocity(){const t=Na(this);return t instanceof ov?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return mM(this)}get isAnimating(){return Pu(this)}get isPaused(){return ug(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,n=!1;const r=this.animation;let{toValues:i}=r;const{config:s}=r,o=y1(r.to);!o&&Mo(r.to)&&(i=Yi(fs(r.to))),r.values.forEach((u,h)=>{if(u.done)return;const p=u.constructor==D0?1:o?o[h].lastPosition:i[h];let g=r.immediate,v=p;if(!g){if(v=u.lastPosition,s.tension<=0){u.done=!0;return}let x=u.elapsedTime+=t;const E=r.fromValues[h],M=u.v0!=null?u.v0:u.v0=ze.arr(s.velocity)?s.velocity[h]:s.velocity;let y;const S=s.precision||(E==p?.005:Math.min(1,Math.abs(p-E)*.001));if(ze.und(s.duration))if(s.decay){const A=s.decay===!0?.998:s.decay,C=Math.exp(-(1-A)*x);v=E+M/(1-A)*(1-C),g=Math.abs(u.lastPosition-v)<=S,y=M*C}else{y=u.lastVelocity==null?M:u.lastVelocity;const A=s.restVelocity||S/10,C=s.clamp?0:s.bounce,P=!ze.und(C),L=E==p?u.v0>0:E<p;let D,N=!1;const I=1,F=Math.ceil(t/I);for(let W=0;W<F&&(D=Math.abs(y)>A,!(!D&&(g=Math.abs(p-v)<=S,g)));++W){P&&(N=v==p||v>p==L,N&&(y=-y*C,v=p));const ce=-s.tension*1e-6*(v-p),re=-s.friction*.001*y,Q=(ce+re)/s.mass;y=y+Q*I,v=v+y*I}}else{let A=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,x=u.elapsedTime+=t)),A=(s.progress||0)+x/this._memoizedDuration,A=A>1?1:A<0?0:A,u.durationProgress=A),v=E+s.easing(A)*(p-E),y=(v-u.lastPosition)/t,g=A==1}u.lastVelocity=y,Number.isNaN(v)&&(console.warn("Got NaN while animating:",this),g=!0)}o&&!o[h].done&&(g=!1),g?u.done=!0:e=!1,u.setValue(v,s.round)&&(n=!0)});const a=Na(this),l=a.getValue();if(e){const u=fs(r.to);(l!==u||n)&&!s.decay?(a.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(t){return Yt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Pu(this)){const{to:t,config:e}=this.animation;Yt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let n;return ze.und(t)?(n=this.queue||[],this.queue=[]):n=[ze.obj(t)?t:{...e,to:t}],Promise.all(n.map(r=>this._update(r))).then(r=>Cb(this,r))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),O0(this._state,t&&this._lastCallId),Yt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:n,from:r}=t;n=ze.obj(n)?n[e]:n,(n==null||NE(n))&&(n=void 0),r=ze.obj(r)?r[e]:r,r==null&&(r=void 0);const i={to:n,from:r};return mM(this)||(t.reverse&&([n,r]=[r,n]),r=fs(r),ze.und(r)?Na(this)||this._set(n):this._set(r)),i}_update({...t},e){const{key:n,defaultProps:r}=this;t.default&&Object.assign(r,_1(t,(o,a)=>/^on/.test(a)?yN(o,n):o)),zI(this,t,"onProps"),fg(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return AN(++this._lastCallId,{key:n,props:t,defaultProps:r,state:s,actions:{pause:()=>{ug(this)||(kI(this,!0),Fg(s.pauseQueue),fg(this,"onPause",ta(this,cg(this,this.animation.to)),this))},resume:()=>{ug(this)&&(kI(this,!1),Pu(this)&&this._resume(),Fg(s.resumeQueue),fg(this,"onResume",ta(this,cg(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=EN(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,n){if(e.cancel)return this.stop(!0),n(pp(this));const r=!ze.und(t.to),i=!ze.und(t.from);if(r||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return n(pp(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:h=l,from:p=u}=t;i&&!r&&(!e.default||ze.und(h))&&(h=p),e.reverse&&([h,p]=[p,h]);const g=!Tl(p,u);g&&(a.from=p),p=fs(p);const v=!Tl(h,l);v&&this._focus(h);const x=NE(e.to),{config:E}=a,{decay:M,velocity:y}=E;(r||i)&&(E.velocity=0),e.config&&!x&&OX(E,hs(e.config,s),e.config!==o.config?hs(o.config,s):void 0);let S=Na(this);if(!S||ze.und(h))return n(ta(this,!0));const A=ze.und(e.reset)?i&&!e.default:!ze.und(p)&&Qg(e.reset,s),C=A?p:this.get(),P=F0(h),L=ze.num(P)||ze.arr(P)||v1(P),D=!x&&(!L||Qg(o.immediate||e.immediate,s));if(v){const W=OE(h);if(W!==S.constructor)if(D)S=this._set(P);else throw Error(`Cannot animate between ${S.constructor.name} and ${W.name}, as the "to" prop suggests`)}const N=S.constructor;let I=Mo(h),F=!1;if(!I){const W=A||!mM(this)&&g;(v||W)&&(F=Tl(F0(C),P),I=!F),(!Tl(a.immediate,D)&&!D||!Tl(E.decay,M)||!Tl(E.velocity,y))&&(I=!0)}if(F&&Pu(this)&&(a.changed&&!A?I=!0:I||this._stop(l)),!x&&((I||Mo(l))&&(a.values=S.getPayload(),a.toValues=Mo(h)?null:N==D0?[1]:Yi(P)),a.immediate!=D&&(a.immediate=D,!D&&!A&&this._set(l)),I)){const{onRest:W}=a;Wt(zX,re=>zI(this,e,re));const ce=ta(this,cg(this,l));Fg(this._pendingCalls,ce),this._pendingCalls.add(n),a.changed&&Yt.batchedUpdates(()=>{var re;a.changed=!A,W==null||W(ce,this),A?hs(o.onRest,ce):(re=a.onStart)==null||re.call(a,ce,this)})}A&&this._set(C),x?n(MN(e.to,e,this._state,this)):I?this._start():Pu(this)&&!v?this._pendingCalls.add(n):n(SN(C))}_focus(t){const e=this.animation;t!==e.to&&(RI(this)&&this._detach(),e.to=t,RI(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Mo(e)&&(Qp(e,this),HE(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Mo(t)&&B0(t,this)}_set(t,e=!0){const n=fs(t);if(!ze.und(n)){const r=Na(this);if(!r||!Tl(n,r.getValue())){const i=OE(n);!r||r.constructor!=i?wb(this,i.create(n)):r.setValue(n),r&&Yt.batchedUpdates(()=>{this._onChange(n,e)})}}return Na(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,fg(this,"onStart",ta(this,cg(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),hs(this.animation.onChange,t,this)),hs(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Na(this).reset(fs(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Pu(this)||(UI(this,!0),ug(this)||this._resume())}_resume(){ca.skipAnimation?this.finish():p1.start(this)}_stop(t,e){if(Pu(this)){UI(this,!1);const n=this.animation;Wt(n.values,i=>{i.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),I0(this,{type:"idle",parent:this});const r=e?pp(this.get()):ta(this.get(),cg(this,t??n.to));Fg(this._pendingCalls,r),n.changed&&(n.changed=!1,fg(this,"onRest",r,this))}}};function cg(t,e){const n=F0(e),r=F0(t.get());return Tl(r,n)}function EN(t,e=t.loop,n=t.to){const r=hs(e);if(r){const i=r!==!0&&Eb(r),s=(i||t).reverse,o=!i||i.reset;return N0({...t,loop:e,default:!1,pause:void 0,to:!s||NE(n)?n:void 0,from:o?t.from:void 0,reset:o,...i})}}function N0(t){const{to:e,from:n}=t=Eb(t),r=new Set;return ze.obj(e)&&HI(e,r),ze.obj(n)&&HI(n,r),t.keys=r.size?Array.from(r):null,t}function HX(t){const e=N0(t);return ze.und(e.default)&&(e.default=_1(e)),e}function HI(t,e){Ya(t,(n,r)=>n!=null&&e.add(r))}var zX=["onStart","onRest","onChange","onPause","onResume"];function zI(t,e,n){t.animation[n]=e[n]!==xN(e,n)?yN(e[n],t.key):void 0}function fg(t,e,...n){var r,i,s,o;(i=(r=t.animation)[e])==null||i.call(r,...n),(o=(s=t.defaultProps)[e])==null||o.call(s,...n)}var GX=["onStart","onChange","onRest"],VX=1,TN=class{constructor(t,e){this.id=VX++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,n)=>t[n]=e.get()),t}set(t){for(const e in t){const n=t[e];ze.und(n)||this.springs[e].set(n)}}update(t){return t&&this.queue.push(N0(t)),this}start(t){let{queue:e}=this;return t?e=Yi(t).map(N0):this.queue=[],this._flush?this._flush(this,e):(IN(this,e),VE(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const n=this.springs;Wt(Yi(e),r=>n[r].stop(!!t))}else O0(this._state,this._lastAsyncId),this.each(n=>n.stop(!!t));return this}pause(t){if(ze.und(t))this.start({pause:!0});else{const e=this.springs;Wt(Yi(t),n=>e[n].pause())}return this}resume(t){if(ze.und(t))this.start({pause:!1});else{const e=this.springs;Wt(Yi(t),n=>e[n].resume())}return this}each(t){Ya(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Kg(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!r&&this._started,o=i||s&&n.size?this.get():null;i&&e.size&&Kg(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,Kg(n,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Yt.onFrame(this._onFrame)}};function VE(t,e){return Promise.all(e.map(n=>CN(t,n))).then(n=>Cb(t,n))}async function CN(t,e,n){const{keys:r,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=ze.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const h=ze.arr(i)||ze.fun(i)?i:void 0;h?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):Wt(GX,E=>{const M=e[E];if(ze.fun(M)){const y=t._events[E];e[E]=({finished:S,cancelled:A})=>{const C=y.get(M);C?(S||(C.finished=!1),A&&(C.cancelled=!0)):y.set(M,{value:null,finished:S||!1,cancelled:A||!1})},u&&(u[E]=e[E])}});const p=t._state;e.pause===!p.paused?(p.paused=e.pause,Fg(e.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(e.pause=!0);const g=(r||Object.keys(t.springs)).map(E=>t.springs[E].start(e)),v=e.cancel===!0||xN(e,"cancel")===!0;(h||v&&p.asyncId)&&g.push(AN(++t._lastAsyncId,{props:e,state:p,actions:{pause:LE,resume:LE,start(E,M){v?(O0(p,t._lastAsyncId),M(pp(t))):(E.onRest=a,M(MN(h,E,p,t)))}}})),p.paused&&await new Promise(E=>{p.resumeQueue.add(E)});const x=Cb(t,await Promise.all(g));if(o&&x.finished&&!(n&&x.noop)){const E=EN(e,o,i);if(E)return IN(t,[E]),CN(t,E,!0)}return l&&Yt.batchedUpdates(()=>l(x,t,t.item)),x}function WE(t,e){const n={...t.springs};return e&&Wt(Yi(e),r=>{ze.und(r.keys)&&(r=N0(r)),ze.obj(r.to)||(r={...r,to:void 0}),PN(n,r,i=>RN(i))}),bN(t,n),n}function bN(t,e){Ya(e,(n,r)=>{t.springs[r]||(t.springs[r]=n,Qp(n,t))})}function RN(t,e){const n=new kX;return n.key=t,e&&Qp(n,e),n}function PN(t,e,n){e.keys&&Wt(e.keys,r=>{(t[r]||(t[r]=n(r)))._prepareNode(e)})}function IN(t,e){Wt(e,n=>{PN(t.springs,n,r=>RN(r,t))})}var av=({children:t,...e})=>{const n=U.useContext(fA),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=AX(()=>({pause:r,immediate:i}),[r,i]);const{Provider:s}=fA;return U.createElement(s,{value:e},t)},fA=WX(av,{});av.Provider=fA.Provider;av.Consumer=fA.Consumer;function WX(t,e){return Object.assign(t,U.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var BN=()=>{const t=[],e=function(r){xX();const i=[];return Wt(t,(s,o)=>{if(ze.und(r))i.push(s.start());else{const a=n(r,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const i=t.indexOf(r);~i&&t.splice(i,1)},e.pause=function(){return Wt(t,r=>r.pause(...arguments)),this},e.resume=function(){return Wt(t,r=>r.resume(...arguments)),this},e.set=function(r){Wt(t,(i,s)=>{const o=ze.fun(r)?r(s,i):r;o&&i.set(o)})},e.start=function(r){const i=[];return Wt(t,(s,o)=>{if(ze.und(r))i.push(s.start());else{const a=this._getProps(r,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Wt(t,r=>r.stop(...arguments)),this},e.update=function(r){return Wt(t,(i,s)=>i.update(this._getProps(r,i,s))),this};const n=function(r,i,s){return ze.fun(r)?r(s,i):r};return e._getProps=n,e};function LN(t,e,n){const r=ze.fun(e)&&e;r&&!n&&(n=[]);const i=U.useMemo(()=>r||arguments.length==3?BN():void 0,[]),s=U.useRef(0),o=Sb(),a=U.useMemo(()=>({ctrls:[],queue:[],flush(y,S){const A=WE(y,S);return s.current>0&&!a.queue.length&&!Object.keys(A).some(P=>!y.springs[P])?VE(y,S):new Promise(P=>{bN(y,A),a.queue.push(()=>{P(VE(y,S))}),o()})}}),[]),l=U.useRef([...a.ctrls]),u=[],h=FE(t)||0;U.useMemo(()=>{Wt(l.current.slice(t,h),y=>{UE(y,i),y.stop(!0)}),l.current.length=t,p(h,t)},[t]),U.useMemo(()=>{p(0,Math.min(h,t))},n);function p(y,S){for(let A=y;A<S;A++){const C=l.current[A]||(l.current[A]=new TN(null,a.flush)),P=r?r(A,C):e[A];P&&(u[A]=HX(P))}}const g=l.current.map((y,S)=>WE(y,u[S])),v=U.useContext(av),x=FE(v),E=v!==x&&_N(v);Qu(()=>{s.current++,a.ctrls=l.current;const{queue:y}=a;y.length&&(a.queue=[],Wt(y,S=>S())),Wt(l.current,(S,A)=>{i==null||i.add(S),E&&S.start({default:v});const C=u[A];C&&(Tb(S,C.ref),S.ref?S.queue.push(C):S.start(C))})}),Mb(()=>()=>{Wt(a.ctrls,y=>y.stop(!0))});const M=g.map(y=>({...y}));return i?[M,i]:M}function zt(t,e){const n=ze.fun(t),[[r],i]=LN(1,n?t:[t],n?[]:e);return n||arguments.length==2?[r,i]:r}function jX(t,e,n){const r=ze.fun(e)&&e;r&&!n&&(n=[]);let i=!0,s;const o=LN(t,(a,l)=>{const u=r?r(a,l):e;return s=u.ref,i=i&&u.reverse,u},n||[{}]);if(Qu(()=>{Wt(o[1].current,(a,l)=>{const u=o[1].current[l+(i?1:-1)];if(Tb(a,s),a.ref){u&&a.update({to:u.springs});return}u?a.start({to:u.springs}):a.start()})},n),r||arguments.length==3){const a=s??o[1];return a._getProps=(l,u,h)=>{const p=ze.fun(l)?l(h,u):l;if(p){const g=a.current[h+(p.reverse?1:-1)];return g&&(p.to=g.springs),p}},o}return o[0]}function XX(t,e,n){const r=ze.fun(e)&&e,{reset:i,sort:s,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:h,config:p}=r?r():e,g=U.useMemo(()=>r||arguments.length==3?BN():void 0,[]),v=Yi(t),x=[],E=U.useRef(null),M=i?null:E.current;Qu(()=>{E.current=x}),Mb(()=>(Wt(x,Q=>{g==null||g.add(Q.ctrl),Q.ctrl.ref=g}),()=>{Wt(E.current,Q=>{Q.expired&&clearTimeout(Q.expirationId),UE(Q.ctrl,g),Q.ctrl.stop(!0)})}));const y=KX(v,r?r():e,M),S=i&&E.current||[];Qu(()=>Wt(S,({ctrl:Q,item:ee,key:de})=>{UE(Q,g),hs(u,ee,de)}));const A=[];if(M&&Wt(M,(Q,ee)=>{Q.expired?(clearTimeout(Q.expirationId),S.push(Q)):(ee=A[ee]=y.indexOf(Q.key),~ee&&(x[ee]=Q))}),Wt(v,(Q,ee)=>{x[ee]||(x[ee]={key:y[ee],item:Q,phase:"mount",ctrl:new TN},x[ee].ctrl.item=Q)}),A.length){let Q=-1;const{leave:ee}=r?r():e;Wt(A,(de,le)=>{const V=M[le];~de?(Q=x.indexOf(V),x[Q]={...V,item:v[de]}):ee&&x.splice(++Q,0,V)})}ze.fun(s)&&x.sort((Q,ee)=>s(Q.item,ee.item));let C=-o;const P=Sb(),L=_1(e),D=new Map,N=U.useRef(new Map),I=U.useRef(!1);Wt(x,(Q,ee)=>{const de=Q.key,le=Q.phase,V=r?r():e;let te,ie;const he=hs(V.delay||0,de);if(le=="mount")te=V.enter,ie="enter";else{const Te=y.indexOf(de)<0;if(le!="leave")if(Te)te=V.leave,ie="leave";else if(te=V.update)ie="update";else return;else if(!Te)te=V.enter,ie="enter";else return}if(te=hs(te,Q.item,ee),te=ze.obj(te)?Eb(te):{to:te},!te.config){const Te=p||L.config;te.config=hs(Te,Q.item,ee,ie)}C+=o;const ne={...L,delay:he+C,ref:h,immediate:V.immediate,reset:!1,...te};if(ie=="enter"&&ze.und(ne.from)){const Te=r?r():e,Le=ze.und(Te.initial)||M?Te.from:Te.initial;ne.from=hs(Le,Q.item,ee)}const{onResolve:ye}=ne;ne.onResolve=Te=>{hs(ye,Te);const Le=E.current,Ge=Le.find(ut=>ut.key===de);if(Ge&&!(Te.cancelled&&Ge.phase!="update")&&Ge.ctrl.idle){const ut=Le.every(et=>et.ctrl.idle);if(Ge.phase=="leave"){const et=hs(a,Ge.item);if(et!==!1){const mt=et===!0?0:et;if(Ge.expired=!0,!ut&&mt>0){mt<=2147483647&&(Ge.expirationId=setTimeout(P,mt));return}}}ut&&Le.some(et=>et.expired)&&(N.current.delete(Ge),l&&(I.current=!0),P())}};const Me=WE(Q.ctrl,ne);ie==="leave"&&l?N.current.set(Q,{phase:ie,springs:Me,payload:ne}):D.set(Q,{phase:ie,springs:Me,payload:ne})});const F=U.useContext(av),W=FE(F),ce=F!==W&&_N(F);Qu(()=>{ce&&Wt(x,Q=>{Q.ctrl.start({default:F})})},[F]),Wt(D,(Q,ee)=>{if(N.current.size){const de=x.findIndex(le=>le.key===ee.key);x.splice(de,1)}}),Qu(()=>{Wt(N.current.size?N.current:D,({phase:Q,payload:ee},de)=>{const{ctrl:le}=de;de.phase=Q,g==null||g.add(le),ce&&Q=="enter"&&le.start({default:F}),ee&&(Tb(le,ee.ref),(le.ref||g)&&!I.current?le.update(ee):(le.start(ee),I.current&&(I.current=!1)))})},i?void 0:n);const re=Q=>U.createElement(U.Fragment,null,x.map((ee,de)=>{const{springs:le}=D.get(ee)||ee.ctrl,V=Q({...le},ee.item,ee,de);return V&&V.type?U.createElement(V.type,{...V.props,key:ze.str(ee.key)||ze.num(ee.key)?ee.key:ee.ctrl.id,ref:V.ref}):V}));return g?[re,g]:re}var JX=1;function KX(t,{key:e,keys:n=e},r){if(n===null){const i=new Set;return t.map(s=>{const o=r&&r.find(a=>a.item===s&&a.phase!=="leave"&&!i.has(a));return o?(i.add(o),o.key):JX++})}return ze.und(n)?t:ze.fun(n)?t.map(n):Yi(n)}var DN=class extends bb{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=R0(...e);const n=this._get(),r=OE(n);wb(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Tl(e,n)||(Na(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&GI(this._active)&&gM(this)}_get(){const t=ze.arr(this.source)?this.source.map(fs):Yi(fs(this.source));return this.calc(...t)}_start(){this.idle&&!GI(this._active)&&(this.idle=!1,Wt(y1(this),t=>{t.done=!1}),ca.skipAnimation?(Yt.batchedUpdates(()=>this.advance()),gM(this)):p1.start(this))}_attach(){let t=1;Wt(Yi(this.source),e=>{Mo(e)&&Qp(e,this),HE(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Wt(Yi(this.source),t=>{Mo(t)&&B0(t,this)}),this._active.clear(),gM(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Yi(this.source).reduce((e,n)=>Math.max(e,(HE(n)?n.priority:0)+1),0))}};function YX(t){return t.idle!==!1}function GI(t){return!t.size||Array.from(t).every(YX)}function gM(t){t.idle||(t.idle=!0,Wt(y1(t),e=>{e.done=!0}),I0(t,{type:"idle",parent:t}))}var VI=(t,...e)=>new DN(t,e);ca.assign({createStringInterpolator:pN,to:(t,e)=>new DN(t,e)});var FN=/^--/;function QX(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!FN.test(t)&&!(qg.hasOwnProperty(t)&&qg[t])?e+"px":(""+e).trim()}var WI={};function qX(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:r,children:i,scrollTop:s,scrollLeft:o,viewBox:a,...l}=e,u=Object.values(l),h=Object.keys(l).map(p=>n||t.hasAttribute(p)?p:WI[p]||(WI[p]=p.replace(/([A-Z])/g,g=>"-"+g.toLowerCase())));i!==void 0&&(t.textContent=i);for(const p in r)if(r.hasOwnProperty(p)){const g=QX(p,r[p]);FN.test(p)?t.style.setProperty(p,g):t.style[p]=g}h.forEach((p,g)=>{t.setAttribute(p,u[g])}),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),a!==void 0&&t.setAttribute("viewBox",a)}var qg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZX=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),$X=["Webkit","Ms","Moz","O"];qg=Object.keys(qg).reduce((t,e)=>($X.forEach(n=>t[ZX(n,e)]=t[e]),t),qg);var eJ=/^(matrix|translate|scale|rotate|skew)/,tJ=/^(translate)/,nJ=/^(rotate|skew)/,vM=(t,e)=>ze.num(t)&&t!==0?t+e:t,x_=(t,e)=>ze.arr(t)?t.every(n=>x_(n,e)):ze.num(t)?t===e:parseFloat(t)===e,rJ=class extends x1{constructor({x:t,y:e,z:n,...r}){const i=[],s=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),s.push(o=>[`translate3d(${o.map(a=>vM(a,"px")).join(",")})`,x_(o,0)])),Ya(r,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(eJ.test(a)){if(delete r[a],ze.und(o))return;const l=tJ.test(a)?"px":nJ.test(a)?"deg":"";i.push(Yi(o)),s.push(a==="rotate3d"?([u,h,p,g])=>[`rotate3d(${u},${h},${p},${vM(g,l)})`,x_(g,0)]:u=>[`${a}(${u.map(h=>vM(h,l)).join(",")})`,x_(u,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new iJ(i,s)),super(r)}},iJ=class extends fN{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Wt(this.inputs,(n,r)=>{const i=fs(n[0]),[s,o]=this.transforms[r](ze.arr(i)?i:n.map(fs));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&Wt(this.inputs,e=>Wt(e,n=>Mo(n)&&Qp(n,this)))}observerRemoved(t){t==0&&Wt(this.inputs,e=>Wt(e,n=>Mo(n)&&B0(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),I0(this,t)}},sJ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ca.assign({batchedUpdates:YC.unstable_batchedUpdates,createStringInterpolator:pN,colors:Z7});var oJ=RX(sJ,{applyAnimatedValues:qX,createAnimatedStyle:t=>new rJ(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n}),pt=oJ.animated,ON={exports:{}},aJ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lJ=aJ,uJ=lJ;function NN(){}function UN(){}UN.resetWarningCache=NN;var cJ=function(){function t(r,i,s,o,a,l){if(l!==uJ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UN,resetWarningCache:NN};return n.PropTypes=n,n};ON.exports=cJ();var fJ=ON.exports;const jI=hh(fJ);var kN={exports:{}};(function(t,e){(function(n,r){r()})(Ua,function(){function n(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,h,p){var g=new XMLHttpRequest;g.open("GET",u),g.responseType="blob",g.onload=function(){l(g.response,h,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ua=="object"&&Ua.global===Ua?Ua:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,h,p){var g=o.URL||o.webkitURL,v=document.createElement("a");h=h||u.name||"download",v.download=h,v.rel="noopener",typeof u=="string"?(v.href=u,v.origin===location.origin?s(v):i(v.href)?r(u,h,p):s(v,v.target="_blank")):(v.href=g.createObjectURL(u),setTimeout(function(){g.revokeObjectURL(v.href)},4e4),setTimeout(function(){s(v)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,p){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,p),h);else if(i(u))r(u,h,p);else{var g=document.createElement("a");g.href=u,g.target="_blank",setTimeout(function(){s(g)})}}:function(u,h,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof u=="string")return r(u,h,p);var v=u.type==="application/octet-stream",x=/constructor/i.test(o.HTMLElement)||o.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||v&&x||a)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var A=M.result;A=E?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=A:location=A,g=null},M.readAsDataURL(u)}else{var y=o.URL||o.webkitURL,S=y.createObjectURL(u);g?g.location=S:location.href=S,g=null,setTimeout(function(){y.revokeObjectURL(S)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(kN);var hJ=kN.exports;class dJ extends ur.Component{constructor(){super(...arguments);Da(this,"createICSFile",()=>{const o=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","DTSTART:19950215T000000Z","DTEND:19950216T000000Z","SUMMARY:Saeed Arabha's Birthday","DESCRIPTION:Saeedarabha.com","END:VEVENT","END:VCALENDAR"].join(`
`),a=new Blob([o],{type:"text/calendar;charset=utf-8"});hJ.saveAs(a,"SaeedArabhasBirthday.ics")})}render(){return q.jsxs("h1",{children:[q.jsx("strong",{children:"Date of birth:"})," ",q.jsx("button",{onClick:this.createICSFile,children:"15.02.1995"})]})}}const HN=({href:t,children:e})=>q.jsx("a",{href:t,target:"_blank",rel:"noopener noreferrer",children:e}),XI=({label:t,phone:e})=>q.jsxs("h1",{children:[q.jsxs("b",{children:[t,":"]})," ",q.jsx("a",{href:`tel:${e.replace(/[-\s]/g,"")}`,children:e})]});HN.propTypes={href:jI.string.isRequired,children:jI.node.isRequired};const Yue=({MainStyle:t})=>q.jsxs(pt.div,{style:{...t,maxWidth:"390px"},children:[q.jsx(XI,{label:"CA Cell",phone:"+1 - 416 836 5851"}),q.jsx(XI,{label:"IR Cell",phone:"+98 - 919 659 5351"})]}),Que=({MainStyle:t})=>q.jsxs(pt.div,{style:{...t,maxWidth:"390px"},children:[q.jsxs("h1",{children:[q.jsx("strong",{children:"Name:"}),q.jsx(HN,{href:"https://www.example.com/",children:"Saeed Arabha"})]}),q.jsx(dJ,{})]}),que=({title:t,size:e,padding:n})=>q.jsx(pt.p,{style:{transform:`translateY(${-e[0]/2}px)`},children:t}),pJ=t=>{const[e,n]=U.useState(0),[r,i]=U.useState(0);return U.useEffect(()=>{const s=t==null?void 0:t.current;if(!s)return;const o=()=>{const a=s.scrollTop;i(a),a<40&&n(a)};return s.addEventListener("scroll",o),()=>{s.removeEventListener("scroll",o)}},[t]),{scrollPosition:e,scrollTop:r}},mJ=(t,e,n,r)=>{const[i,s]=U.useState(0),[o,a]=U.useState(1),[l,u]=U.useState(1);return U.useEffect(()=>{const h=5*e,p=t?0:1,g=t?.9:1;s(h),a(p),u(g)},[t,e]),{style:{transform:`scale(${l})`,opacity:o,filter:`blur(${i}px)`,transition:"opacity 0.5s ease, transform 0.5s ease, filter 0.5s ease"}}},gJ=({top:t,adjustViewport:e,size:n,scrollTop:r,toggle:i,name:s,id:o,inView:a,isActive:l,initial:u,setInitial:h})=>{const p=U.useRef(!1),g=t-e,v=t-e+n[0],x=Math.min(Math.max((r-g)/(v-g),0),1),[E,M]=U.useState(!1);U.useEffect(()=>{i[0]&&i[1]!==s?M(!0):M(!1)},[i,s]);const{currentPage:y}=Li(I=>I.ui),{visibility:S}=Li(I=>I.ui),A=Yp(),[C,P]=U.useState(0);U.useEffect(()=>{S&&A.pathname==="/AcademicCV"&&y==="/AcademicCV"?P(1):S&&A.pathname==="/AcademicCV"&&y==="/"?P(2):P(3)},[A.pathname,y,S]);const L=zt({opacity:C===1?1:0,scale:C===1?1:C===2?.95:1.2,y:C===1?0:C===2?-20:20,delay:C===2?o*110:500+o*110,config:{duration:500},onRest:()=>{u||h(!0),p.current=!0}}),D=mJ(E,x);return p.current&&C===1?{...D.style}:{...L}};var vJ=Object.defineProperty,yJ=(t,e,n)=>e in t?vJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ox=(t,e,n)=>yJ(t,typeof e!="symbol"?e+"":e,n),jE=new Map,ax=new WeakMap,JI=0,xJ=void 0;function _J(t){return t?(ax.has(t)||(JI+=1,ax.set(t,JI.toString())),ax.get(t)):"0"}function AJ(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?_J(t.root):t[e]}`).toString()}function SJ(t){const e=AJ(t);let n=jE.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const u=a.isIntersecting&&i.some(h=>a.intersectionRatio>=h);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(h=>{h(u,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},jE.set(e,n)}return n}function zN(t,e,n={},r=xJ){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=SJ(n),a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),jE.delete(i))}}function MJ(t){return typeof t.children!="function"}var wJ=class extends U.Component{constructor(t){super(t),ox(this,"node",null),ox(this,"_unobserveCb",null),ox(this,"handleNode",e=>{this.node&&(this.unobserve(),!e&&!this.props.triggerOnce&&!this.props.skip&&this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=e||null,this.observeNode()}),ox(this,"handleChange",(e,n)=>{e&&this.props.triggerOnce&&this.unobserve(),MJ(this.props)||this.setState({inView:e,entry:n}),this.props.onChange&&this.props.onChange(e,n)}),this.state={inView:!!t.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(t){(t.rootMargin!==this.props.rootMargin||t.root!==this.props.root||t.threshold!==this.props.threshold||t.skip!==this.props.skip||t.trackVisibility!==this.props.trackVisibility||t.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;const{threshold:t,root:e,rootMargin:n,trackVisibility:r,delay:i,fallbackInView:s}=this.props;this._unobserveCb=zN(this.node,this.handleChange,{threshold:t,root:e,rootMargin:n,trackVisibility:r,delay:i},s)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){const{children:t}=this.props;if(typeof t=="function"){const{inView:v,entry:x}=this.state;return t({inView:v,entry:x,ref:this.handleNode})}const{as:e,triggerOnce:n,threshold:r,root:i,rootMargin:s,onChange:o,skip:a,trackVisibility:l,delay:u,initialInView:h,fallbackInView:p,...g}=this.props;return U.createElement(e||"div",{ref:this.handleNode,...g},t)}};function Zue({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var h;const[p,g]=U.useState(null),v=U.useRef(),[x,E]=U.useState({inView:!!a,entry:void 0});v.current=u,U.useEffect(()=>{if(o||!p)return;let A;return A=zN(p,(C,P)=>{E({inView:C,entry:P}),v.current&&v.current(C,P),P.isIntersecting&&s&&A&&(A(),A=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{A&&A()}},[Array.isArray(t)?t.toString():t,p,i,r,s,o,n,l,e]);const M=(h=x.entry)==null?void 0:h.target,y=U.useRef();!p&&M&&!s&&!o&&y.current!==M&&(y.current=M,E({inView:!!a,entry:void 0}));const S=[g,x.inView,x.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}const KI=t=>{const[e,n]=U.useState({width:0,height:0,maxHeight:0,maxWidth:0});return U.useEffect(()=>{let r;const i=()=>{const o=document.getElementById(t);o&&n({width:o.offsetWidth,height:o.offsetHeight,Top:o.offsetTop})};return r=setInterval(()=>{document.getElementById(t)&&(clearInterval(r),i(),window.addEventListener("resize",i))},100),()=>{clearInterval(r),window.removeEventListener("resize",i)}},[t,e.width,e.height,e.maxWidth,e.maxHeight]),e},GN=U.createContext(null),$ue=({children:t})=>{const e=U.useRef(null);return q.jsx(GN.Provider,{value:e,children:t})},EJ=()=>{const t=U.useContext(GN);return t===null?{current:null}:t},TJ=({isActive:t,title:e,explanation:n,widthSplit:r,name:i,stages:s})=>{const o=U.useRef(null),a=U.useRef(null),l=U.useRef(null),[u,h]=U.useState([0,0,0]);U.useEffect(()=>{const E=()=>{var y,S,A;h([((y=o.current)==null?void 0:y.offsetWidth)||0,((S=a.current)==null?void 0:S.offsetWidth)||0,((A=l.current)==null?void 0:A.offsetWidth)||0])},M=new ResizeObserver(()=>{E()});return o.current&&M.observe(o.current),a.current&&M.observe(a.current),l.current&&M.observe(l.current),E(),()=>{M.disconnect()}},[]);const p=zt({top:t?25:15,width:(i==="Teaching"||i==="Awards")&&!s[1]?"80%":"100%",justifyContent:"center",alignItems:"baseline"}),g=zt({position:"absolute",fontSize:t?i==="Awards"?20:i==="Qualifications"?30:i==="Conference"?22:i==="Teaching"?5:30:i==="Teaching"||i==="Awards"?20:22,width:i==="Teaching"||i==="Awards"?"80%":"max-content",top:t?-10:-5,opacity:!t||!r?1:0,left:i==="Teaching"||i==="Awards"||t?20:(u[2]-u[0])/2}),v=zt({position:"absolute",width:"70vw",left:t?20:(u[2]-u[0])/2,top:t?-5:0,opacity:t?1:0,textWrap:"nowrap"}),x=zt({position:"absolute",width:"max-content",maxWidth:t?"80%":"100%",top:20,opacity:t||!r?1:0,left:r?25:u[2]-u[1]?t?20:(u[2]-u[1])/2:0});return q.jsxs(pt.div,{ref:l,style:p,className:"SecondTitle",children:[q.jsx(pt.h2,{style:{...g},ref:o,children:e}),r&&q.jsx(pt.h2,{style:{...v},ref:o,children:e}),q.jsx(pt.span,{style:{...x},ref:a,children:n})]})},CJ=ur.memo(TJ);var VN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},YI=ur.createContext&&ur.createContext(VN),uc=function(){return uc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},uc.apply(this,arguments)},bJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function WN(t){return t&&t.map(function(e,n){return ur.createElement(e.tag,uc({key:n},e.attr),WN(e.child))})}function qp(t){return function(e){return ur.createElement(RJ,uc({attr:uc({},t.attr)},e),WN(t.child))}}function RJ(t){var e=function(n){var r=t.attr,i=t.size,s=t.title,o=bJ(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),ur.createElement("svg",uc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:uc(uc({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&ur.createElement("title",null,s),t.children)};return YI!==void 0?ur.createElement(YI.Consumer,null,function(n){return e(n)}):e(VN)}function PJ(t){return qp({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"}}]})(t)}const IJ=({isOpen:t,Test:e,CloseOpen:n,handleClickClose:r,backgroundColor:i})=>{const s={duration:400,easing:Io.easeOutCubic};zt({to:{right:t?"12px":"17px",width:t?"15px":"10px",bottom:t?"18px":"20px"},from:{right:"17px",width:"10px",bottom:"20px",transform:"rotate(-45deg)"},config:s}),zt({to:{right:t?"12px":"11px",width:t?"15px":"10px",bottom:t?"18px":"20px"},from:{right:"11px",width:"10px",bottom:"20px",transform:"rotate(45deg)"},config:s});const[o,a]=zt(()=>({left:"-10px",opacity:"0"})),[l,u]=zt(()=>({backgroundColor:i,width:60,height:60,borderRadius:35,color:"rgba(255, 193, 161, 0.6)",opacity:1})),[h,p]=zt(()=>({right:"5px",top:"-5px",width:60,height:60})),g=()=>{},v=()=>{},x=zt({opacity:n?"1":"0",scale:n?"1":"0",position:"absolute",bottom:10,right:10,width:60,height:60,display:"flex",alignItems:"center",justifyContent:"center",zIndex:25});return q.jsx(pt.div,{className:"MoreInfoClose",style:x,onClick:()=>r(),children:q.jsx(pt.div,{className:"icon-wrapper",onMouseOver:g,onMouseLeave:v,style:l,children:q.jsx(PJ,{})})})};function QI(t){return qp({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}}]})(t)}const BJ=({CloseOpen:t,MouseHover:e,Show:n,backgroundColor:r,Stages:i})=>{const s=t&&n,o=!t&&e,a=t?0:o?i[2]?10:20:0,l=t?-20:o?-15:-20,u=t?0:o?-15:-5,h=zt({opacity:s||o?1:0,paddingBottom:a,height:50}),p=zt({display:"flex",flexDirection:"column",opacity:o?1:0,marginBottom:l,transform:`translateY(${u}px)`}),g=zt({opacity:s?0:o?1:0,margin:0,color:"#d49d81cb"}),v=`linear-gradient(rgba(0, 0, 0, 0) 0%, rgb(17 18 22) 100%)
  }%)`,x=i[2]?"Click for More Info":"More Info";return q.jsxs(pt.div,{style:{...h,background:v,zIndex:100},className:"More-Paper-Info",children:[q.jsx(pt.div,{style:p,children:q.jsx(QI,{})}),q.jsx(pt.div,{style:p,children:q.jsx(QI,{})}),q.jsx(pt.p,{style:g,children:x})]})};function LJ(t){return qp({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14.5895 16.0032L5.98291 7.39664L7.39712 5.98242L16.0037 14.589V7.00324H18.0037V18.0032H7.00373V16.0032H14.5895Z"}}]})(t)}function ece(t){return qp({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 20.9811C3.64378 20.7257 1 17.9216 1 14.5C1 12.1716 2.22429 10.1291 4.06426 8.9812C4.56469 5.044 7.92686 2 12 2C16.0731 2 19.4353 5.044 19.9357 8.9812C21.7757 10.1291 23 12.1716 23 14.5C23 17.9216 20.3562 20.7257 17 20.9811V21H7V20.9811ZM13 12V8H11V12H8L12 17L16 12H13Z"}}]})(t)}const DJ=({isOpen:t,Test:e,CloseOpen:n,handleClickClose:r,backgroundColor:i,seqId:s,widthSplit:o})=>{const a={duration:400,easing:Io.easeOutCubic};zt({to:{right:t?"12px":"17px",width:t?"15px":"10px",bottom:t?"18px":"20px"},from:{right:"17px",width:"10px",bottom:"20px",transform:"rotate(-45deg)"},config:a}),zt({to:{right:t?"12px":"11px",width:t?"15px":"10px",bottom:t?"18px":"20px"},from:{right:"11px",width:"10px",bottom:"20px",transform:"rotate(45deg)"},config:a});const[l,u]=zt(()=>({left:"-10px",opacity:"0"})),[h,p]=zt(()=>({scale:"1.3",y:2,color:`rgb(255 193 161 / ${n?0:60}%)`,opacity:n?"0":"1"})),[g,v]=zt(()=>({right:"0px"})),{visibility:x}=Li(C=>C.ui),[E,M]=U.useState(!1),y=[2200,200,600],S=zt({position:"absolute",top:-12,margin:"0 auto",fontSize:8,width:"max-content",left:85,color:"#d49d81",opacity:.5}),A=zt({from:{opacity:0,scale:0},to:{opacity:x?n?0:1:0,scale:x?n?0:1:0,position:"absolute",bottom:o?0:10,right:o?-10:10,width:o?500:60,height:o?30:60,borderRadius:o?0:35,background:o?"linear-gradient(to right, #504d4a2e 0%, #6f3c2221 100%)":i,display:"flex",zIndex:1e4,alignItems:"center",justifyContent:"center"},config:{duration:E?void 0:y[2]},onRest:()=>M(!0)});return q.jsx(pt.div,{style:A,onClick:()=>r(),children:q.jsxs(pt.div,{style:{...h},children:[!o&&q.jsx(LJ,{}),o&&q.jsx(pt.h3,{style:S,children:"Click for More"})]})})},FJ=(t,e,n,r,i,s,o,a)=>U.useMemo(()=>{if(!t)return null;const u="#6f3c2221";return q.jsxs(q.Fragment,{children:[q.jsx(IJ,{isOpen:!0,Test:"Close",CloseOpen:e,handleClickClose:n,backgroundColor:u}),q.jsx(BJ,{CloseOpen:e,MouseHover:r,Show:!1,backgroundColor:u,Stages:s}),q.jsx(DJ,{isOpen:!0,CloseOpen:e,handleClickClose:n,backgroundColor:u,seqId:o,widthSplit:a})]})},[t,e,n,r,i,s,o]),OJ=t=>{const{id:e,explanation:n,title:r,name:i,background:s,isActive:o,isHovered:a,isClickable:l,TextRef:u,handleClickClose:h,handleMouseUp:p,handleMouseDown:g,handleMouseEnter:v,handleMouseLeave:x,seqId:E,widthSplit:M,openType:y,size:S,ParentRef:A,top:C,adjustViewport:P,adjustTop:L,adjustHeight:D}=t,{stages:N,toggle:I}=Li(Ne=>Ne.data),F=EJ(),{scrollTop:W}=pJ(F),ce=FJ(l,o,h,a,s,N,E,M),[re,Q]=U.useState(1),[ee,de]=U.useState(!1),le=Ne=>{!o&&Q(.95)},V=Ne=>{g(Ne),le()},te=Ne=>{Q(1)},ie=Ne=>{p(Ne),te()},he={onMouseUp:ie,onMouseDown:V,onMouseEnter:v,onMouseLeave:x,onTouchStart:V,onTouchEnd:ie},ne=zt({position:"absolute",opacity:.15,fontSize:100,top:o?-50:-55,left:o?-5:-10}),[ye,Me]=U.useState(C+(N[1]?N[2]?0:-60:L)),Te=document.getElementById("MoreInfoAcademic"),Le=KI("MoreInfoAcademic").width,Ge=KI("AcademicCV-M").height,ut=!N[1]&&!N[2]&&Ge>640?(Ge-640)/2:0,{activeHeight:et,notActiveHeight:mt,fullView:He}=U.useMemo(()=>{var rt;let Ne=!1;const Be=Te?Te.clientHeight:window.innerHeight;let Ke=S[0];if((rt=A==null?void 0:A.current)!=null&&rt.scrollHeight){const gt=A.current.scrollHeight;Be>gt?Ke=gt+A.current.offsetTop+25:(Ke=Be-50-ut,Ne=!0)}const qe=S[0];return{activeHeight:Ke,notActiveHeight:qe,fullView:Ne}},[S,A==null?void 0:A.current,Te,o]),K={cursor:"pointer",filter:"blur(0px)",backgroundColor:"rgba(0, 0, 0, 0.3)",scale:re,border:"2px solid rgba(212, 157, 129, 0.2)",marginBottom:N[1]?"10px":"0px",overflow:"hidden",zIndex:o?10001:1e4};U.useEffect(()=>{if(!ee)return;const Ne=window.innerHeight;let Be=C+(N[1]?N[2]?0:-60:L);const Ke=60;o&&(He?Be=W+1.2*Ke:Be=Math.max(Math.min(-(et-(Ne+W-Ke)),Be)-ut*1.2,W+Ke)),Me(Be)},[o,S,C,W,N,et]);const De=zt({width:N[1]?!o&&(i==="Teaching"||i==="Awards")?Math.min(Le*.97,S[1])/2-5:Math.min(Le*.97,S[1]):i==="Skills"?S[1]:!o&&(i==="Teaching"||i==="Awards")?Math.min(Le-S[1]-20,S[1]*1.5)/2-5:Math.min(Le-S[1]-20,S[1]*1.5),left:N[1]?i==="Awards"&&!o?(Le-Math.min(Le*.97,S[1]))/2+Math.min(Le*.97,S[1])/2+5:(Le-Math.min(Le*.97,S[1]))/2:i==="Skills"?0:i==="Awards"&&!o?S[1]+15+Math.min(Le-S[1]-20,S[1]*1.5)/2+5:S[1]+15,borderRadius:o?40:Math.max(Math.ceil(S[0]/4.75),35),top:`${ye}px`,height:o?`${et}px`:N[1]?`${mt}px`:`${mt+D}px`}),Se=gJ({top:C,adjustViewport:P,size:S,scrollTop:W,toggle:I,name:i,id:e,isActive:o,initial:ee,setInitial:de});return q.jsxs(pt.div,{className:i,id:i,style:{...K,...Se,...De},...he,children:[ce,q.jsx(CJ,{isActive:o,title:r,explanation:n,widthSplit:M,name:i,size:S,stages:N}),q.jsx(pt.h1,{style:ne,ref:u,children:r}),t.children]})},tce=ur.memo(OJ);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Zp="153",bf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Rf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},jN=0,XE=1,XN=2,NJ=3,JN=0,A1=1,Zg=2,qo=3,Qa=0,qi=1,Eo=2,UJ=2,Nl=0,Yf=1,JE=2,KE=3,YE=4,KN=5,Df=100,YN=101,QN=102,QE=103,qE=104,qN=200,ZN=201,$N=202,eU=203,Rb=204,Pb=205,tU=206,nU=207,rU=208,iU=209,sU=210,oU=0,aU=1,lU=2,hA=3,uU=4,cU=5,fU=6,hU=7,lv=0,dU=1,pU=2,la=0,mU=1,gU=2,vU=3,Ib=4,yU=5,S1=300,xc=301,_c=302,U0=303,k0=304,$p=306,Ac=1e3,yi=1001,Ip=1002,_r=1003,H0=1004,kJ=1004,mp=1005,HJ=1005,or=1006,M1=1007,zJ=1007,qa=1008,GJ=1008,ja=1009,xU=1010,_U=1011,w1=1012,Bb=1013,Ll=1014,Ha=1015,Bp=1016,Lb=1017,Db=1018,cc=1020,AU=1021,ms=1023,SU=1024,MU=1025,fc=1026,lh=1027,wU=1028,Fb=1029,EU=1030,Ob=1031,Nb=1033,__=33776,A_=33777,S_=33778,M_=33779,ZE=35840,$E=35841,eT=35842,tT=35843,TU=36196,nT=37492,rT=37496,iT=37808,sT=37809,oT=37810,aT=37811,lT=37812,uT=37813,cT=37814,fT=37815,hT=37816,dT=37817,pT=37818,mT=37819,gT=37820,vT=37821,w_=36492,CU=36283,yT=36284,xT=36285,_T=36286,bU=2200,RU=2201,PU=2202,Lp=2300,uh=2301,E_=2302,kf=2400,Hf=2401,z0=2402,E1=2500,Ub=2501,IU=0,kb=1,dA=2,Hb=3e3,hc=3001,BU=3200,LU=3201,Rc=0,DU=1,dc="",$t="srgb",fa="srgb-linear",zb="display-p3",VJ=0,T_=7680,WJ=7681,jJ=7682,XJ=7683,JJ=34055,KJ=34056,YJ=5386,QJ=512,qJ=513,ZJ=514,$J=515,eK=516,tK=517,nK=518,FU=519,OU=512,NU=513,UU=514,kU=515,HU=516,zU=517,GU=518,VU=519,G0=35044,rK=35048,iK=35040,sK=35045,oK=35049,aK=35041,lK=35046,uK=35050,cK=35042,fK="100",AT="300 es",pA=1035,za=2e3,V0=2001;class $a{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const bi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let qI=1234567;const Qf=Math.PI/180,Dp=180/Math.PI;function Vs(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(bi[t&255]+bi[t>>8&255]+bi[t>>16&255]+bi[t>>24&255]+"-"+bi[e&255]+bi[e>>8&255]+"-"+bi[e>>16&15|64]+bi[e>>24&255]+"-"+bi[n&63|128]+bi[n>>8&255]+"-"+bi[n>>16&255]+bi[n>>24&255]+bi[r&255]+bi[r>>8&255]+bi[r>>16&255]+bi[r>>24&255]).toLowerCase()}function Ar(t,e,n){return Math.max(e,Math.min(n,t))}function Gb(t,e){return(t%e+e)%e}function hK(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function dK(t,e,n){return t!==e?(n-t)/(e-t):0}function $g(t,e,n){return(1-n)*t+n*e}function pK(t,e,n,r){return $g(t,e,1-Math.exp(-n*r))}function mK(t,e=1){return e-Math.abs(Gb(t,e*2)-e)}function gK(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function vK(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function yK(t,e){return t+Math.floor(Math.random()*(e-t+1))}function xK(t,e){return t+Math.random()*(e-t)}function _K(t){return t*(.5-Math.random())}function AK(t){t!==void 0&&(qI=t);let e=qI+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function SK(t){return t*Qf}function MK(t){return t*Dp}function ST(t){return(t&t-1)===0&&t!==0}function WU(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function mA(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function wK(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),h=o((e+r)/2),p=s((e-r)/2),g=o((e-r)/2),v=s((r-e)/2),x=o((r-e)/2);switch(i){case"XYX":t.set(a*h,l*p,l*g,a*u);break;case"YZY":t.set(l*g,a*h,l*p,a*u);break;case"ZXZ":t.set(l*p,l*g,a*h,a*u);break;case"XZX":t.set(a*h,l*x,l*v,a*u);break;case"YXY":t.set(l*v,a*h,l*x,a*u);break;case"ZYZ":t.set(l*x,l*v,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Hs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ln(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Rl={DEG2RAD:Qf,RAD2DEG:Dp,generateUUID:Vs,clamp:Ar,euclideanModulo:Gb,mapLinear:hK,inverseLerp:dK,lerp:$g,damp:pK,pingpong:mK,smoothstep:gK,smootherstep:vK,randInt:yK,randFloat:xK,randFloatSpread:_K,seededRandom:AK,degToRad:SK,radToDeg:MK,isPowerOfTwo:ST,ceilPowerOfTwo:WU,floorPowerOfTwo:mA,setQuaternionFromProperEuler:wK,normalize:ln,denormalize:Hs};class Ie{constructor(e=0,n=0){Ie.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ar(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class an{constructor(e,n,r,i,s,o,a,l,u){an.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=n,h[4]=s,h[5]=l,h[6]=r,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],h=r[4],p=r[7],g=r[2],v=r[5],x=r[8],E=i[0],M=i[3],y=i[6],S=i[1],A=i[4],C=i[7],P=i[2],L=i[5],D=i[8];return s[0]=o*E+a*S+l*P,s[3]=o*M+a*A+l*L,s[6]=o*y+a*C+l*D,s[1]=u*E+h*S+p*P,s[4]=u*M+h*A+p*L,s[7]=u*y+h*C+p*D,s[2]=g*E+v*S+x*P,s[5]=g*M+v*A+x*L,s[8]=g*y+v*C+x*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return n*o*h-n*a*u-r*s*h+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],p=h*o-a*u,g=a*l-h*s,v=u*s-o*l,x=n*p+r*g+i*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const E=1/x;return e[0]=p*E,e[1]=(i*u-h*r)*E,e[2]=(a*r-i*o)*E,e[3]=g*E,e[4]=(h*n-i*l)*E,e[5]=(i*s-a*n)*E,e[6]=v*E,e[7]=(r*l-u*n)*E,e[8]=(o*n-r*s)*E,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(yM.makeScale(e,n)),this}rotate(e){return this.premultiply(yM.makeRotation(-e)),this}translate(e,n){return this.premultiply(yM.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const yM=new an;function jU(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const EK={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Qd(t,e){return new EK[t](e)}function W0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const ZI={};function e0(t){t in ZI||(ZI[t]=!0,console.warn(t))}function gp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function xM(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const TK=new an().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),CK=new an().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function bK(t){return t.convertSRGBToLinear().applyMatrix3(CK)}function RK(t){return t.applyMatrix3(TK).convertLinearToSRGB()}const PK={[fa]:t=>t,[$t]:t=>t.convertSRGBToLinear(),[zb]:bK},IK={[fa]:t=>t,[$t]:t=>t.convertLinearToSRGB(),[zb]:RK},go={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return fa},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=PK[e],i=IK[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let fd;class Vb{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{fd===void 0&&(fd=W0("canvas")),fd.width=e.width,fd.height=e.height;const r=fd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=fd}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=W0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=gp(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(gp(n[r]/255)*255):n[r]=gp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let BK=0;class zf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:BK++}),this.uuid=Vs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(_M(i[o].image)):s.push(_M(i[o]))}else s=_M(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function _M(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Vb.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let LK=0;class $n extends $a{constructor(e=$n.DEFAULT_IMAGE,n=$n.DEFAULT_MAPPING,r=yi,i=yi,s=or,o=qa,a=ms,l=ja,u=$n.DEFAULT_ANISOTROPY,h=dc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:LK++}),this.uuid=Vs(),this.name="",this.source=new zf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Ie(0,0),this.repeat=new Ie(1,1),this.center=new Ie(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new an,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(e0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===hc?$t:dc),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==S1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ac:e.x=e.x-Math.floor(e.x);break;case yi:e.x=e.x<0?0:1;break;case Ip:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Ac:e.y=e.y-Math.floor(e.y);break;case yi:e.y=e.y<0?0:1;break;case Ip:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return e0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===$t?hc:Hb}set encoding(e){e0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===hc?$t:dc}}$n.DEFAULT_IMAGE=null;$n.DEFAULT_MAPPING=S1;$n.DEFAULT_ANISOTROPY=1;class Rn{constructor(e=0,n=0,r=0,i=1){Rn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],h=l[4],p=l[8],g=l[1],v=l[5],x=l[9],E=l[2],M=l[6],y=l[10];if(Math.abs(h-g)<.01&&Math.abs(p-E)<.01&&Math.abs(x-M)<.01){if(Math.abs(h+g)<.1&&Math.abs(p+E)<.1&&Math.abs(x+M)<.1&&Math.abs(u+v+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const A=(u+1)/2,C=(v+1)/2,P=(y+1)/2,L=(h+g)/4,D=(p+E)/4,N=(x+M)/4;return A>C&&A>P?A<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(A),i=L/r,s=D/r):C>P?C<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(C),r=L/i,s=N/i):P<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(P),r=D/s,i=N/s),this.set(r,i,s,n),this}let S=Math.sqrt((M-x)*(M-x)+(p-E)*(p-E)+(g-h)*(g-h));return Math.abs(S)<.001&&(S=1),this.x=(M-x)/S,this.y=(p-E)/S,this.z=(g-h)/S,this.w=Math.acos((u+v+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ha extends $a{constructor(e=1,n=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Rn(0,0,e,n),this.scissorTest=!1,this.viewport=new Rn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(e0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===hc?$t:dc),this.texture=new $n(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:or,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new zf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class T1 extends $n{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=_r,this.minFilter=_r,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class DK extends ha{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new T1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Wb extends $n{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=_r,this.minFilter=_r,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FK extends ha{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Wb(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class OK extends ha{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Yr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],h=r[i+2],p=r[i+3];const g=s[o+0],v=s[o+1],x=s[o+2],E=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=h,e[n+3]=p;return}if(a===1){e[n+0]=g,e[n+1]=v,e[n+2]=x,e[n+3]=E;return}if(p!==E||l!==g||u!==v||h!==x){let M=1-a;const y=l*g+u*v+h*x+p*E,S=y>=0?1:-1,A=1-y*y;if(A>Number.EPSILON){const P=Math.sqrt(A),L=Math.atan2(P,y*S);M=Math.sin(M*L)/P,a=Math.sin(a*L)/P}const C=a*S;if(l=l*M+g*C,u=u*M+v*C,h=h*M+x*C,p=p*M+E*C,M===1-a){const P=1/Math.sqrt(l*l+u*u+h*h+p*p);l*=P,u*=P,h*=P,p*=P}}e[n]=l,e[n+1]=u,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],h=r[i+3],p=s[o],g=s[o+1],v=s[o+2],x=s[o+3];return e[n]=a*x+h*p+l*v-u*g,e[n+1]=l*x+h*g+u*p-a*v,e[n+2]=u*x+h*v+a*g-l*p,e[n+3]=h*x-a*p-l*g-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),h=a(i/2),p=a(s/2),g=l(r/2),v=l(i/2),x=l(s/2);switch(o){case"XYZ":this._x=g*h*p+u*v*x,this._y=u*v*p-g*h*x,this._z=u*h*x+g*v*p,this._w=u*h*p-g*v*x;break;case"YXZ":this._x=g*h*p+u*v*x,this._y=u*v*p-g*h*x,this._z=u*h*x-g*v*p,this._w=u*h*p+g*v*x;break;case"ZXY":this._x=g*h*p-u*v*x,this._y=u*v*p+g*h*x,this._z=u*h*x+g*v*p,this._w=u*h*p-g*v*x;break;case"ZYX":this._x=g*h*p-u*v*x,this._y=u*v*p+g*h*x,this._z=u*h*x-g*v*p,this._w=u*h*p+g*v*x;break;case"YZX":this._x=g*h*p+u*v*x,this._y=u*v*p+g*h*x,this._z=u*h*x-g*v*p,this._w=u*h*p-g*v*x;break;case"XZY":this._x=g*h*p-u*v*x,this._y=u*v*p-g*h*x,this._z=u*h*x+g*v*p,this._w=u*h*p+g*v*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],h=n[6],p=n[10],g=r+a+p;if(g>0){const v=.5/Math.sqrt(g+1);this._w=.25/v,this._x=(h-l)*v,this._y=(s-u)*v,this._z=(o-i)*v}else if(r>a&&r>p){const v=2*Math.sqrt(1+r-a-p);this._w=(h-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+u)/v}else if(a>p){const v=2*Math.sqrt(1+a-r-p);this._w=(s-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+h)/v}else{const v=2*Math.sqrt(1+p-r-a);this._w=(o-i)/v,this._x=(s+u)/v,this._y=(l+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ar(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,h=n._w;return this._x=r*h+o*a+i*u-s*l,this._y=i*h+o*l+s*a-r*u,this._z=s*h+o*u+r*l-i*a,this._w=o*h-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),p=Math.sin((1-n)*h)/u,g=Math.sin(n*h)/u;return this._w=o*p+this._w*g,this._x=r*p+this._x*g,this._y=i*p+this._y*g,this._z=s*p+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,r=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion($I.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion($I.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=l*n+o*i-a*r,h=l*r+a*n-s*i,p=l*i+s*r-o*n,g=-s*n-o*r-a*i;return this.x=u*l+g*-s+h*-a-p*-o,this.y=h*l+g*-o+p*-s-u*-a,this.z=p*l+g*-a+u*-o-h*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return AM.copy(this).projectOnVector(e),this.sub(AM)}reflect(e){return this.sub(AM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ar(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const AM=new G,$I=new Yr;class da{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(xl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(xl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=xl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),hd.copy(e.boundingBox),hd.applyMatrix4(e.matrixWorld),this.union(hd);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)xl.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(xl)}else i.boundingBox===null&&i.computeBoundingBox(),hd.copy(i.boundingBox),hd.applyMatrix4(e.matrixWorld),this.union(hd)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,xl),xl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(hg),lx.subVectors(this.max,hg),dd.subVectors(e.a,hg),pd.subVectors(e.b,hg),md.subVectors(e.c,hg),Iu.subVectors(pd,dd),Bu.subVectors(md,pd),pf.subVectors(dd,md);let n=[0,-Iu.z,Iu.y,0,-Bu.z,Bu.y,0,-pf.z,pf.y,Iu.z,0,-Iu.x,Bu.z,0,-Bu.x,pf.z,0,-pf.x,-Iu.y,Iu.x,0,-Bu.y,Bu.x,0,-pf.y,pf.x,0];return!SM(n,dd,pd,md,lx)||(n=[1,0,0,0,1,0,0,0,1],!SM(n,dd,pd,md,lx))?!1:(ux.crossVectors(Iu,Bu),n=[ux.x,ux.y,ux.z],SM(n,dd,pd,md,lx))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,xl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(xl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yl=[new G,new G,new G,new G,new G,new G,new G,new G],xl=new G,hd=new da,dd=new G,pd=new G,md=new G,Iu=new G,Bu=new G,pf=new G,hg=new G,lx=new G,ux=new G,mf=new G;function SM(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){mf.fromArray(t,s);const a=i.x*Math.abs(mf.x)+i.y*Math.abs(mf.y)+i.z*Math.abs(mf.z),l=e.dot(mf),u=n.dot(mf),h=r.dot(mf);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const NK=new da,dg=new G,MM=new G;class Lo{constructor(e=new G,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):NK.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;dg.subVectors(e,this.center);const n=dg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(dg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(MM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(dg.copy(e.center).add(MM)),this.expandByPoint(dg.copy(e.center).sub(MM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _l=new G,wM=new G,cx=new G,Lu=new G,EM=new G,fx=new G,TM=new G;class mh{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_l)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=_l.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(_l.copy(this.origin).addScaledVector(this.direction,n),_l.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){wM.copy(e).add(n).multiplyScalar(.5),cx.copy(n).sub(e).normalize(),Lu.copy(this.origin).sub(wM);const s=e.distanceTo(n)*.5,o=-this.direction.dot(cx),a=Lu.dot(this.direction),l=-Lu.dot(cx),u=Lu.lengthSq(),h=Math.abs(1-o*o);let p,g,v,x;if(h>0)if(p=o*l-a,g=o*a-l,x=s*h,p>=0)if(g>=-x)if(g<=x){const E=1/h;p*=E,g*=E,v=p*(p+o*g+2*a)+g*(o*p+g+2*l)+u}else g=s,p=Math.max(0,-(o*g+a)),v=-p*p+g*(g+2*l)+u;else g=-s,p=Math.max(0,-(o*g+a)),v=-p*p+g*(g+2*l)+u;else g<=-x?(p=Math.max(0,-(-o*s+a)),g=p>0?-s:Math.min(Math.max(-s,-l),s),v=-p*p+g*(g+2*l)+u):g<=x?(p=0,g=Math.min(Math.max(-s,-l),s),v=g*(g+2*l)+u):(p=Math.max(0,-(o*s+a)),g=p>0?s:Math.min(Math.max(-s,-l),s),v=-p*p+g*(g+2*l)+u);else g=o>0?-s:s,p=Math.max(0,-(o*g+a)),v=-p*p+g*(g+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(wM).addScaledVector(cx,g),v}intersectSphere(e,n){_l.subVectors(e.center,this.origin);const r=_l.dot(this.direction),i=_l.dot(_l)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,g=this.origin;return u>=0?(r=(e.min.x-g.x)*u,i=(e.max.x-g.x)*u):(r=(e.max.x-g.x)*u,i=(e.min.x-g.x)*u),h>=0?(s=(e.min.y-g.y)*h,o=(e.max.y-g.y)*h):(s=(e.max.y-g.y)*h,o=(e.min.y-g.y)*h),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),p>=0?(a=(e.min.z-g.z)*p,l=(e.max.z-g.z)*p):(a=(e.max.z-g.z)*p,l=(e.min.z-g.z)*p),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,_l)!==null}intersectTriangle(e,n,r,i,s){EM.subVectors(n,e),fx.subVectors(r,e),TM.crossVectors(EM,fx);let o=this.direction.dot(TM),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Lu.subVectors(this.origin,e);const l=a*this.direction.dot(fx.crossVectors(Lu,fx));if(l<0)return null;const u=a*this.direction.dot(EM.cross(Lu));if(u<0||l+u>o)return null;const h=-a*Lu.dot(TM);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,n,r,i,s,o,a,l,u,h,p,g,v,x,E,M){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,h,p,g,v,x,E,M)}set(e,n,r,i,s,o,a,l,u,h,p,g,v,x,E,M){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=u,y[6]=h,y[10]=p,y[14]=g,y[3]=v,y[7]=x,y[11]=E,y[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/gd.setFromMatrixColumn(e,0).length(),s=1/gd.setFromMatrixColumn(e,1).length(),o=1/gd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const g=o*h,v=o*p,x=a*h,E=a*p;n[0]=l*h,n[4]=-l*p,n[8]=u,n[1]=v+x*u,n[5]=g-E*u,n[9]=-a*l,n[2]=E-g*u,n[6]=x+v*u,n[10]=o*l}else if(e.order==="YXZ"){const g=l*h,v=l*p,x=u*h,E=u*p;n[0]=g+E*a,n[4]=x*a-v,n[8]=o*u,n[1]=o*p,n[5]=o*h,n[9]=-a,n[2]=v*a-x,n[6]=E+g*a,n[10]=o*l}else if(e.order==="ZXY"){const g=l*h,v=l*p,x=u*h,E=u*p;n[0]=g-E*a,n[4]=-o*p,n[8]=x+v*a,n[1]=v+x*a,n[5]=o*h,n[9]=E-g*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const g=o*h,v=o*p,x=a*h,E=a*p;n[0]=l*h,n[4]=x*u-v,n[8]=g*u+E,n[1]=l*p,n[5]=E*u+g,n[9]=v*u-x,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const g=o*l,v=o*u,x=a*l,E=a*u;n[0]=l*h,n[4]=E-g*p,n[8]=x*p+v,n[1]=p,n[5]=o*h,n[9]=-a*h,n[2]=-u*h,n[6]=v*p+x,n[10]=g-E*p}else if(e.order==="XZY"){const g=o*l,v=o*u,x=a*l,E=a*u;n[0]=l*h,n[4]=-p,n[8]=u*h,n[1]=g*p+E,n[5]=o*h,n[9]=v*p-x,n[2]=x*p-v,n[6]=a*h,n[10]=E*p+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(UK,e,kK)}lookAt(e,n,r){const i=this.elements;return Os.subVectors(e,n),Os.lengthSq()===0&&(Os.z=1),Os.normalize(),Du.crossVectors(r,Os),Du.lengthSq()===0&&(Math.abs(r.z)===1?Os.x+=1e-4:Os.z+=1e-4,Os.normalize(),Du.crossVectors(r,Os)),Du.normalize(),hx.crossVectors(Os,Du),i[0]=Du.x,i[4]=hx.x,i[8]=Os.x,i[1]=Du.y,i[5]=hx.y,i[9]=Os.y,i[2]=Du.z,i[6]=hx.z,i[10]=Os.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],h=r[1],p=r[5],g=r[9],v=r[13],x=r[2],E=r[6],M=r[10],y=r[14],S=r[3],A=r[7],C=r[11],P=r[15],L=i[0],D=i[4],N=i[8],I=i[12],F=i[1],W=i[5],ce=i[9],re=i[13],Q=i[2],ee=i[6],de=i[10],le=i[14],V=i[3],te=i[7],ie=i[11],he=i[15];return s[0]=o*L+a*F+l*Q+u*V,s[4]=o*D+a*W+l*ee+u*te,s[8]=o*N+a*ce+l*de+u*ie,s[12]=o*I+a*re+l*le+u*he,s[1]=h*L+p*F+g*Q+v*V,s[5]=h*D+p*W+g*ee+v*te,s[9]=h*N+p*ce+g*de+v*ie,s[13]=h*I+p*re+g*le+v*he,s[2]=x*L+E*F+M*Q+y*V,s[6]=x*D+E*W+M*ee+y*te,s[10]=x*N+E*ce+M*de+y*ie,s[14]=x*I+E*re+M*le+y*he,s[3]=S*L+A*F+C*Q+P*V,s[7]=S*D+A*W+C*ee+P*te,s[11]=S*N+A*ce+C*de+P*ie,s[15]=S*I+A*re+C*le+P*he,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],p=e[6],g=e[10],v=e[14],x=e[3],E=e[7],M=e[11],y=e[15];return x*(+s*l*p-i*u*p-s*a*g+r*u*g+i*a*v-r*l*v)+E*(+n*l*v-n*u*g+s*o*g-i*o*v+i*u*h-s*l*h)+M*(+n*u*p-n*a*v-s*o*p+r*o*v+s*a*h-r*u*h)+y*(-i*a*h-n*l*p+n*a*g+i*o*p-r*o*g+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],p=e[9],g=e[10],v=e[11],x=e[12],E=e[13],M=e[14],y=e[15],S=p*M*u-E*g*u+E*l*v-a*M*v-p*l*y+a*g*y,A=x*g*u-h*M*u-x*l*v+o*M*v+h*l*y-o*g*y,C=h*E*u-x*p*u+x*a*v-o*E*v-h*a*y+o*p*y,P=x*p*l-h*E*l-x*a*g+o*E*g+h*a*M-o*p*M,L=n*S+r*A+i*C+s*P;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/L;return e[0]=S*D,e[1]=(E*g*s-p*M*s-E*i*v+r*M*v+p*i*y-r*g*y)*D,e[2]=(a*M*s-E*l*s+E*i*u-r*M*u-a*i*y+r*l*y)*D,e[3]=(p*l*s-a*g*s-p*i*u+r*g*u+a*i*v-r*l*v)*D,e[4]=A*D,e[5]=(h*M*s-x*g*s+x*i*v-n*M*v-h*i*y+n*g*y)*D,e[6]=(x*l*s-o*M*s-x*i*u+n*M*u+o*i*y-n*l*y)*D,e[7]=(o*g*s-h*l*s+h*i*u-n*g*u-o*i*v+n*l*v)*D,e[8]=C*D,e[9]=(x*p*s-h*E*s-x*r*v+n*E*v+h*r*y-n*p*y)*D,e[10]=(o*E*s-x*a*s+x*r*u-n*E*u-o*r*y+n*a*y)*D,e[11]=(h*a*s-o*p*s-h*r*u+n*p*u+o*r*v-n*a*v)*D,e[12]=P*D,e[13]=(h*E*i-x*p*i+x*r*g-n*E*g-h*r*M+n*p*M)*D,e[14]=(x*a*i-o*E*i-x*r*l+n*E*l+o*r*M-n*a*M)*D,e[15]=(o*p*i-h*a*i+h*r*l-n*p*l-o*r*g+n*a*g)*D,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,h*a+r,h*l-i*o,0,u*l-i*a,h*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,h=o+o,p=a+a,g=s*u,v=s*h,x=s*p,E=o*h,M=o*p,y=a*p,S=l*u,A=l*h,C=l*p,P=r.x,L=r.y,D=r.z;return i[0]=(1-(E+y))*P,i[1]=(v+C)*P,i[2]=(x-A)*P,i[3]=0,i[4]=(v-C)*L,i[5]=(1-(g+y))*L,i[6]=(M+S)*L,i[7]=0,i[8]=(x+A)*D,i[9]=(M-S)*D,i[10]=(1-(g+E))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=gd.set(i[0],i[1],i[2]).length();const o=gd.set(i[4],i[5],i[6]).length(),a=gd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Xo.copy(this);const u=1/s,h=1/o,p=1/a;return Xo.elements[0]*=u,Xo.elements[1]*=u,Xo.elements[2]*=u,Xo.elements[4]*=h,Xo.elements[5]*=h,Xo.elements[6]*=h,Xo.elements[8]*=p,Xo.elements[9]*=p,Xo.elements[10]*=p,n.setFromRotationMatrix(Xo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=za){const l=this.elements,u=2*s/(n-e),h=2*s/(r-i),p=(n+e)/(n-e),g=(r+i)/(r-i);let v,x;if(a===za)v=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===V0)v=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=x,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=za){const l=this.elements,u=1/(n-e),h=1/(r-i),p=1/(o-s),g=(n+e)*u,v=(r+i)*h;let x,E;if(a===za)x=(o+s)*p,E=-2*p;else if(a===V0)x=s*p,E=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=E,l[14]=-x,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const gd=new G,Xo=new Gt,UK=new G(0,0,0),kK=new G(1,1,1),Du=new G,hx=new G,Os=new G,eB=new Gt,tB=new Yr;class uv{constructor(e=0,n=0,r=0,i=uv.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],h=i[9],p=i[2],g=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(Ar(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(g,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Ar(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ar(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ar(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(g,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Ar(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-Ar(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(g,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return eB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(eB,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return tB.setFromEuler(this),this.setFromQuaternion(tB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}uv.DEFAULT_ORDER="XYZ";class qf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let HK=0;const nB=new G,vd=new Yr,Al=new Gt,dx=new G,pg=new G,zK=new G,GK=new Yr,rB=new G(1,0,0),iB=new G(0,1,0),sB=new G(0,0,1),VK={type:"added"},oB={type:"removed"};class xn extends $a{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:HK++}),this.uuid=Vs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=xn.DEFAULT_UP.clone();const e=new G,n=new uv,r=new Yr,i=new G(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Gt},normalMatrix:{value:new an}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=xn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new qf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return vd.setFromAxisAngle(e,n),this.quaternion.multiply(vd),this}rotateOnWorldAxis(e,n){return vd.setFromAxisAngle(e,n),this.quaternion.premultiply(vd),this}rotateX(e){return this.rotateOnAxis(rB,e)}rotateY(e){return this.rotateOnAxis(iB,e)}rotateZ(e){return this.rotateOnAxis(sB,e)}translateOnAxis(e,n){return nB.copy(e).applyQuaternion(this.quaternion),this.position.add(nB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(rB,e)}translateY(e){return this.translateOnAxis(iB,e)}translateZ(e){return this.translateOnAxis(sB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Al.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?dx.copy(e):dx.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),pg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Al.lookAt(pg,dx,this.up):Al.lookAt(dx,pg,this.up),this.quaternion.setFromRotationMatrix(Al),i&&(Al.extractRotation(i.matrixWorld),vd.setFromRotationMatrix(Al),this.quaternion.premultiply(vd.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(VK)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(oB)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(oB)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Al.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Al.multiply(e.parent.matrixWorld)),e.applyMatrix4(Al),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pg,e,zK),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(pg,GK,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const p=l[u];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),p=o(e.shapes),g=o(e.skeletons),v=o(e.animations),x=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),g.length>0&&(r.skeletons=g),v.length>0&&(r.animations=v),x.length>0&&(r.nodes=x)}return r.object=i,r;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}xn.DEFAULT_UP=new G(0,1,0);xn.DEFAULT_MATRIX_AUTO_UPDATE=!0;xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Jo=new G,Sl=new G,CM=new G,Ml=new G,yd=new G,xd=new G,aB=new G,bM=new G,RM=new G,PM=new G;let px=!1;class ps{constructor(e=new G,n=new G,r=new G){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Jo.subVectors(e,n),i.cross(Jo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Jo.subVectors(i,n),Sl.subVectors(r,n),CM.subVectors(e,n);const o=Jo.dot(Jo),a=Jo.dot(Sl),l=Jo.dot(CM),u=Sl.dot(Sl),h=Sl.dot(CM),p=o*u-a*a;if(p===0)return s.set(-2,-1,-1);const g=1/p,v=(u*l-a*h)*g,x=(o*h-a*l)*g;return s.set(1-v-x,x,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ml),Ml.x>=0&&Ml.y>=0&&Ml.x+Ml.y<=1}static getUV(e,n,r,i,s,o,a,l){return px===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),px=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Ml),l.setScalar(0),l.addScaledVector(s,Ml.x),l.addScaledVector(o,Ml.y),l.addScaledVector(a,Ml.z),l}static isFrontFacing(e,n,r,i){return Jo.subVectors(r,n),Sl.subVectors(e,n),Jo.cross(Sl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Jo.subVectors(this.c,this.b),Sl.subVectors(this.a,this.b),Jo.cross(Sl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ps.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ps.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return px===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),px=!0),ps.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return ps.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ps.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ps.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;yd.subVectors(i,r),xd.subVectors(s,r),bM.subVectors(e,r);const l=yd.dot(bM),u=xd.dot(bM);if(l<=0&&u<=0)return n.copy(r);RM.subVectors(e,i);const h=yd.dot(RM),p=xd.dot(RM);if(h>=0&&p<=h)return n.copy(i);const g=l*p-h*u;if(g<=0&&l>=0&&h<=0)return o=l/(l-h),n.copy(r).addScaledVector(yd,o);PM.subVectors(e,s);const v=yd.dot(PM),x=xd.dot(PM);if(x>=0&&v<=x)return n.copy(s);const E=v*u-l*x;if(E<=0&&u>=0&&x<=0)return a=u/(u-x),n.copy(r).addScaledVector(xd,a);const M=h*x-v*p;if(M<=0&&p-h>=0&&v-x>=0)return aB.subVectors(s,i),a=(p-h)/(p-h+(v-x)),n.copy(i).addScaledVector(aB,a);const y=1/(M+E+g);return o=E*y,a=g*y,n.copy(r).addScaledVector(yd,o).addScaledVector(xd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let WK=0;class Hr extends $a{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:WK++}),this.uuid=Vs(),this.name="",this.type="Material",this.blending=Yf,this.side=Qa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Rb,this.blendDst=Pb,this.blendEquation=Df,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=hA,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=FU,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=T_,this.stencilZFail=T_,this.stencilZPass=T_,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Yf&&(r.blending=this.blending),this.side!==Qa&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const XU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ko={h:0,s:0,l:0},mx={h:0,s:0,l:0};function IM(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class $e{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=$t){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,go.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=go.workingColorSpace){return this.r=e,this.g=n,this.b=r,go.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=go.workingColorSpace){if(e=Gb(e,1),n=Ar(n,0,1),r=Ar(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=IM(o,s,e+1/3),this.g=IM(o,s,e),this.b=IM(o,s,e-1/3)}return go.toWorkingColorSpace(this,i),this}setStyle(e,n=$t){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=$t){const r=XU[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gp(e.r),this.g=gp(e.g),this.b=gp(e.b),this}copyLinearToSRGB(e){return this.r=xM(e.r),this.g=xM(e.g),this.b=xM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=$t){return go.fromWorkingColorSpace(Ri.copy(this),e),Math.round(Ar(Ri.r*255,0,255))*65536+Math.round(Ar(Ri.g*255,0,255))*256+Math.round(Ar(Ri.b*255,0,255))}getHexString(e=$t){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=go.workingColorSpace){go.fromWorkingColorSpace(Ri.copy(this),n);const r=Ri.r,i=Ri.g,s=Ri.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const p=o-a;switch(u=h<=.5?p/(o+a):p/(2-o-a),o){case r:l=(i-s)/p+(i<s?6:0);break;case i:l=(s-r)/p+2;break;case s:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,n=go.workingColorSpace){return go.fromWorkingColorSpace(Ri.copy(this),n),e.r=Ri.r,e.g=Ri.g,e.b=Ri.b,e}getStyle(e=$t){go.fromWorkingColorSpace(Ri.copy(this),e);const n=Ri.r,r=Ri.g,i=Ri.b;return e!==$t?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ko),Ko.h+=e,Ko.s+=n,Ko.l+=r,this.setHSL(Ko.h,Ko.s,Ko.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ko),e.getHSL(mx);const r=$g(Ko.h,mx.h,n),i=$g(Ko.s,mx.s,n),s=$g(Ko.l,mx.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ri=new $e;$e.NAMES=XU;class zs extends Hr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new $e(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Pl=jK();function jK(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function cs(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Ar(t,-65504,65504),Pl.floatView[0]=t;const e=Pl.uint32View[0],n=e>>23&511;return Pl.baseTable[n]+((e&8388607)>>Pl.shiftTable[n])}function Og(t){const e=t>>10;return Pl.uint32View[0]=Pl.mantissaTable[Pl.offsetTable[e]+(t&1023)]+Pl.exponentTable[e],Pl.floatView[0]}const XK={toHalfFloat:cs,fromHalfFloat:Og},Nr=new G,gx=new Ie;class Mn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=G0,this.updateRange={offset:0,count:-1},this.gpuType=Ha,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)gx.fromBufferAttribute(this,n),gx.applyMatrix3(e),this.setXY(n,gx.x,gx.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.applyMatrix3(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.applyMatrix4(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.applyNormalMatrix(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Nr.fromBufferAttribute(this,n),Nr.transformDirection(e),this.setXYZ(n,Nr.x,Nr.y,Nr.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Hs(n,this.array)),n}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Hs(n,this.array)),n}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Hs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Hs(n,this.array)),n}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==G0&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class JK extends Mn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class KK extends Mn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class YK extends Mn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class QK extends Mn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class jb extends Mn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class qK extends Mn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class Xb extends Mn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class ZK extends Mn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Og(this.array[e*this.itemSize]);return this.normalized&&(n=Hs(n,this.array)),n}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize]=cs(n),this}getY(e){let n=Og(this.array[e*this.itemSize+1]);return this.normalized&&(n=Hs(n,this.array)),n}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+1]=cs(n),this}getZ(e){let n=Og(this.array[e*this.itemSize+2]);return this.normalized&&(n=Hs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+2]=cs(n),this}getW(e){let n=Og(this.array[e*this.itemSize+3]);return this.normalized&&(n=Hs(n,this.array)),n}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+3]=cs(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.array[e+0]=cs(n),this.array[e+1]=cs(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.array[e+0]=cs(n),this.array[e+1]=cs(r),this.array[e+2]=cs(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.array[e+0]=cs(n),this.array[e+1]=cs(r),this.array[e+2]=cs(i),this.array[e+3]=cs(s),this}}class xt extends Mn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class $K extends Mn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let eY=0;const po=new Gt,BM=new xn,_d=new G,Ns=new da,mg=new da,ui=new G;class en extends $a{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:eY++}),this.uuid=Vs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(jU(e)?Xb:jb)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new an().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return po.makeRotationFromQuaternion(e),this.applyMatrix4(po),this}rotateX(e){return po.makeRotationX(e),this.applyMatrix4(po),this}rotateY(e){return po.makeRotationY(e),this.applyMatrix4(po),this}rotateZ(e){return po.makeRotationZ(e),this.applyMatrix4(po),this}translate(e,n,r){return po.makeTranslation(e,n,r),this.applyMatrix4(po),this}scale(e,n,r){return po.makeScale(e,n,r),this.applyMatrix4(po),this}lookAt(e){return BM.lookAt(e),BM.updateMatrix(),this.applyMatrix4(BM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_d).negate(),this.translate(_d.x,_d.y,_d.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new xt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new da);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ns.setFromBufferAttribute(s),this.morphTargetsRelative?(ui.addVectors(this.boundingBox.min,Ns.min),this.boundingBox.expandByPoint(ui),ui.addVectors(this.boundingBox.max,Ns.max),this.boundingBox.expandByPoint(ui)):(this.boundingBox.expandByPoint(Ns.min),this.boundingBox.expandByPoint(Ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Lo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const r=this.boundingSphere.center;if(Ns.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];mg.setFromBufferAttribute(a),this.morphTargetsRelative?(ui.addVectors(Ns.min,mg.min),Ns.expandByPoint(ui),ui.addVectors(Ns.max,mg.max),Ns.expandByPoint(ui)):(Ns.expandByPoint(mg.min),Ns.expandByPoint(mg.max))}Ns.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ui.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ui));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)ui.fromBufferAttribute(a,u),l&&(_d.fromBufferAttribute(e,u),ui.add(_d)),i=Math.max(i,r.distanceToSquared(ui))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Mn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let F=0;F<a;F++)u[F]=new G,h[F]=new G;const p=new G,g=new G,v=new G,x=new Ie,E=new Ie,M=new Ie,y=new G,S=new G;function A(F,W,ce){p.fromArray(i,F*3),g.fromArray(i,W*3),v.fromArray(i,ce*3),x.fromArray(o,F*2),E.fromArray(o,W*2),M.fromArray(o,ce*2),g.sub(p),v.sub(p),E.sub(x),M.sub(x);const re=1/(E.x*M.y-M.x*E.y);isFinite(re)&&(y.copy(g).multiplyScalar(M.y).addScaledVector(v,-E.y).multiplyScalar(re),S.copy(v).multiplyScalar(E.x).addScaledVector(g,-M.x).multiplyScalar(re),u[F].add(y),u[W].add(y),u[ce].add(y),h[F].add(S),h[W].add(S),h[ce].add(S))}let C=this.groups;C.length===0&&(C=[{start:0,count:r.length}]);for(let F=0,W=C.length;F<W;++F){const ce=C[F],re=ce.start,Q=ce.count;for(let ee=re,de=re+Q;ee<de;ee+=3)A(r[ee+0],r[ee+1],r[ee+2])}const P=new G,L=new G,D=new G,N=new G;function I(F){D.fromArray(s,F*3),N.copy(D);const W=u[F];P.copy(W),P.sub(D.multiplyScalar(D.dot(W))).normalize(),L.crossVectors(N,W);const re=L.dot(h[F])<0?-1:1;l[F*4]=P.x,l[F*4+1]=P.y,l[F*4+2]=P.z,l[F*4+3]=re}for(let F=0,W=C.length;F<W;++F){const ce=C[F],re=ce.start,Q=ce.count;for(let ee=re,de=re+Q;ee<de;ee+=3)I(r[ee+0]),I(r[ee+1]),I(r[ee+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Mn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,v=r.count;g<v;g++)r.setXYZ(g,0,0,0);const i=new G,s=new G,o=new G,a=new G,l=new G,u=new G,h=new G,p=new G;if(e)for(let g=0,v=e.count;g<v;g+=3){const x=e.getX(g+0),E=e.getX(g+1),M=e.getX(g+2);i.fromBufferAttribute(n,x),s.fromBufferAttribute(n,E),o.fromBufferAttribute(n,M),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),a.fromBufferAttribute(r,x),l.fromBufferAttribute(r,E),u.fromBufferAttribute(r,M),a.add(h),l.add(h),u.add(h),r.setXYZ(x,a.x,a.y,a.z),r.setXYZ(E,l.x,l.y,l.z),r.setXYZ(M,u.x,u.y,u.z)}else for(let g=0,v=n.count;g<v;g+=3)i.fromBufferAttribute(n,g+0),s.fromBufferAttribute(n,g+1),o.fromBufferAttribute(n,g+2),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),r.setXYZ(g+0,h.x,h.y,h.z),r.setXYZ(g+1,h.x,h.y,h.z),r.setXYZ(g+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ui.fromBufferAttribute(e,n),ui.normalize(),e.setXYZ(n,ui.x,ui.y,ui.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,p=a.normalized,g=new u.constructor(l.length*h);let v=0,x=0;for(let E=0,M=l.length;E<M;E++){a.isInterleavedBufferAttribute?v=l[E]*a.data.stride+a.offset:v=l[E]*h;for(let y=0;y<h;y++)g[x++]=u[v++]}return new Mn(g,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new en,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,p=u.length;h<p;h++){const g=u[h],v=e(g,r);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let p=0,g=u.length;p<g;p++){const v=u[p];h.push(v.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],p=s[u];for(let g=0,v=p.length;g<v;g++)h.push(p[g].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const p=o[u];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const lB=new Gt,gf=new mh,vx=new Lo,uB=new G,Ad=new G,Sd=new G,Md=new G,LM=new G,yx=new G,xx=new Ie,_x=new Ie,Ax=new Ie,cB=new G,fB=new G,hB=new G,Sx=new G,Mx=new G;class fi extends xn{constructor(e=new en,n=new zs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){yx.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],p=s[l];h!==0&&(LM.fromBufferAttribute(p,e),o?yx.addScaledVector(LM,h):yx.addScaledVector(LM.sub(n),h))}n.add(yx)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),vx.copy(r.boundingSphere),vx.applyMatrix4(s),gf.copy(e.ray).recast(e.near),!(vx.containsPoint(gf.origin)===!1&&(gf.intersectSphere(vx,uB)===null||gf.origin.distanceToSquared(uB)>(e.far-e.near)**2))&&(lB.copy(s).invert(),gf.copy(e.ray).applyMatrix4(lB),!(r.boundingBox!==null&&gf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,gf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,g=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let x=0,E=g.length;x<E;x++){const M=g[x],y=o[M.materialIndex],S=Math.max(M.start,v.start),A=Math.min(a.count,Math.min(M.start+M.count,v.start+v.count));for(let C=S,P=A;C<P;C+=3){const L=a.getX(C),D=a.getX(C+1),N=a.getX(C+2);i=wx(this,y,e,r,u,h,p,L,D,N),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=M.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),E=Math.min(a.count,v.start+v.count);for(let M=x,y=E;M<y;M+=3){const S=a.getX(M),A=a.getX(M+1),C=a.getX(M+2);i=wx(this,o,e,r,u,h,p,S,A,C),i&&(i.faceIndex=Math.floor(M/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let x=0,E=g.length;x<E;x++){const M=g[x],y=o[M.materialIndex],S=Math.max(M.start,v.start),A=Math.min(l.count,Math.min(M.start+M.count,v.start+v.count));for(let C=S,P=A;C<P;C+=3){const L=C,D=C+1,N=C+2;i=wx(this,y,e,r,u,h,p,L,D,N),i&&(i.faceIndex=Math.floor(C/3),i.face.materialIndex=M.materialIndex,n.push(i))}}else{const x=Math.max(0,v.start),E=Math.min(l.count,v.start+v.count);for(let M=x,y=E;M<y;M+=3){const S=M,A=M+1,C=M+2;i=wx(this,o,e,r,u,h,p,S,A,C),i&&(i.faceIndex=Math.floor(M/3),n.push(i))}}}}function tY(t,e,n,r,i,s,o,a){let l;if(e.side===qi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Qa,a),l===null)return null;Mx.copy(a),Mx.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(Mx);return u<n.near||u>n.far?null:{distance:u,point:Mx.clone(),object:t}}function wx(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,Ad),t.getVertexPosition(l,Sd),t.getVertexPosition(u,Md);const h=tY(t,e,n,r,Ad,Sd,Md,Sx);if(h){i&&(xx.fromBufferAttribute(i,a),_x.fromBufferAttribute(i,l),Ax.fromBufferAttribute(i,u),h.uv=ps.getInterpolation(Sx,Ad,Sd,Md,xx,_x,Ax,new Ie)),s&&(xx.fromBufferAttribute(s,a),_x.fromBufferAttribute(s,l),Ax.fromBufferAttribute(s,u),h.uv1=ps.getInterpolation(Sx,Ad,Sd,Md,xx,_x,Ax,new Ie),h.uv2=h.uv1),o&&(cB.fromBufferAttribute(o,a),fB.fromBufferAttribute(o,l),hB.fromBufferAttribute(o,u),h.normal=ps.getInterpolation(Sx,Ad,Sd,Md,cB,fB,hB,new G),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const p={a,b:l,c:u,normal:new G,materialIndex:0};ps.getNormal(Ad,Sd,Md,p.normal),h.face=p}return h}class Pc extends en{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],p=[];let g=0,v=0;x("z","y","x",-1,-1,r,n,e,o,s,0),x("z","y","x",1,-1,r,n,-e,o,s,1),x("x","z","y",1,1,e,r,n,i,o,2),x("x","z","y",1,-1,e,r,-n,i,o,3),x("x","y","z",1,-1,e,n,r,i,s,4),x("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new xt(u,3)),this.setAttribute("normal",new xt(h,3)),this.setAttribute("uv",new xt(p,2));function x(E,M,y,S,A,C,P,L,D,N,I){const F=C/D,W=P/N,ce=C/2,re=P/2,Q=L/2,ee=D+1,de=N+1;let le=0,V=0;const te=new G;for(let ie=0;ie<de;ie++){const he=ie*W-re;for(let ne=0;ne<ee;ne++){const ye=ne*F-ce;te[E]=ye*S,te[M]=he*A,te[y]=Q,u.push(te.x,te.y,te.z),te[E]=0,te[M]=0,te[y]=L>0?1:-1,h.push(te.x,te.y,te.z),p.push(ne/D),p.push(1-ie/N),le+=1}}for(let ie=0;ie<N;ie++)for(let he=0;he<D;he++){const ne=g+he+ee*ie,ye=g+he+ee*(ie+1),Me=g+(he+1)+ee*(ie+1),Te=g+(he+1)+ee*ie;l.push(ne,ye,Te),l.push(ye,Me,Te),V+=6}a.addGroup(v,V,I),v+=V,g+=le}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Pc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Fp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Xi(t){const e={};for(let n=0;n<t.length;n++){const r=Fp(t[n]);for(const i in r)e[i]=r[i]}return e}function nY(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function JU(t){return t.getRenderTarget()===null?t.outputColorSpace:fa}const KU={clone:Fp,merge:Xi};var rY=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iY=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Za extends Hr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=rY,this.fragmentShader=iY,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Fp(e.uniforms),this.uniformsGroups=nY(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class cv extends xn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=za}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Xn extends cv{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Dp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Dp*2*Math.atan(Math.tan(Qf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Qf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const wd=-90,Ed=1;class YU extends xn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new Xn(wd,Ed,e,n);i.layers=this.layers,this.add(i);const s=new Xn(wd,Ed,e,n);s.layers=this.layers,this.add(s);const o=new Xn(wd,Ed,e,n);o.layers=this.layers,this.add(o);const a=new Xn(wd,Ed,e,n);a.layers=this.layers,this.add(a);const l=new Xn(wd,Ed,e,n);l.layers=this.layers,this.add(l);const u=new Xn(wd,Ed,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===za)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===V0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,u]=this.children,h=e.getRenderTarget(),p=e.toneMapping,g=e.xr.enabled;e.toneMapping=la,e.xr.enabled=!1;const v=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=v,e.setRenderTarget(r,5),e.render(n,u),e.setRenderTarget(h),e.toneMapping=p,e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class fv extends $n{constructor(e,n,r,i,s,o,a,l,u,h){e=e!==void 0?e:[],n=n!==void 0?n:xc,super(e,n,r,i,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class QU extends ha{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(e0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===hc?$t:dc),this.texture=new fv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:or}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Pc(5,5,5),s=new Za({name:"CubemapFromEquirect",uniforms:Fp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:qi,blending:Nl});s.uniforms.tEquirect.value=n;const o=new fi(i,s),a=n.minFilter;return n.minFilter===qa&&(n.minFilter=or),new YU(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const DM=new G,sY=new G,oY=new an;class bl{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=DM.subVectors(r,n).cross(sY.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(DM),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||oY.getNormalMatrix(e),i=this.coplanarPoint(DM).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vf=new Lo,Ex=new G;class C1{constructor(e=new bl,n=new bl,r=new bl,i=new bl,s=new bl,o=new bl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=za){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],p=i[6],g=i[7],v=i[8],x=i[9],E=i[10],M=i[11],y=i[12],S=i[13],A=i[14],C=i[15];if(r[0].setComponents(l-s,g-u,M-v,C-y).normalize(),r[1].setComponents(l+s,g+u,M+v,C+y).normalize(),r[2].setComponents(l+o,g+h,M+x,C+S).normalize(),r[3].setComponents(l-o,g-h,M-x,C-S).normalize(),r[4].setComponents(l-a,g-p,M-E,C-A).normalize(),n===za)r[5].setComponents(l+a,g+p,M+E,C+A).normalize();else if(n===V0)r[5].setComponents(a,p,E,A).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),vf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vf)}intersectsSprite(e){return vf.center.set(0,0,0),vf.radius=.7071067811865476,vf.applyMatrix4(e.matrixWorld),this.intersectsSphere(vf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Ex.x=i.normal.x>0?e.max.x:e.min.x,Ex.y=i.normal.y>0?e.max.y:e.min.y,Ex.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ex)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function qU(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function aY(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,h){const p=u.array,g=u.usage,v=t.createBuffer();t.bindBuffer(h,v),t.bufferData(h,p,g),u.onUploadCallback();let x;if(p instanceof Float32Array)x=t.FLOAT;else if(p instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=t.SHORT;else if(p instanceof Uint32Array)x=t.UNSIGNED_INT;else if(p instanceof Int32Array)x=t.INT;else if(p instanceof Int8Array)x=t.BYTE;else if(p instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:v,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version}}function s(u,h,p){const g=h.array,v=h.updateRange;t.bindBuffer(p,u),v.count===-1?t.bufferSubData(p,0,g):(n?t.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g,v.offset,v.count):t.bufferSubData(p,v.offset*g.BYTES_PER_ELEMENT,g.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(t.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const g=r.get(u);(!g||g.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const p=r.get(u);p===void 0?r.set(u,i(u,h)):p.version<u.version&&(s(p.buffer,u,h),p.version=u.version)}return{get:o,remove:a,update:l}}class em extends en{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,h=l+1,p=e/a,g=n/l,v=[],x=[],E=[],M=[];for(let y=0;y<h;y++){const S=y*g-o;for(let A=0;A<u;A++){const C=A*p-s;x.push(C,-S,0),E.push(0,0,1),M.push(A/a),M.push(1-y/l)}}for(let y=0;y<l;y++)for(let S=0;S<a;S++){const A=S+u*y,C=S+u*(y+1),P=S+1+u*(y+1),L=S+1+u*y;v.push(A,C,L),v.push(C,P,L)}this.setIndex(v),this.setAttribute("position",new xt(x,3)),this.setAttribute("normal",new xt(E,3)),this.setAttribute("uv",new xt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new em(e.width,e.height,e.widthSegments,e.heightSegments)}}var lY=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,uY=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cY=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,fY=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hY=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dY=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,pY="vec3 transformed = vec3( position );",mY=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gY=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vY=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yY=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xY=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,_Y=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,AY=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,SY=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,MY=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,EY=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,TY=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,CY=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bY=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,RY=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,PY=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,IY=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,BY=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,LY=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,DY="gl_FragColor = linearToOutputTexel( gl_FragColor );",FY=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,OY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,NY=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,UY=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kY=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,HY=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zY=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,GY=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,VY=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,WY=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,jY=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,XY=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,JY=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,KY=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,YY=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,QY=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qY=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ZY=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$Y=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,eQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,tQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,nQ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,rQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,iQ=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,sQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,oQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,aQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,lQ=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,uQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,cQ=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,fQ=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,hQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,dQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,pQ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,mQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,gQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,vQ=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,yQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,xQ=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,_Q=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,AQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,SQ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,MQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,EQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,TQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,CQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,bQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,RQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,PQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,IQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,BQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,LQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,DQ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,FQ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,OQ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,NQ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,UQ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,kQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,HQ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zQ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,GQ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,VQ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,WQ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,jQ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,XQ=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,JQ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,KQ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,YQ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,QQ=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qQ=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,ZQ=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,$Q=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eq=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tq=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,iq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,aq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,uq=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,cq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,fq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,hq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,dq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,mq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vq=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_q=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Sq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Eq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Bq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Lq=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Fq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Oq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,on={alphamap_fragment:lY,alphamap_pars_fragment:uY,alphatest_fragment:cY,alphatest_pars_fragment:fY,aomap_fragment:hY,aomap_pars_fragment:dY,begin_vertex:pY,beginnormal_vertex:mY,bsdfs:gY,iridescence_fragment:vY,bumpmap_pars_fragment:yY,clipping_planes_fragment:xY,clipping_planes_pars_fragment:_Y,clipping_planes_pars_vertex:AY,clipping_planes_vertex:SY,color_fragment:MY,color_pars_fragment:wY,color_pars_vertex:EY,color_vertex:TY,common:CY,cube_uv_reflection_fragment:bY,defaultnormal_vertex:RY,displacementmap_pars_vertex:PY,displacementmap_vertex:IY,emissivemap_fragment:BY,emissivemap_pars_fragment:LY,encodings_fragment:DY,encodings_pars_fragment:FY,envmap_fragment:OY,envmap_common_pars_fragment:NY,envmap_pars_fragment:UY,envmap_pars_vertex:kY,envmap_physical_pars_fragment:qY,envmap_vertex:HY,fog_vertex:zY,fog_pars_vertex:GY,fog_fragment:VY,fog_pars_fragment:WY,gradientmap_pars_fragment:jY,lightmap_fragment:XY,lightmap_pars_fragment:JY,lights_lambert_fragment:KY,lights_lambert_pars_fragment:YY,lights_pars_begin:QY,lights_toon_fragment:ZY,lights_toon_pars_fragment:$Y,lights_phong_fragment:eQ,lights_phong_pars_fragment:tQ,lights_physical_fragment:nQ,lights_physical_pars_fragment:rQ,lights_fragment_begin:iQ,lights_fragment_maps:sQ,lights_fragment_end:oQ,logdepthbuf_fragment:aQ,logdepthbuf_pars_fragment:lQ,logdepthbuf_pars_vertex:uQ,logdepthbuf_vertex:cQ,map_fragment:fQ,map_pars_fragment:hQ,map_particle_fragment:dQ,map_particle_pars_fragment:pQ,metalnessmap_fragment:mQ,metalnessmap_pars_fragment:gQ,morphcolor_vertex:vQ,morphnormal_vertex:yQ,morphtarget_pars_vertex:xQ,morphtarget_vertex:_Q,normal_fragment_begin:AQ,normal_fragment_maps:SQ,normal_pars_fragment:MQ,normal_pars_vertex:wQ,normal_vertex:EQ,normalmap_pars_fragment:TQ,clearcoat_normal_fragment_begin:CQ,clearcoat_normal_fragment_maps:bQ,clearcoat_pars_fragment:RQ,iridescence_pars_fragment:PQ,output_fragment:IQ,packing:BQ,premultiplied_alpha_fragment:LQ,project_vertex:DQ,dithering_fragment:FQ,dithering_pars_fragment:OQ,roughnessmap_fragment:NQ,roughnessmap_pars_fragment:UQ,shadowmap_pars_fragment:kQ,shadowmap_pars_vertex:HQ,shadowmap_vertex:zQ,shadowmask_pars_fragment:GQ,skinbase_vertex:VQ,skinning_pars_vertex:WQ,skinning_vertex:jQ,skinnormal_vertex:XQ,specularmap_fragment:JQ,specularmap_pars_fragment:KQ,tonemapping_fragment:YQ,tonemapping_pars_fragment:QQ,transmission_fragment:qQ,transmission_pars_fragment:ZQ,uv_pars_fragment:$Q,uv_pars_vertex:eq,uv_vertex:tq,worldpos_vertex:nq,background_vert:rq,background_frag:iq,backgroundCube_vert:sq,backgroundCube_frag:oq,cube_vert:aq,cube_frag:lq,depth_vert:uq,depth_frag:cq,distanceRGBA_vert:fq,distanceRGBA_frag:hq,equirect_vert:dq,equirect_frag:pq,linedashed_vert:mq,linedashed_frag:gq,meshbasic_vert:vq,meshbasic_frag:yq,meshlambert_vert:xq,meshlambert_frag:_q,meshmatcap_vert:Aq,meshmatcap_frag:Sq,meshnormal_vert:Mq,meshnormal_frag:wq,meshphong_vert:Eq,meshphong_frag:Tq,meshphysical_vert:Cq,meshphysical_frag:bq,meshtoon_vert:Rq,meshtoon_frag:Pq,points_vert:Iq,points_frag:Bq,shadow_vert:Lq,shadow_frag:Dq,sprite_vert:Fq,sprite_frag:Oq},Ze={common:{diffuse:{value:new $e(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new an},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new an}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new an}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new an}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new an},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new an},normalScale:{value:new Ie(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new an},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new an}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new an}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new an}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new $e(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new $e(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0},uvTransform:{value:new an}},sprite:{diffuse:{value:new $e(16777215)},opacity:{value:1},center:{value:new Ie(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new an},alphaMap:{value:null},alphaMapTransform:{value:new an},alphaTest:{value:0}}},na={basic:{uniforms:Xi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.fog]),vertexShader:on.meshbasic_vert,fragmentShader:on.meshbasic_frag},lambert:{uniforms:Xi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new $e(0)}}]),vertexShader:on.meshlambert_vert,fragmentShader:on.meshlambert_frag},phong:{uniforms:Xi([Ze.common,Ze.specularmap,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,Ze.lights,{emissive:{value:new $e(0)},specular:{value:new $e(1118481)},shininess:{value:30}}]),vertexShader:on.meshphong_vert,fragmentShader:on.meshphong_frag},standard:{uniforms:Xi([Ze.common,Ze.envmap,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.roughnessmap,Ze.metalnessmap,Ze.fog,Ze.lights,{emissive:{value:new $e(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag},toon:{uniforms:Xi([Ze.common,Ze.aomap,Ze.lightmap,Ze.emissivemap,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.gradientmap,Ze.fog,Ze.lights,{emissive:{value:new $e(0)}}]),vertexShader:on.meshtoon_vert,fragmentShader:on.meshtoon_frag},matcap:{uniforms:Xi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,Ze.fog,{matcap:{value:null}}]),vertexShader:on.meshmatcap_vert,fragmentShader:on.meshmatcap_frag},points:{uniforms:Xi([Ze.points,Ze.fog]),vertexShader:on.points_vert,fragmentShader:on.points_frag},dashed:{uniforms:Xi([Ze.common,Ze.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:on.linedashed_vert,fragmentShader:on.linedashed_frag},depth:{uniforms:Xi([Ze.common,Ze.displacementmap]),vertexShader:on.depth_vert,fragmentShader:on.depth_frag},normal:{uniforms:Xi([Ze.common,Ze.bumpmap,Ze.normalmap,Ze.displacementmap,{opacity:{value:1}}]),vertexShader:on.meshnormal_vert,fragmentShader:on.meshnormal_frag},sprite:{uniforms:Xi([Ze.sprite,Ze.fog]),vertexShader:on.sprite_vert,fragmentShader:on.sprite_frag},background:{uniforms:{uvTransform:{value:new an},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:on.background_vert,fragmentShader:on.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:on.backgroundCube_vert,fragmentShader:on.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:on.cube_vert,fragmentShader:on.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:on.equirect_vert,fragmentShader:on.equirect_frag},distanceRGBA:{uniforms:Xi([Ze.common,Ze.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:on.distanceRGBA_vert,fragmentShader:on.distanceRGBA_frag},shadow:{uniforms:Xi([Ze.lights,Ze.fog,{color:{value:new $e(0)},opacity:{value:1}}]),vertexShader:on.shadow_vert,fragmentShader:on.shadow_frag}};na.physical={uniforms:Xi([na.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new an},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new an},clearcoatNormalScale:{value:new Ie(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new an},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new an},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new an},sheen:{value:0},sheenColor:{value:new $e(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new an},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new an},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new an},transmissionSamplerSize:{value:new Ie},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new an},attenuationDistance:{value:0},attenuationColor:{value:new $e(0)},specularColor:{value:new $e(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new an},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new an},anisotropyVector:{value:new Ie},anisotropyMap:{value:null},anisotropyMapTransform:{value:new an}}]),vertexShader:on.meshphysical_vert,fragmentShader:on.meshphysical_frag};const Tx={r:0,b:0,g:0};function Nq(t,e,n,r,i,s,o){const a=new $e(0);let l=s===!0?0:1,u,h,p=null,g=0,v=null;function x(M,y){let S=!1,A=y.isScene===!0?y.background:null;switch(A&&A.isTexture&&(A=(y.backgroundBlurriness>0?n:e).get(A)),A===null?E(a,l):A&&A.isColor&&(E(A,1),S=!0),t.xr.getEnvironmentBlendMode()){case"opaque":S=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),S=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),S=!0;break}(t.autoClear||S)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),A&&(A.isCubeTexture||A.mapping===$p)?(h===void 0&&(h=new fi(new Pc(1,1,1),new Za({name:"BackgroundCubeMaterial",uniforms:Fp(na.backgroundCube.uniforms),vertexShader:na.backgroundCube.vertexShader,fragmentShader:na.backgroundCube.fragmentShader,side:qi,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(L,D,N){this.matrixWorld.copyPosition(N.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=A,h.material.uniforms.flipEnvMap.value=A.isCubeTexture&&A.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,h.material.toneMapped=A.colorSpace!==$t,(p!==A||g!==A.version||v!==t.toneMapping)&&(h.material.needsUpdate=!0,p=A,g=A.version,v=t.toneMapping),h.layers.enableAll(),M.unshift(h,h.geometry,h.material,0,0,null)):A&&A.isTexture&&(u===void 0&&(u=new fi(new em(2,2),new Za({name:"BackgroundMaterial",uniforms:Fp(na.background.uniforms),vertexShader:na.background.vertexShader,fragmentShader:na.background.fragmentShader,side:Qa,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=A,u.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,u.material.toneMapped=A.colorSpace!==$t,A.matrixAutoUpdate===!0&&A.updateMatrix(),u.material.uniforms.uvTransform.value.copy(A.matrix),(p!==A||g!==A.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,p=A,g=A.version,v=t.toneMapping),u.layers.enableAll(),M.unshift(u,u.geometry,u.material,0,0,null))}function E(M,y){M.getRGB(Tx,JU(t)),r.buffers.color.setClear(Tx.r,Tx.g,Tx.b,y,o)}return{getClearColor:function(){return a},setClearColor:function(M,y=1){a.set(M),l=y,E(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(M){l=M,E(a,l)},render:x}}function Uq(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=M(null);let u=l,h=!1;function p(Q,ee,de,le,V){let te=!1;if(o){const ie=E(le,de,ee);u!==ie&&(u=ie,v(u.object)),te=y(Q,le,de,V),te&&S(Q,le,de,V)}else{const ie=ee.wireframe===!0;(u.geometry!==le.id||u.program!==de.id||u.wireframe!==ie)&&(u.geometry=le.id,u.program=de.id,u.wireframe=ie,te=!0)}V!==null&&n.update(V,t.ELEMENT_ARRAY_BUFFER),(te||h)&&(h=!1,N(Q,ee,de,le),V!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(V).buffer))}function g(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function v(Q){return r.isWebGL2?t.bindVertexArray(Q):s.bindVertexArrayOES(Q)}function x(Q){return r.isWebGL2?t.deleteVertexArray(Q):s.deleteVertexArrayOES(Q)}function E(Q,ee,de){const le=de.wireframe===!0;let V=a[Q.id];V===void 0&&(V={},a[Q.id]=V);let te=V[ee.id];te===void 0&&(te={},V[ee.id]=te);let ie=te[le];return ie===void 0&&(ie=M(g()),te[le]=ie),ie}function M(Q){const ee=[],de=[],le=[];for(let V=0;V<i;V++)ee[V]=0,de[V]=0,le[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:ee,enabledAttributes:de,attributeDivisors:le,object:Q,attributes:{},index:null}}function y(Q,ee,de,le){const V=u.attributes,te=ee.attributes;let ie=0;const he=de.getAttributes();for(const ne in he)if(he[ne].location>=0){const Me=V[ne];let Te=te[ne];if(Te===void 0&&(ne==="instanceMatrix"&&Q.instanceMatrix&&(Te=Q.instanceMatrix),ne==="instanceColor"&&Q.instanceColor&&(Te=Q.instanceColor)),Me===void 0||Me.attribute!==Te||Te&&Me.data!==Te.data)return!0;ie++}return u.attributesNum!==ie||u.index!==le}function S(Q,ee,de,le){const V={},te=ee.attributes;let ie=0;const he=de.getAttributes();for(const ne in he)if(he[ne].location>=0){let Me=te[ne];Me===void 0&&(ne==="instanceMatrix"&&Q.instanceMatrix&&(Me=Q.instanceMatrix),ne==="instanceColor"&&Q.instanceColor&&(Me=Q.instanceColor));const Te={};Te.attribute=Me,Me&&Me.data&&(Te.data=Me.data),V[ne]=Te,ie++}u.attributes=V,u.attributesNum=ie,u.index=le}function A(){const Q=u.newAttributes;for(let ee=0,de=Q.length;ee<de;ee++)Q[ee]=0}function C(Q){P(Q,0)}function P(Q,ee){const de=u.newAttributes,le=u.enabledAttributes,V=u.attributeDivisors;de[Q]=1,le[Q]===0&&(t.enableVertexAttribArray(Q),le[Q]=1),V[Q]!==ee&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Q,ee),V[Q]=ee)}function L(){const Q=u.newAttributes,ee=u.enabledAttributes;for(let de=0,le=ee.length;de<le;de++)ee[de]!==Q[de]&&(t.disableVertexAttribArray(de),ee[de]=0)}function D(Q,ee,de,le,V,te,ie){ie===!0?t.vertexAttribIPointer(Q,ee,de,V,te):t.vertexAttribPointer(Q,ee,de,le,V,te)}function N(Q,ee,de,le){if(r.isWebGL2===!1&&(Q.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;A();const V=le.attributes,te=de.getAttributes(),ie=ee.defaultAttributeValues;for(const he in te){const ne=te[he];if(ne.location>=0){let ye=V[he];if(ye===void 0&&(he==="instanceMatrix"&&Q.instanceMatrix&&(ye=Q.instanceMatrix),he==="instanceColor"&&Q.instanceColor&&(ye=Q.instanceColor)),ye!==void 0){const Me=ye.normalized,Te=ye.itemSize,Le=n.get(ye);if(Le===void 0)continue;const Ge=Le.buffer,ut=Le.type,et=Le.bytesPerElement,mt=r.isWebGL2===!0&&(ut===t.INT||ut===t.UNSIGNED_INT||ye.gpuType===Bb);if(ye.isInterleavedBufferAttribute){const He=ye.data,K=He.stride,De=ye.offset;if(He.isInstancedInterleavedBuffer){for(let Se=0;Se<ne.locationSize;Se++)P(ne.location+Se,He.meshPerAttribute);Q.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=He.meshPerAttribute*He.count)}else for(let Se=0;Se<ne.locationSize;Se++)C(ne.location+Se);t.bindBuffer(t.ARRAY_BUFFER,Ge);for(let Se=0;Se<ne.locationSize;Se++)D(ne.location+Se,Te/ne.locationSize,ut,Me,K*et,(De+Te/ne.locationSize*Se)*et,mt)}else{if(ye.isInstancedBufferAttribute){for(let He=0;He<ne.locationSize;He++)P(ne.location+He,ye.meshPerAttribute);Q.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=ye.meshPerAttribute*ye.count)}else for(let He=0;He<ne.locationSize;He++)C(ne.location+He);t.bindBuffer(t.ARRAY_BUFFER,Ge);for(let He=0;He<ne.locationSize;He++)D(ne.location+He,Te/ne.locationSize,ut,Me,Te*et,Te/ne.locationSize*He*et,mt)}}else if(ie!==void 0){const Me=ie[he];if(Me!==void 0)switch(Me.length){case 2:t.vertexAttrib2fv(ne.location,Me);break;case 3:t.vertexAttrib3fv(ne.location,Me);break;case 4:t.vertexAttrib4fv(ne.location,Me);break;default:t.vertexAttrib1fv(ne.location,Me)}}}}L()}function I(){ce();for(const Q in a){const ee=a[Q];for(const de in ee){const le=ee[de];for(const V in le)x(le[V].object),delete le[V];delete ee[de]}delete a[Q]}}function F(Q){if(a[Q.id]===void 0)return;const ee=a[Q.id];for(const de in ee){const le=ee[de];for(const V in le)x(le[V].object),delete le[V];delete ee[de]}delete a[Q.id]}function W(Q){for(const ee in a){const de=a[ee];if(de[Q.id]===void 0)continue;const le=de[Q.id];for(const V in le)x(le[V].object),delete le[V];delete de[Q.id]}}function ce(){re(),h=!0,u!==l&&(u=l,v(u.object))}function re(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:ce,resetDefaultState:re,dispose:I,releaseStatesOfGeometry:F,releaseStatesOfProgram:W,initAttributes:A,enableAttribute:C,disableUnusedAttributes:L}}function kq(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,h){t.drawArrays(s,u,h),n.update(h,s,1)}function l(u,h,p){if(p===0)return;let g,v;if(i)g=t,v="drawArraysInstanced";else if(g=e.get("ANGLE_instanced_arrays"),v="drawArraysInstancedANGLE",g===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[v](s,u,h,p),n.update(h,s,p)}this.setMode=o,this.render=a,this.renderInstances=l}function Hq(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(D){if(D==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),E=t.getParameter(t.MAX_VERTEX_ATTRIBS),M=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),A=g>0,C=o||e.has("OES_texture_float"),P=A&&C,L=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:g,maxTextureSize:v,maxCubemapSize:x,maxAttributes:E,maxVertexUniforms:M,maxVaryings:y,maxFragmentUniforms:S,vertexTextures:A,floatFragmentTextures:C,floatVertexTextures:P,maxSamples:L}}function zq(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new bl,a=new an,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,g){const v=p.length!==0||g||r!==0||i;return i=g,r=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,g){n=h(p,g,0)},this.setState=function(p,g,v){const x=p.clippingPlanes,E=p.clipIntersection,M=p.clipShadows,y=t.get(p);if(!i||x===null||x.length===0||s&&!M)s?h(null):u();else{const S=s?0:r,A=S*4;let C=y.clippingState||null;l.value=C,C=h(x,g,A,v);for(let P=0;P!==A;++P)C[P]=n[P];y.clippingState=C,this.numIntersection=E?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,g,v,x){const E=p!==null?p.length:0;let M=null;if(E!==0){if(M=l.value,x!==!0||M===null){const y=v+E*4,S=g.matrixWorldInverse;a.getNormalMatrix(S),(M===null||M.length<y)&&(M=new Float32Array(y));for(let A=0,C=v;A!==E;++A,C+=4)o.copy(p[A]).applyMatrix4(S,a),o.normal.toArray(M,C),M[C+3]=o.constant}l.value=M,l.needsUpdate=!0}return e.numPlanes=E,e.numIntersection=0,M}}function Gq(t){let e=new WeakMap;function n(o,a){return a===U0?o.mapping=xc:a===k0&&(o.mapping=_c),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===U0||a===k0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new QU(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Co extends cv{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const qd=4,dB=[.125,.215,.35,.446,.526,.582],Ff=20,FM=new Co,pB=new $e;let OM=null;const Pf=(1+Math.sqrt(5))/2,Td=1/Pf,mB=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Pf,Td),new G(0,Pf,-Td),new G(Td,0,Pf),new G(-Td,0,Pf),new G(Pf,Td,0),new G(-Pf,Td,0)];class MT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){OM=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=yB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(OM),e.scissorTest=!1,Cx(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===xc||e.mapping===_c?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),OM=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:or,minFilter:or,generateMipmaps:!1,type:Bp,format:ms,colorSpace:fa,depthBuffer:!1},i=gB(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gB(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Vq(s)),this._blurMaterial=Wq(s,e,n)}return i}_compileMaterial(e){const n=new fi(this._lodPlanes[0],e);this._renderer.compile(n,FM)}_sceneToCubeUV(e,n,r,i){const a=new Xn(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,g=h.toneMapping;h.getClearColor(pB),h.toneMapping=la,h.autoClear=!1;const v=new zs({name:"PMREM.Background",side:qi,depthWrite:!1,depthTest:!1}),x=new fi(new Pc,v);let E=!1;const M=e.background;M?M.isColor&&(v.color.copy(M),e.background=null,E=!0):(v.color.copy(pB),E=!0);for(let y=0;y<6;y++){const S=y%3;S===0?(a.up.set(0,l[y],0),a.lookAt(u[y],0,0)):S===1?(a.up.set(0,0,l[y]),a.lookAt(0,u[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,u[y]));const A=this._cubeSize;Cx(i,S*A,y>2?A:0,A,A),h.setRenderTarget(i),E&&h.render(x,a),h.render(e,a)}x.geometry.dispose(),x.material.dispose(),h.toneMapping=g,h.autoClear=p,e.background=M}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===xc||e.mapping===_c;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=yB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=vB());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new fi(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Cx(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,FM)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=mB[(i-1)%mB.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new fi(this._lodPlanes[i],u),g=u.uniforms,v=this._sizeLods[r]-1,x=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Ff-1),E=s/x,M=isFinite(s)?1+Math.floor(h*E):Ff;M>Ff&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Ff}`);const y=[];let S=0;for(let D=0;D<Ff;++D){const N=D/E,I=Math.exp(-N*N/2);y.push(I),D===0?S+=I:D<M&&(S+=2*I)}for(let D=0;D<y.length;D++)y[D]=y[D]/S;g.envMap.value=e.texture,g.samples.value=M,g.weights.value=y,g.latitudinal.value=o==="latitudinal",a&&(g.poleAxis.value=a);const{_lodMax:A}=this;g.dTheta.value=x,g.mipInt.value=A-r;const C=this._sizeLods[i],P=3*C*(i>A-qd?i-A+qd:0),L=4*(this._cubeSize-C);Cx(n,P,L,3*C,2*C),l.setRenderTarget(n),l.render(p,FM)}}function Vq(t){const e=[],n=[],r=[];let i=t;const s=t-qd+1+dB.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-qd?l=dB[o-t+qd-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),h=-u,p=1+u,g=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,x=6,E=3,M=2,y=1,S=new Float32Array(E*x*v),A=new Float32Array(M*x*v),C=new Float32Array(y*x*v);for(let L=0;L<v;L++){const D=L%3*2/3-1,N=L>2?0:-1,I=[D,N,0,D+2/3,N,0,D+2/3,N+1,0,D,N,0,D+2/3,N+1,0,D,N+1,0];S.set(I,E*x*L),A.set(g,M*x*L);const F=[L,L,L,L,L,L];C.set(F,y*x*L)}const P=new en;P.setAttribute("position",new Mn(S,E)),P.setAttribute("uv",new Mn(A,M)),P.setAttribute("faceIndex",new Mn(C,y)),e.push(P),i>qd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function gB(t,e,n){const r=new ha(t,e,n);return r.texture.mapping=$p,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Cx(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Wq(t,e,n){const r=new Float32Array(Ff),i=new G(0,1,0);return new Za({name:"SphericalGaussianBlur",defines:{n:Ff,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function vB(){return new Za({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function yB(){return new Za({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Jb(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Nl,depthTest:!1,depthWrite:!1})}function Jb(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function jq(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===U0||l===k0,h=l===xc||l===_c;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let p=e.get(a);return n===null&&(n=new MT(t)),p=u?n.fromEquirectangular(a,p):n.fromCubemap(a,p),e.set(a,p),p.texture}else{if(e.has(a))return e.get(a).texture;{const p=a.image;if(u&&p&&p.height>0||h&&p&&i(p)){n===null&&(n=new MT(t));const g=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,g),a.addEventListener("dispose",s),g.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Xq(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Jq(t,e,n,r){const i={},s=new WeakMap;function o(p){const g=p.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);for(const x in g.morphAttributes){const E=g.morphAttributes[x];for(let M=0,y=E.length;M<y;M++)e.remove(E[M])}g.removeEventListener("dispose",o),delete i[g.id];const v=s.get(g);v&&(e.remove(v),s.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function a(p,g){return i[g.id]===!0||(g.addEventListener("dispose",o),i[g.id]=!0,n.memory.geometries++),g}function l(p){const g=p.attributes;for(const x in g)e.update(g[x],t.ARRAY_BUFFER);const v=p.morphAttributes;for(const x in v){const E=v[x];for(let M=0,y=E.length;M<y;M++)e.update(E[M],t.ARRAY_BUFFER)}}function u(p){const g=[],v=p.index,x=p.attributes.position;let E=0;if(v!==null){const S=v.array;E=v.version;for(let A=0,C=S.length;A<C;A+=3){const P=S[A+0],L=S[A+1],D=S[A+2];g.push(P,L,L,D,D,P)}}else{const S=x.array;E=x.version;for(let A=0,C=S.length/3-1;A<C;A+=3){const P=A+0,L=A+1,D=A+2;g.push(P,L,L,D,D,P)}}const M=new(jU(g)?Xb:jb)(g,1);M.version=E;const y=s.get(p);y&&e.remove(y),s.set(p,M)}function h(p){const g=s.get(p);if(g){const v=p.index;v!==null&&g.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:a,update:l,getWireframeAttribute:h}}function Kq(t,e,n,r){const i=r.isWebGL2;let s;function o(g){s=g}let a,l;function u(g){a=g.type,l=g.bytesPerElement}function h(g,v){t.drawElements(s,v,a,g*l),n.update(v,s,1)}function p(g,v,x){if(x===0)return;let E,M;if(i)E=t,M="drawElementsInstanced";else if(E=e.get("ANGLE_instanced_arrays"),M="drawElementsInstancedANGLE",E===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}E[M](s,v,a,g*l,x),n.update(v,s,x)}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=p}function Yq(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Qq(t,e){return t[0]-e[0]}function qq(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Zq(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Rn,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,p){const g=u.morphTargetInfluences;if(e.isWebGL2===!0){const v=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,x=v!==void 0?v.length:0;let E=s.get(h);if(E===void 0||E.count!==x){let Q=function(){ce.dispose(),s.delete(h),h.removeEventListener("dispose",Q)};E!==void 0&&E.texture.dispose();const S=h.morphAttributes.position!==void 0,A=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,P=h.morphAttributes.position||[],L=h.morphAttributes.normal||[],D=h.morphAttributes.color||[];let N=0;S===!0&&(N=1),A===!0&&(N=2),C===!0&&(N=3);let I=h.attributes.position.count*N,F=1;I>e.maxTextureSize&&(F=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const W=new Float32Array(I*F*4*x),ce=new T1(W,I,F,x);ce.type=Ha,ce.needsUpdate=!0;const re=N*4;for(let ee=0;ee<x;ee++){const de=P[ee],le=L[ee],V=D[ee],te=I*F*4*ee;for(let ie=0;ie<de.count;ie++){const he=ie*re;S===!0&&(o.fromBufferAttribute(de,ie),W[te+he+0]=o.x,W[te+he+1]=o.y,W[te+he+2]=o.z,W[te+he+3]=0),A===!0&&(o.fromBufferAttribute(le,ie),W[te+he+4]=o.x,W[te+he+5]=o.y,W[te+he+6]=o.z,W[te+he+7]=0),C===!0&&(o.fromBufferAttribute(V,ie),W[te+he+8]=o.x,W[te+he+9]=o.y,W[te+he+10]=o.z,W[te+he+11]=V.itemSize===4?o.w:1)}}E={count:x,texture:ce,size:new Ie(I,F)},s.set(h,E),h.addEventListener("dispose",Q)}let M=0;for(let S=0;S<g.length;S++)M+=g[S];const y=h.morphTargetsRelative?1:1-M;p.getUniforms().setValue(t,"morphTargetBaseInfluence",y),p.getUniforms().setValue(t,"morphTargetInfluences",g),p.getUniforms().setValue(t,"morphTargetsTexture",E.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",E.size)}else{const v=g===void 0?0:g.length;let x=r[h.id];if(x===void 0||x.length!==v){x=[];for(let A=0;A<v;A++)x[A]=[A,0];r[h.id]=x}for(let A=0;A<v;A++){const C=x[A];C[0]=A,C[1]=g[A]}x.sort(qq);for(let A=0;A<8;A++)A<v&&x[A][1]?(a[A][0]=x[A][0],a[A][1]=x[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(Qq);const E=h.morphAttributes.position,M=h.morphAttributes.normal;let y=0;for(let A=0;A<8;A++){const C=a[A],P=C[0],L=C[1];P!==Number.MAX_SAFE_INTEGER&&L?(E&&h.getAttribute("morphTarget"+A)!==E[P]&&h.setAttribute("morphTarget"+A,E[P]),M&&h.getAttribute("morphNormal"+A)!==M[P]&&h.setAttribute("morphNormal"+A,M[P]),i[A]=L,y+=L):(E&&h.hasAttribute("morphTarget"+A)===!0&&h.deleteAttribute("morphTarget"+A),M&&h.hasAttribute("morphNormal"+A)===!0&&h.deleteAttribute("morphNormal"+A),i[A]=0)}const S=h.morphTargetsRelative?1:1-y;p.getUniforms().setValue(t,"morphTargetBaseInfluence",S),p.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function $q(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,p=e.get(l,h);return i.get(p)!==u&&(e.update(p),i.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER)),p}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}const ZU=new $n,$U=new T1,ek=new Wb,tk=new fv,xB=[],_B=[],AB=new Float32Array(16),SB=new Float32Array(9),MB=new Float32Array(4);function tm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=xB[i];if(s===void 0&&(s=new Float32Array(i),xB[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Qr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function qr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function b1(t,e){let n=_B[e];n===void 0&&(n=new Int32Array(e),_B[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function eZ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function tZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qr(n,e))return;t.uniform2fv(this.addr,e),qr(n,e)}}function nZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Qr(n,e))return;t.uniform3fv(this.addr,e),qr(n,e)}}function rZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qr(n,e))return;t.uniform4fv(this.addr,e),qr(n,e)}}function iZ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),qr(n,e)}else{if(Qr(n,r))return;MB.set(r),t.uniformMatrix2fv(this.addr,!1,MB),qr(n,r)}}function sZ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),qr(n,e)}else{if(Qr(n,r))return;SB.set(r),t.uniformMatrix3fv(this.addr,!1,SB),qr(n,r)}}function oZ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Qr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),qr(n,e)}else{if(Qr(n,r))return;AB.set(r),t.uniformMatrix4fv(this.addr,!1,AB),qr(n,r)}}function aZ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function lZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qr(n,e))return;t.uniform2iv(this.addr,e),qr(n,e)}}function uZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Qr(n,e))return;t.uniform3iv(this.addr,e),qr(n,e)}}function cZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qr(n,e))return;t.uniform4iv(this.addr,e),qr(n,e)}}function fZ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function hZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Qr(n,e))return;t.uniform2uiv(this.addr,e),qr(n,e)}}function dZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Qr(n,e))return;t.uniform3uiv(this.addr,e),qr(n,e)}}function pZ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Qr(n,e))return;t.uniform4uiv(this.addr,e),qr(n,e)}}function mZ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||ZU,i)}function gZ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||ek,i)}function vZ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||tk,i)}function yZ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||$U,i)}function xZ(t){switch(t){case 5126:return eZ;case 35664:return tZ;case 35665:return nZ;case 35666:return rZ;case 35674:return iZ;case 35675:return sZ;case 35676:return oZ;case 5124:case 35670:return aZ;case 35667:case 35671:return lZ;case 35668:case 35672:return uZ;case 35669:case 35673:return cZ;case 5125:return fZ;case 36294:return hZ;case 36295:return dZ;case 36296:return pZ;case 35678:case 36198:case 36298:case 36306:case 35682:return mZ;case 35679:case 36299:case 36307:return gZ;case 35680:case 36300:case 36308:case 36293:return vZ;case 36289:case 36303:case 36311:case 36292:return yZ}}function _Z(t,e){t.uniform1fv(this.addr,e)}function AZ(t,e){const n=tm(e,this.size,2);t.uniform2fv(this.addr,n)}function SZ(t,e){const n=tm(e,this.size,3);t.uniform3fv(this.addr,n)}function MZ(t,e){const n=tm(e,this.size,4);t.uniform4fv(this.addr,n)}function wZ(t,e){const n=tm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function EZ(t,e){const n=tm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function TZ(t,e){const n=tm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function CZ(t,e){t.uniform1iv(this.addr,e)}function bZ(t,e){t.uniform2iv(this.addr,e)}function RZ(t,e){t.uniform3iv(this.addr,e)}function PZ(t,e){t.uniform4iv(this.addr,e)}function IZ(t,e){t.uniform1uiv(this.addr,e)}function BZ(t,e){t.uniform2uiv(this.addr,e)}function LZ(t,e){t.uniform3uiv(this.addr,e)}function DZ(t,e){t.uniform4uiv(this.addr,e)}function FZ(t,e,n){const r=this.cache,i=e.length,s=b1(n,i);Qr(r,s)||(t.uniform1iv(this.addr,s),qr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||ZU,s[o])}function OZ(t,e,n){const r=this.cache,i=e.length,s=b1(n,i);Qr(r,s)||(t.uniform1iv(this.addr,s),qr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||ek,s[o])}function NZ(t,e,n){const r=this.cache,i=e.length,s=b1(n,i);Qr(r,s)||(t.uniform1iv(this.addr,s),qr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||tk,s[o])}function UZ(t,e,n){const r=this.cache,i=e.length,s=b1(n,i);Qr(r,s)||(t.uniform1iv(this.addr,s),qr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||$U,s[o])}function kZ(t){switch(t){case 5126:return _Z;case 35664:return AZ;case 35665:return SZ;case 35666:return MZ;case 35674:return wZ;case 35675:return EZ;case 35676:return TZ;case 5124:case 35670:return CZ;case 35667:case 35671:return bZ;case 35668:case 35672:return RZ;case 35669:case 35673:return PZ;case 5125:return IZ;case 36294:return BZ;case 36295:return LZ;case 36296:return DZ;case 35678:case 36198:case 36298:case 36306:case 35682:return FZ;case 35679:case 36299:case 36307:return OZ;case 35680:case 36300:case 36308:case 36293:return NZ;case 36289:case 36303:case 36311:case 36292:return UZ}}class HZ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=xZ(n.type)}}class zZ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=kZ(n.type)}}class GZ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const NM=/(\w+)(\])?(\[|\.)?/g;function wB(t,e){t.seq.push(e),t.map[e.id]=e}function VZ(t,e,n){const r=t.name,i=r.length;for(NM.lastIndex=0;;){const s=NM.exec(r),o=NM.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){wB(n,u===void 0?new HZ(a,t,e):new zZ(a,t,e));break}else{let p=n.map[a];p===void 0&&(p=new GZ(a),wB(n,p)),n=p}}}class C_{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);VZ(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function EB(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let WZ=0;function jZ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function XZ(t){switch(t){case fa:return["Linear","( value )"];case $t:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function TB(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+jZ(t.getShaderSource(e),o)}else return i}function JZ(t,e){const n=XZ(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function KZ(t,e){let n;switch(e){case mU:n="Linear";break;case gU:n="Reinhard";break;case vU:n="OptimizedCineon";break;case Ib:n="ACESFilmic";break;case yU:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function YZ(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ng).join(`
`)}function QZ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function qZ(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ng(t){return t!==""}function CB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function wT(t){return t.replace(ZZ,$Z)}function $Z(t,e){const n=on[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return wT(n)}const e$=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RB(t){return t.replace(e$,t$)}function t$(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function PB(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function n$(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===A1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Zg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===qo&&(e="SHADOWMAP_TYPE_VSM"),e}function r$(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case xc:case _c:e="ENVMAP_TYPE_CUBE";break;case $p:e="ENVMAP_TYPE_CUBE_UV";break}return e}function i$(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case _c:e="ENVMAP_MODE_REFRACTION";break}return e}function s$(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case lv:e="ENVMAP_BLENDING_MULTIPLY";break;case dU:e="ENVMAP_BLENDING_MIX";break;case pU:e="ENVMAP_BLENDING_ADD";break}return e}function o$(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function a$(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=n$(n),u=r$(n),h=i$(n),p=s$(n),g=o$(n),v=n.isWebGL2?"":YZ(n),x=QZ(s),E=i.createProgram();let M,y,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(M=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Ng).join(`
`),M.length>0&&(M+=`
`),y=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Ng).join(`
`),y.length>0&&(y+=`
`)):(M=[PB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ng).join(`
`),y=[v,PB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==la?"#define TONE_MAPPING":"",n.toneMapping!==la?on.tonemapping_pars_fragment:"",n.toneMapping!==la?KZ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",on.encodings_pars_fragment,JZ("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ng).join(`
`)),o=wT(o),o=CB(o,n),o=bB(o,n),a=wT(a),a=CB(a,n),a=bB(a,n),o=RB(o),a=RB(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,M=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,y=["#define varying in",n.glslVersion===AT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===AT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const A=S+M+o,C=S+y+a,P=EB(i,i.VERTEX_SHADER,A),L=EB(i,i.FRAGMENT_SHADER,C);if(i.attachShader(E,P),i.attachShader(E,L),n.index0AttributeName!==void 0?i.bindAttribLocation(E,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(E,0,"position"),i.linkProgram(E),t.debug.checkShaderErrors){const I=i.getProgramInfoLog(E).trim(),F=i.getShaderInfoLog(P).trim(),W=i.getShaderInfoLog(L).trim();let ce=!0,re=!0;if(i.getProgramParameter(E,i.LINK_STATUS)===!1)if(ce=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,E,P,L);else{const Q=TB(i,P,"vertex"),ee=TB(i,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(E,i.VALIDATE_STATUS)+`

Program Info Log: `+I+`
`+Q+`
`+ee)}else I!==""?console.warn("THREE.WebGLProgram: Program Info Log:",I):(F===""||W==="")&&(re=!1);re&&(this.diagnostics={runnable:ce,programLog:I,vertexShader:{log:F,prefix:M},fragmentShader:{log:W,prefix:y}})}i.deleteShader(P),i.deleteShader(L);let D;this.getUniforms=function(){return D===void 0&&(D=new C_(i,E)),D};let N;return this.getAttributes=function(){return N===void 0&&(N=qZ(i,E)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(E),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=WZ++,this.cacheKey=e,this.usedTimes=1,this.program=E,this.vertexShader=P,this.fragmentShader=L,this}let l$=0;class u${constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new c$(e),n.set(e,r)),r}}class c${constructor(e){this.id=l$++,this.code=e,this.usedTimes=0}}function f$(t,e,n,r,i,s,o){const a=new qf,l=new u$,u=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,g=i.vertexTextures;let v=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function E(I){return I===0?"uv":`uv${I}`}function M(I,F,W,ce,re){const Q=ce.fog,ee=re.geometry,de=I.isMeshStandardMaterial?ce.environment:null,le=(I.isMeshStandardMaterial?n:e).get(I.envMap||de),V=le&&le.mapping===$p?le.image.height:null,te=x[I.type];I.precision!==null&&(v=i.getMaxPrecision(I.precision),v!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",v,"instead."));const ie=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,he=ie!==void 0?ie.length:0;let ne=0;ee.morphAttributes.position!==void 0&&(ne=1),ee.morphAttributes.normal!==void 0&&(ne=2),ee.morphAttributes.color!==void 0&&(ne=3);let ye,Me,Te,Le;if(te){const gn=na[te];ye=gn.vertexShader,Me=gn.fragmentShader}else ye=I.vertexShader,Me=I.fragmentShader,l.update(I),Te=l.getVertexShaderID(I),Le=l.getFragmentShaderID(I);const Ge=t.getRenderTarget(),ut=re.isInstancedMesh===!0,et=!!I.map,mt=!!I.matcap,He=!!le,K=!!I.aoMap,De=!!I.lightMap,Se=!!I.bumpMap,Ne=!!I.normalMap,Be=!!I.displacementMap,Ke=!!I.emissiveMap,qe=!!I.metalnessMap,rt=!!I.roughnessMap,gt=I.anisotropy>0,Et=I.clearcoat>0,fn=I.iridescence>0,J=I.sheen>0,H=I.transmission>0,Ae=gt&&!!I.anisotropyMap,We=Et&&!!I.clearcoatMap,Ue=Et&&!!I.clearcoatNormalMap,Ye=Et&&!!I.clearcoatRoughnessMap,dt=fn&&!!I.iridescenceMap,Qe=fn&&!!I.iridescenceThicknessMap,Ce=J&&!!I.sheenColorMap,St=J&&!!I.sheenRoughnessMap,At=!!I.specularMap,Mt=!!I.specularColorMap,lt=!!I.specularIntensityMap,Z=H&&!!I.transmissionMap,Pe=H&&!!I.thicknessMap,tt=!!I.gradientMap,$=!!I.alphaMap,Ve=I.alphaTest>0,ve=!!I.extensions,Je=!!ee.attributes.uv1,it=!!ee.attributes.uv2,rn=!!ee.attributes.uv3;return{isWebGL2:h,shaderID:te,shaderType:I.type,shaderName:I.name,vertexShader:ye,fragmentShader:Me,defines:I.defines,customVertexShaderID:Te,customFragmentShaderID:Le,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:v,instancing:ut,instancingColor:ut&&re.instanceColor!==null,supportsVertexTextures:g,outputColorSpace:Ge===null?t.outputColorSpace:Ge.isXRRenderTarget===!0?Ge.texture.colorSpace:fa,map:et,matcap:mt,envMap:He,envMapMode:He&&le.mapping,envMapCubeUVHeight:V,aoMap:K,lightMap:De,bumpMap:Se,normalMap:Ne,displacementMap:g&&Be,emissiveMap:Ke,normalMapObjectSpace:Ne&&I.normalMapType===DU,normalMapTangentSpace:Ne&&I.normalMapType===Rc,metalnessMap:qe,roughnessMap:rt,anisotropy:gt,anisotropyMap:Ae,clearcoat:Et,clearcoatMap:We,clearcoatNormalMap:Ue,clearcoatRoughnessMap:Ye,iridescence:fn,iridescenceMap:dt,iridescenceThicknessMap:Qe,sheen:J,sheenColorMap:Ce,sheenRoughnessMap:St,specularMap:At,specularColorMap:Mt,specularIntensityMap:lt,transmission:H,transmissionMap:Z,thicknessMap:Pe,gradientMap:tt,opaque:I.transparent===!1&&I.blending===Yf,alphaMap:$,alphaTest:Ve,combine:I.combine,mapUv:et&&E(I.map.channel),aoMapUv:K&&E(I.aoMap.channel),lightMapUv:De&&E(I.lightMap.channel),bumpMapUv:Se&&E(I.bumpMap.channel),normalMapUv:Ne&&E(I.normalMap.channel),displacementMapUv:Be&&E(I.displacementMap.channel),emissiveMapUv:Ke&&E(I.emissiveMap.channel),metalnessMapUv:qe&&E(I.metalnessMap.channel),roughnessMapUv:rt&&E(I.roughnessMap.channel),anisotropyMapUv:Ae&&E(I.anisotropyMap.channel),clearcoatMapUv:We&&E(I.clearcoatMap.channel),clearcoatNormalMapUv:Ue&&E(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ye&&E(I.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&E(I.iridescenceMap.channel),iridescenceThicknessMapUv:Qe&&E(I.iridescenceThicknessMap.channel),sheenColorMapUv:Ce&&E(I.sheenColorMap.channel),sheenRoughnessMapUv:St&&E(I.sheenRoughnessMap.channel),specularMapUv:At&&E(I.specularMap.channel),specularColorMapUv:Mt&&E(I.specularColorMap.channel),specularIntensityMapUv:lt&&E(I.specularIntensityMap.channel),transmissionMapUv:Z&&E(I.transmissionMap.channel),thicknessMapUv:Pe&&E(I.thicknessMap.channel),alphaMapUv:$&&E(I.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(Ne||gt),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,vertexUv1s:Je,vertexUv2s:it,vertexUv3s:rn,pointsUvs:re.isPoints===!0&&!!ee.attributes.uv&&(et||$),fog:!!Q,useFog:I.fog===!0,fogExp2:Q&&Q.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:re.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:he,morphTextureStride:ne,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&W.length>0,shadowMapType:t.shadowMap.type,toneMapping:I.toneMapped?t.toneMapping:la,useLegacyLights:t.useLegacyLights,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Eo,flipSided:I.side===qi,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:ve&&I.extensions.derivatives===!0,extensionFragDepth:ve&&I.extensions.fragDepth===!0,extensionDrawBuffers:ve&&I.extensions.drawBuffers===!0,extensionShaderTextureLOD:ve&&I.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),customProgramCacheKey:I.customProgramCacheKey()}}function y(I){const F=[];if(I.shaderID?F.push(I.shaderID):(F.push(I.customVertexShaderID),F.push(I.customFragmentShaderID)),I.defines!==void 0)for(const W in I.defines)F.push(W),F.push(I.defines[W]);return I.isRawShaderMaterial===!1&&(S(F,I),A(F,I),F.push(t.outputColorSpace)),F.push(I.customProgramCacheKey),F.join()}function S(I,F){I.push(F.precision),I.push(F.outputColorSpace),I.push(F.envMapMode),I.push(F.envMapCubeUVHeight),I.push(F.mapUv),I.push(F.alphaMapUv),I.push(F.lightMapUv),I.push(F.aoMapUv),I.push(F.bumpMapUv),I.push(F.normalMapUv),I.push(F.displacementMapUv),I.push(F.emissiveMapUv),I.push(F.metalnessMapUv),I.push(F.roughnessMapUv),I.push(F.anisotropyMapUv),I.push(F.clearcoatMapUv),I.push(F.clearcoatNormalMapUv),I.push(F.clearcoatRoughnessMapUv),I.push(F.iridescenceMapUv),I.push(F.iridescenceThicknessMapUv),I.push(F.sheenColorMapUv),I.push(F.sheenRoughnessMapUv),I.push(F.specularMapUv),I.push(F.specularColorMapUv),I.push(F.specularIntensityMapUv),I.push(F.transmissionMapUv),I.push(F.thicknessMapUv),I.push(F.combine),I.push(F.fogExp2),I.push(F.sizeAttenuation),I.push(F.morphTargetsCount),I.push(F.morphAttributeCount),I.push(F.numDirLights),I.push(F.numPointLights),I.push(F.numSpotLights),I.push(F.numSpotLightMaps),I.push(F.numHemiLights),I.push(F.numRectAreaLights),I.push(F.numDirLightShadows),I.push(F.numPointLightShadows),I.push(F.numSpotLightShadows),I.push(F.numSpotLightShadowsWithMaps),I.push(F.shadowMapType),I.push(F.toneMapping),I.push(F.numClippingPlanes),I.push(F.numClipIntersection),I.push(F.depthPacking)}function A(I,F){a.disableAll(),F.isWebGL2&&a.enable(0),F.supportsVertexTextures&&a.enable(1),F.instancing&&a.enable(2),F.instancingColor&&a.enable(3),F.matcap&&a.enable(4),F.envMap&&a.enable(5),F.normalMapObjectSpace&&a.enable(6),F.normalMapTangentSpace&&a.enable(7),F.clearcoat&&a.enable(8),F.iridescence&&a.enable(9),F.alphaTest&&a.enable(10),F.vertexColors&&a.enable(11),F.vertexAlphas&&a.enable(12),F.vertexUv1s&&a.enable(13),F.vertexUv2s&&a.enable(14),F.vertexUv3s&&a.enable(15),F.vertexTangents&&a.enable(16),F.anisotropy&&a.enable(17),I.push(a.mask),a.disableAll(),F.fog&&a.enable(0),F.useFog&&a.enable(1),F.flatShading&&a.enable(2),F.logarithmicDepthBuffer&&a.enable(3),F.skinning&&a.enable(4),F.morphTargets&&a.enable(5),F.morphNormals&&a.enable(6),F.morphColors&&a.enable(7),F.premultipliedAlpha&&a.enable(8),F.shadowMapEnabled&&a.enable(9),F.useLegacyLights&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.useDepthPacking&&a.enable(13),F.dithering&&a.enable(14),F.transmission&&a.enable(15),F.sheen&&a.enable(16),F.opaque&&a.enable(17),F.pointsUvs&&a.enable(18),I.push(a.mask)}function C(I){const F=x[I.type];let W;if(F){const ce=na[F];W=KU.clone(ce.uniforms)}else W=I.uniforms;return W}function P(I,F){let W;for(let ce=0,re=u.length;ce<re;ce++){const Q=u[ce];if(Q.cacheKey===F){W=Q,++W.usedTimes;break}}return W===void 0&&(W=new a$(t,F,I,s),u.push(W)),W}function L(I){if(--I.usedTimes===0){const F=u.indexOf(I);u[F]=u[u.length-1],u.pop(),I.destroy()}}function D(I){l.remove(I)}function N(){l.dispose()}return{getParameters:M,getProgramCacheKey:y,getUniforms:C,acquireProgram:P,releaseProgram:L,releaseShaderCache:D,programs:u,dispose:N}}function h$(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function d$(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function IB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function BB(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(p,g,v,x,E,M){let y=t[e];return y===void 0?(y={id:p.id,object:p,geometry:g,material:v,groupOrder:x,renderOrder:p.renderOrder,z:E,group:M},t[e]=y):(y.id=p.id,y.object=p,y.geometry=g,y.material=v,y.groupOrder=x,y.renderOrder=p.renderOrder,y.z=E,y.group=M),e++,y}function a(p,g,v,x,E,M){const y=o(p,g,v,x,E,M);v.transmission>0?r.push(y):v.transparent===!0?i.push(y):n.push(y)}function l(p,g,v,x,E,M){const y=o(p,g,v,x,E,M);v.transmission>0?r.unshift(y):v.transparent===!0?i.unshift(y):n.unshift(y)}function u(p,g){n.length>1&&n.sort(p||d$),r.length>1&&r.sort(g||IB),i.length>1&&i.sort(g||IB)}function h(){for(let p=e,g=t.length;p<g;p++){const v=t[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:h,sort:u}}function p$(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new BB,t.set(r,[o])):i>=s.length?(o=new BB,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function m$(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new $e};break;case"SpotLight":n={position:new G,direction:new G,color:new $e,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new $e,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new $e,groundColor:new $e};break;case"RectAreaLight":n={color:new $e,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function g$(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ie,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let v$=0;function y$(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function x$(t,e){const n=new m$,r=g$(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let h=0;h<9;h++)i.probe.push(new G);const s=new G,o=new Gt,a=new Gt;function l(h,p){let g=0,v=0,x=0;for(let W=0;W<9;W++)i.probe[W].set(0,0,0);let E=0,M=0,y=0,S=0,A=0,C=0,P=0,L=0,D=0,N=0;h.sort(y$);const I=p===!0?Math.PI:1;for(let W=0,ce=h.length;W<ce;W++){const re=h[W],Q=re.color,ee=re.intensity,de=re.distance,le=re.shadow&&re.shadow.map?re.shadow.map.texture:null;if(re.isAmbientLight)g+=Q.r*ee*I,v+=Q.g*ee*I,x+=Q.b*ee*I;else if(re.isLightProbe)for(let V=0;V<9;V++)i.probe[V].addScaledVector(re.sh.coefficients[V],ee);else if(re.isDirectionalLight){const V=n.get(re);if(V.color.copy(re.color).multiplyScalar(re.intensity*I),re.castShadow){const te=re.shadow,ie=r.get(re);ie.shadowBias=te.bias,ie.shadowNormalBias=te.normalBias,ie.shadowRadius=te.radius,ie.shadowMapSize=te.mapSize,i.directionalShadow[E]=ie,i.directionalShadowMap[E]=le,i.directionalShadowMatrix[E]=re.shadow.matrix,C++}i.directional[E]=V,E++}else if(re.isSpotLight){const V=n.get(re);V.position.setFromMatrixPosition(re.matrixWorld),V.color.copy(Q).multiplyScalar(ee*I),V.distance=de,V.coneCos=Math.cos(re.angle),V.penumbraCos=Math.cos(re.angle*(1-re.penumbra)),V.decay=re.decay,i.spot[y]=V;const te=re.shadow;if(re.map&&(i.spotLightMap[D]=re.map,D++,te.updateMatrices(re),re.castShadow&&N++),i.spotLightMatrix[y]=te.matrix,re.castShadow){const ie=r.get(re);ie.shadowBias=te.bias,ie.shadowNormalBias=te.normalBias,ie.shadowRadius=te.radius,ie.shadowMapSize=te.mapSize,i.spotShadow[y]=ie,i.spotShadowMap[y]=le,L++}y++}else if(re.isRectAreaLight){const V=n.get(re);V.color.copy(Q).multiplyScalar(ee),V.halfWidth.set(re.width*.5,0,0),V.halfHeight.set(0,re.height*.5,0),i.rectArea[S]=V,S++}else if(re.isPointLight){const V=n.get(re);if(V.color.copy(re.color).multiplyScalar(re.intensity*I),V.distance=re.distance,V.decay=re.decay,re.castShadow){const te=re.shadow,ie=r.get(re);ie.shadowBias=te.bias,ie.shadowNormalBias=te.normalBias,ie.shadowRadius=te.radius,ie.shadowMapSize=te.mapSize,ie.shadowCameraNear=te.camera.near,ie.shadowCameraFar=te.camera.far,i.pointShadow[M]=ie,i.pointShadowMap[M]=le,i.pointShadowMatrix[M]=re.shadow.matrix,P++}i.point[M]=V,M++}else if(re.isHemisphereLight){const V=n.get(re);V.skyColor.copy(re.color).multiplyScalar(ee*I),V.groundColor.copy(re.groundColor).multiplyScalar(ee*I),i.hemi[A]=V,A++}}S>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ze.LTC_FLOAT_1,i.rectAreaLTC2=Ze.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ze.LTC_HALF_1,i.rectAreaLTC2=Ze.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=g,i.ambient[1]=v,i.ambient[2]=x;const F=i.hash;(F.directionalLength!==E||F.pointLength!==M||F.spotLength!==y||F.rectAreaLength!==S||F.hemiLength!==A||F.numDirectionalShadows!==C||F.numPointShadows!==P||F.numSpotShadows!==L||F.numSpotMaps!==D)&&(i.directional.length=E,i.spot.length=y,i.rectArea.length=S,i.point.length=M,i.hemi.length=A,i.directionalShadow.length=C,i.directionalShadowMap.length=C,i.pointShadow.length=P,i.pointShadowMap.length=P,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=C,i.pointShadowMatrix.length=P,i.spotLightMatrix.length=L+D-N,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=N,F.directionalLength=E,F.pointLength=M,F.spotLength=y,F.rectAreaLength=S,F.hemiLength=A,F.numDirectionalShadows=C,F.numPointShadows=P,F.numSpotShadows=L,F.numSpotMaps=D,i.version=v$++)}function u(h,p){let g=0,v=0,x=0,E=0,M=0;const y=p.matrixWorldInverse;for(let S=0,A=h.length;S<A;S++){const C=h[S];if(C.isDirectionalLight){const P=i.directional[g];P.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(y),g++}else if(C.isSpotLight){const P=i.spot[x];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(y),P.direction.setFromMatrixPosition(C.matrixWorld),s.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(s),P.direction.transformDirection(y),x++}else if(C.isRectAreaLight){const P=i.rectArea[E];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(y),a.identity(),o.copy(C.matrixWorld),o.premultiply(y),a.extractRotation(o),P.halfWidth.set(C.width*.5,0,0),P.halfHeight.set(0,C.height*.5,0),P.halfWidth.applyMatrix4(a),P.halfHeight.applyMatrix4(a),E++}else if(C.isPointLight){const P=i.point[v];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(y),v++}else if(C.isHemisphereLight){const P=i.hemi[M];P.direction.setFromMatrixPosition(C.matrixWorld),P.direction.transformDirection(y),M++}}}return{setup:l,setupView:u,state:i}}function LB(t,e){const n=new x$(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(p){r.push(p)}function a(p){i.push(p)}function l(p){n.setup(r,p)}function u(p){n.setupView(r,p)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function _$(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new LB(t,e),n.set(s,[l])):o>=a.length?(l=new LB(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class Kb extends Hr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Yb extends Hr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const A$=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,S$=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function M$(t,e,n){let r=new C1;const i=new Ie,s=new Ie,o=new Rn,a=new Kb({depthPacking:LU}),l=new Yb,u={},h=n.maxTextureSize,p={[Qa]:qi,[qi]:Qa,[Eo]:Eo},g=new Za({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ie},radius:{value:4}},vertexShader:A$,fragmentShader:S$}),v=g.clone();v.defines.HORIZONTAL_PASS=1;const x=new en;x.setAttribute("position",new Mn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const E=new fi(x,g),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=A1;let y=this.type;this.render=function(P,L,D){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||P.length===0)return;const N=t.getRenderTarget(),I=t.getActiveCubeFace(),F=t.getActiveMipmapLevel(),W=t.state;W.setBlending(Nl),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const ce=y!==qo&&this.type===qo,re=y===qo&&this.type!==qo;for(let Q=0,ee=P.length;Q<ee;Q++){const de=P[Q],le=de.shadow;if(le===void 0){console.warn("THREE.WebGLShadowMap:",de,"has no shadow.");continue}if(le.autoUpdate===!1&&le.needsUpdate===!1)continue;i.copy(le.mapSize);const V=le.getFrameExtents();if(i.multiply(V),s.copy(le.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/V.x),i.x=s.x*V.x,le.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/V.y),i.y=s.y*V.y,le.mapSize.y=s.y)),le.map===null||ce===!0||re===!0){const ie=this.type!==qo?{minFilter:_r,magFilter:_r}:{};le.map!==null&&le.map.dispose(),le.map=new ha(i.x,i.y,ie),le.map.texture.name=de.name+".shadowMap",le.camera.updateProjectionMatrix()}t.setRenderTarget(le.map),t.clear();const te=le.getViewportCount();for(let ie=0;ie<te;ie++){const he=le.getViewport(ie);o.set(s.x*he.x,s.y*he.y,s.x*he.z,s.y*he.w),W.viewport(o),le.updateMatrices(de,ie),r=le.getFrustum(),C(L,D,le.camera,de,this.type)}le.isPointLightShadow!==!0&&this.type===qo&&S(le,D),le.needsUpdate=!1}y=this.type,M.needsUpdate=!1,t.setRenderTarget(N,I,F)};function S(P,L){const D=e.update(E);g.defines.VSM_SAMPLES!==P.blurSamples&&(g.defines.VSM_SAMPLES=P.blurSamples,v.defines.VSM_SAMPLES=P.blurSamples,g.needsUpdate=!0,v.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new ha(i.x,i.y)),g.uniforms.shadow_pass.value=P.map.texture,g.uniforms.resolution.value=P.mapSize,g.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(L,null,D,g,E,null),v.uniforms.shadow_pass.value=P.mapPass.texture,v.uniforms.resolution.value=P.mapSize,v.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(L,null,D,v,E,null)}function A(P,L,D,N){let I=null;const F=D.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(F!==void 0)I=F;else if(I=D.isPointLight===!0?l:a,t.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const W=I.uuid,ce=L.uuid;let re=u[W];re===void 0&&(re={},u[W]=re);let Q=re[ce];Q===void 0&&(Q=I.clone(),re[ce]=Q),I=Q}if(I.visible=L.visible,I.wireframe=L.wireframe,N===qo?I.side=L.shadowSide!==null?L.shadowSide:L.side:I.side=L.shadowSide!==null?L.shadowSide:p[L.side],I.alphaMap=L.alphaMap,I.alphaTest=L.alphaTest,I.map=L.map,I.clipShadows=L.clipShadows,I.clippingPlanes=L.clippingPlanes,I.clipIntersection=L.clipIntersection,I.displacementMap=L.displacementMap,I.displacementScale=L.displacementScale,I.displacementBias=L.displacementBias,I.wireframeLinewidth=L.wireframeLinewidth,I.linewidth=L.linewidth,D.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const W=t.properties.get(I);W.light=D}return I}function C(P,L,D,N,I){if(P.visible===!1)return;if(P.layers.test(L.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&I===qo)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,P.matrixWorld);const ce=e.update(P),re=P.material;if(Array.isArray(re)){const Q=ce.groups;for(let ee=0,de=Q.length;ee<de;ee++){const le=Q[ee],V=re[le.materialIndex];if(V&&V.visible){const te=A(P,V,N,I);t.renderBufferDirect(D,null,ce,te,P,le)}}}else if(re.visible){const Q=A(P,re,N,I);t.renderBufferDirect(D,null,ce,Q,P,null)}}const W=P.children;for(let ce=0,re=W.length;ce<re;ce++)C(W[ce],L,D,N,I)}}function w$(t,e,n){const r=n.isWebGL2;function i(){let $=!1;const Ve=new Rn;let ve=null;const Je=new Rn(0,0,0,0);return{setMask:function(it){ve!==it&&!$&&(t.colorMask(it,it,it,it),ve=it)},setLocked:function(it){$=it},setClear:function(it,rn,un,gn,zr){zr===!0&&(it*=gn,rn*=gn,un*=gn),Ve.set(it,rn,un,gn),Je.equals(Ve)===!1&&(t.clearColor(it,rn,un,gn),Je.copy(Ve))},reset:function(){$=!1,ve=null,Je.set(-1,0,0,0)}}}function s(){let $=!1,Ve=null,ve=null,Je=null;return{setTest:function(it){it?Ge(t.DEPTH_TEST):ut(t.DEPTH_TEST)},setMask:function(it){Ve!==it&&!$&&(t.depthMask(it),Ve=it)},setFunc:function(it){if(ve!==it){switch(it){case oU:t.depthFunc(t.NEVER);break;case aU:t.depthFunc(t.ALWAYS);break;case lU:t.depthFunc(t.LESS);break;case hA:t.depthFunc(t.LEQUAL);break;case uU:t.depthFunc(t.EQUAL);break;case cU:t.depthFunc(t.GEQUAL);break;case fU:t.depthFunc(t.GREATER);break;case hU:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ve=it}},setLocked:function(it){$=it},setClear:function(it){Je!==it&&(t.clearDepth(it),Je=it)},reset:function(){$=!1,Ve=null,ve=null,Je=null}}}function o(){let $=!1,Ve=null,ve=null,Je=null,it=null,rn=null,un=null,gn=null,zr=null;return{setTest:function(_n){$||(_n?Ge(t.STENCIL_TEST):ut(t.STENCIL_TEST))},setMask:function(_n){Ve!==_n&&!$&&(t.stencilMask(_n),Ve=_n)},setFunc:function(_n,Sr,Kn){(ve!==_n||Je!==Sr||it!==Kn)&&(t.stencilFunc(_n,Sr,Kn),ve=_n,Je=Sr,it=Kn)},setOp:function(_n,Sr,Kn){(rn!==_n||un!==Sr||gn!==Kn)&&(t.stencilOp(_n,Sr,Kn),rn=_n,un=Sr,gn=Kn)},setLocked:function(_n){$=_n},setClear:function(_n){zr!==_n&&(t.clearStencil(_n),zr=_n)},reset:function(){$=!1,Ve=null,ve=null,Je=null,it=null,rn=null,un=null,gn=null,zr=null}}}const a=new i,l=new s,u=new o,h=new WeakMap,p=new WeakMap;let g={},v={},x=new WeakMap,E=[],M=null,y=!1,S=null,A=null,C=null,P=null,L=null,D=null,N=null,I=!1,F=null,W=null,ce=null,re=null,Q=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let de=!1,le=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(le=parseFloat(/^WebGL (\d)/.exec(V)[1]),de=le>=1):V.indexOf("OpenGL ES")!==-1&&(le=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),de=le>=2);let te=null,ie={};const he=t.getParameter(t.SCISSOR_BOX),ne=t.getParameter(t.VIEWPORT),ye=new Rn().fromArray(he),Me=new Rn().fromArray(ne);function Te($,Ve,ve,Je){const it=new Uint8Array(4),rn=t.createTexture();t.bindTexture($,rn),t.texParameteri($,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri($,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let un=0;un<ve;un++)r&&($===t.TEXTURE_3D||$===t.TEXTURE_2D_ARRAY)?t.texImage3D(Ve,0,t.RGBA,1,1,Je,0,t.RGBA,t.UNSIGNED_BYTE,it):t.texImage2D(Ve+un,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,it);return rn}const Le={};Le[t.TEXTURE_2D]=Te(t.TEXTURE_2D,t.TEXTURE_2D,1),Le[t.TEXTURE_CUBE_MAP]=Te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Le[t.TEXTURE_2D_ARRAY]=Te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Le[t.TEXTURE_3D]=Te(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),Ge(t.DEPTH_TEST),l.setFunc(hA),Be(!1),Ke(XE),Ge(t.CULL_FACE),Se(Nl);function Ge($){g[$]!==!0&&(t.enable($),g[$]=!0)}function ut($){g[$]!==!1&&(t.disable($),g[$]=!1)}function et($,Ve){return v[$]!==Ve?(t.bindFramebuffer($,Ve),v[$]=Ve,r&&($===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=Ve),$===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=Ve)),!0):!1}function mt($,Ve){let ve=E,Je=!1;if($)if(ve=x.get(Ve),ve===void 0&&(ve=[],x.set(Ve,ve)),$.isWebGLMultipleRenderTargets){const it=$.texture;if(ve.length!==it.length||ve[0]!==t.COLOR_ATTACHMENT0){for(let rn=0,un=it.length;rn<un;rn++)ve[rn]=t.COLOR_ATTACHMENT0+rn;ve.length=it.length,Je=!0}}else ve[0]!==t.COLOR_ATTACHMENT0&&(ve[0]=t.COLOR_ATTACHMENT0,Je=!0);else ve[0]!==t.BACK&&(ve[0]=t.BACK,Je=!0);Je&&(n.isWebGL2?t.drawBuffers(ve):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ve))}function He($){return M!==$?(t.useProgram($),M=$,!0):!1}const K={[Df]:t.FUNC_ADD,[YN]:t.FUNC_SUBTRACT,[QN]:t.FUNC_REVERSE_SUBTRACT};if(r)K[QE]=t.MIN,K[qE]=t.MAX;else{const $=e.get("EXT_blend_minmax");$!==null&&(K[QE]=$.MIN_EXT,K[qE]=$.MAX_EXT)}const De={[qN]:t.ZERO,[ZN]:t.ONE,[$N]:t.SRC_COLOR,[Rb]:t.SRC_ALPHA,[sU]:t.SRC_ALPHA_SATURATE,[rU]:t.DST_COLOR,[tU]:t.DST_ALPHA,[eU]:t.ONE_MINUS_SRC_COLOR,[Pb]:t.ONE_MINUS_SRC_ALPHA,[iU]:t.ONE_MINUS_DST_COLOR,[nU]:t.ONE_MINUS_DST_ALPHA};function Se($,Ve,ve,Je,it,rn,un,gn){if($===Nl){y===!0&&(ut(t.BLEND),y=!1);return}if(y===!1&&(Ge(t.BLEND),y=!0),$!==KN){if($!==S||gn!==I){if((A!==Df||L!==Df)&&(t.blendEquation(t.FUNC_ADD),A=Df,L=Df),gn)switch($){case Yf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case JE:t.blendFunc(t.ONE,t.ONE);break;case KE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case YE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}else switch($){case Yf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case JE:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case KE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case YE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",$);break}C=null,P=null,D=null,N=null,S=$,I=gn}return}it=it||Ve,rn=rn||ve,un=un||Je,(Ve!==A||it!==L)&&(t.blendEquationSeparate(K[Ve],K[it]),A=Ve,L=it),(ve!==C||Je!==P||rn!==D||un!==N)&&(t.blendFuncSeparate(De[ve],De[Je],De[rn],De[un]),C=ve,P=Je,D=rn,N=un),S=$,I=!1}function Ne($,Ve){$.side===Eo?ut(t.CULL_FACE):Ge(t.CULL_FACE);let ve=$.side===qi;Ve&&(ve=!ve),Be(ve),$.blending===Yf&&$.transparent===!1?Se(Nl):Se($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.premultipliedAlpha),l.setFunc($.depthFunc),l.setTest($.depthTest),l.setMask($.depthWrite),a.setMask($.colorWrite);const Je=$.stencilWrite;u.setTest(Je),Je&&(u.setMask($.stencilWriteMask),u.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),u.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),rt($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),$.alphaToCoverage===!0?Ge(t.SAMPLE_ALPHA_TO_COVERAGE):ut(t.SAMPLE_ALPHA_TO_COVERAGE)}function Be($){F!==$&&($?t.frontFace(t.CW):t.frontFace(t.CCW),F=$)}function Ke($){$!==jN?(Ge(t.CULL_FACE),$!==W&&($===XE?t.cullFace(t.BACK):$===XN?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ut(t.CULL_FACE),W=$}function qe($){$!==ce&&(de&&t.lineWidth($),ce=$)}function rt($,Ve,ve){$?(Ge(t.POLYGON_OFFSET_FILL),(re!==Ve||Q!==ve)&&(t.polygonOffset(Ve,ve),re=Ve,Q=ve)):ut(t.POLYGON_OFFSET_FILL)}function gt($){$?Ge(t.SCISSOR_TEST):ut(t.SCISSOR_TEST)}function Et($){$===void 0&&($=t.TEXTURE0+ee-1),te!==$&&(t.activeTexture($),te=$)}function fn($,Ve,ve){ve===void 0&&(te===null?ve=t.TEXTURE0+ee-1:ve=te);let Je=ie[ve];Je===void 0&&(Je={type:void 0,texture:void 0},ie[ve]=Je),(Je.type!==$||Je.texture!==Ve)&&(te!==ve&&(t.activeTexture(ve),te=ve),t.bindTexture($,Ve||Le[$]),Je.type=$,Je.texture=Ve)}function J(){const $=ie[te];$!==void 0&&$.type!==void 0&&(t.bindTexture($.type,null),$.type=void 0,$.texture=void 0)}function H(){try{t.compressedTexImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ae(){try{t.compressedTexImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function We(){try{t.texSubImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ue(){try{t.texSubImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ye(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function dt(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Qe(){try{t.texStorage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Ce(){try{t.texStorage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function St(){try{t.texImage2D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function At(){try{t.texImage3D.apply(t,arguments)}catch($){console.error("THREE.WebGLState:",$)}}function Mt($){ye.equals($)===!1&&(t.scissor($.x,$.y,$.z,$.w),ye.copy($))}function lt($){Me.equals($)===!1&&(t.viewport($.x,$.y,$.z,$.w),Me.copy($))}function Z($,Ve){let ve=p.get(Ve);ve===void 0&&(ve=new WeakMap,p.set(Ve,ve));let Je=ve.get($);Je===void 0&&(Je=t.getUniformBlockIndex(Ve,$.name),ve.set($,Je))}function Pe($,Ve){const Je=p.get(Ve).get($);h.get(Ve)!==Je&&(t.uniformBlockBinding(Ve,Je,$.__bindingPointIndex),h.set(Ve,Je))}function tt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),g={},te=null,ie={},v={},x=new WeakMap,E=[],M=null,y=!1,S=null,A=null,C=null,P=null,L=null,D=null,N=null,I=!1,F=null,W=null,ce=null,re=null,Q=null,ye.set(0,0,t.canvas.width,t.canvas.height),Me.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:Ge,disable:ut,bindFramebuffer:et,drawBuffers:mt,useProgram:He,setBlending:Se,setMaterial:Ne,setFlipSided:Be,setCullFace:Ke,setLineWidth:qe,setPolygonOffset:rt,setScissorTest:gt,activeTexture:Et,bindTexture:fn,unbindTexture:J,compressedTexImage2D:H,compressedTexImage3D:Ae,texImage2D:St,texImage3D:At,updateUBOMapping:Z,uniformBlockBinding:Pe,texStorage2D:Qe,texStorage3D:Ce,texSubImage2D:We,texSubImage3D:Ue,compressedTexSubImage2D:Ye,compressedTexSubImage3D:dt,scissor:Mt,viewport:lt,reset:tt}}function E$(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,u=i.maxCubemapSize,h=i.maxTextureSize,p=i.maxSamples,g=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,v=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),x=new WeakMap;let E;const M=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function S(J,H){return y?new OffscreenCanvas(J,H):W0("canvas")}function A(J,H,Ae,We){let Ue=1;if((J.width>We||J.height>We)&&(Ue=We/Math.max(J.width,J.height)),Ue<1||H===!0)if(typeof HTMLImageElement<"u"&&J instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&J instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&J instanceof ImageBitmap){const Ye=H?mA:Math.floor,dt=Ye(Ue*J.width),Qe=Ye(Ue*J.height);E===void 0&&(E=S(dt,Qe));const Ce=Ae?S(dt,Qe):E;return Ce.width=dt,Ce.height=Qe,Ce.getContext("2d").drawImage(J,0,0,dt,Qe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+J.width+"x"+J.height+") to ("+dt+"x"+Qe+")."),Ce}else return"data"in J&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+J.width+"x"+J.height+")."),J;return J}function C(J){return ST(J.width)&&ST(J.height)}function P(J){return a?!1:J.wrapS!==yi||J.wrapT!==yi||J.minFilter!==_r&&J.minFilter!==or}function L(J,H){return J.generateMipmaps&&H&&J.minFilter!==_r&&J.minFilter!==or}function D(J){t.generateMipmap(J)}function N(J,H,Ae,We,Ue=!1){if(a===!1)return H;if(J!==null){if(t[J]!==void 0)return t[J];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+J+"'")}let Ye=H;return H===t.RED&&(Ae===t.FLOAT&&(Ye=t.R32F),Ae===t.HALF_FLOAT&&(Ye=t.R16F),Ae===t.UNSIGNED_BYTE&&(Ye=t.R8)),H===t.RG&&(Ae===t.FLOAT&&(Ye=t.RG32F),Ae===t.HALF_FLOAT&&(Ye=t.RG16F),Ae===t.UNSIGNED_BYTE&&(Ye=t.RG8)),H===t.RGBA&&(Ae===t.FLOAT&&(Ye=t.RGBA32F),Ae===t.HALF_FLOAT&&(Ye=t.RGBA16F),Ae===t.UNSIGNED_BYTE&&(Ye=We===$t&&Ue===!1?t.SRGB8_ALPHA8:t.RGBA8),Ae===t.UNSIGNED_SHORT_4_4_4_4&&(Ye=t.RGBA4),Ae===t.UNSIGNED_SHORT_5_5_5_1&&(Ye=t.RGB5_A1)),(Ye===t.R16F||Ye===t.R32F||Ye===t.RG16F||Ye===t.RG32F||Ye===t.RGBA16F||Ye===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ye}function I(J,H,Ae){return L(J,Ae)===!0||J.isFramebufferTexture&&J.minFilter!==_r&&J.minFilter!==or?Math.log2(Math.max(H.width,H.height))+1:J.mipmaps!==void 0&&J.mipmaps.length>0?J.mipmaps.length:J.isCompressedTexture&&Array.isArray(J.image)?H.mipmaps.length:1}function F(J){return J===_r||J===H0||J===mp?t.NEAREST:t.LINEAR}function W(J){const H=J.target;H.removeEventListener("dispose",W),re(H),H.isVideoTexture&&x.delete(H)}function ce(J){const H=J.target;H.removeEventListener("dispose",ce),ee(H)}function re(J){const H=r.get(J);if(H.__webglInit===void 0)return;const Ae=J.source,We=M.get(Ae);if(We){const Ue=We[H.__cacheKey];Ue.usedTimes--,Ue.usedTimes===0&&Q(J),Object.keys(We).length===0&&M.delete(Ae)}r.remove(J)}function Q(J){const H=r.get(J);t.deleteTexture(H.__webglTexture);const Ae=J.source,We=M.get(Ae);delete We[H.__cacheKey],o.memory.textures--}function ee(J){const H=J.texture,Ae=r.get(J),We=r.get(H);if(We.__webglTexture!==void 0&&(t.deleteTexture(We.__webglTexture),o.memory.textures--),J.depthTexture&&J.depthTexture.dispose(),J.isWebGLCubeRenderTarget)for(let Ue=0;Ue<6;Ue++)t.deleteFramebuffer(Ae.__webglFramebuffer[Ue]),Ae.__webglDepthbuffer&&t.deleteRenderbuffer(Ae.__webglDepthbuffer[Ue]);else{if(t.deleteFramebuffer(Ae.__webglFramebuffer),Ae.__webglDepthbuffer&&t.deleteRenderbuffer(Ae.__webglDepthbuffer),Ae.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Ae.__webglMultisampledFramebuffer),Ae.__webglColorRenderbuffer)for(let Ue=0;Ue<Ae.__webglColorRenderbuffer.length;Ue++)Ae.__webglColorRenderbuffer[Ue]&&t.deleteRenderbuffer(Ae.__webglColorRenderbuffer[Ue]);Ae.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Ae.__webglDepthRenderbuffer)}if(J.isWebGLMultipleRenderTargets)for(let Ue=0,Ye=H.length;Ue<Ye;Ue++){const dt=r.get(H[Ue]);dt.__webglTexture&&(t.deleteTexture(dt.__webglTexture),o.memory.textures--),r.remove(H[Ue])}r.remove(H),r.remove(J)}let de=0;function le(){de=0}function V(){const J=de;return J>=l&&console.warn("THREE.WebGLTextures: Trying to use "+J+" texture units while this GPU supports only "+l),de+=1,J}function te(J){const H=[];return H.push(J.wrapS),H.push(J.wrapT),H.push(J.wrapR||0),H.push(J.magFilter),H.push(J.minFilter),H.push(J.anisotropy),H.push(J.internalFormat),H.push(J.format),H.push(J.type),H.push(J.generateMipmaps),H.push(J.premultiplyAlpha),H.push(J.flipY),H.push(J.unpackAlignment),H.push(J.colorSpace),H.join()}function ie(J,H){const Ae=r.get(J);if(J.isVideoTexture&&Et(J),J.isRenderTargetTexture===!1&&J.version>0&&Ae.__version!==J.version){const We=J.image;if(We===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(We.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{et(Ae,J,H);return}}n.bindTexture(t.TEXTURE_2D,Ae.__webglTexture,t.TEXTURE0+H)}function he(J,H){const Ae=r.get(J);if(J.version>0&&Ae.__version!==J.version){et(Ae,J,H);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Ae.__webglTexture,t.TEXTURE0+H)}function ne(J,H){const Ae=r.get(J);if(J.version>0&&Ae.__version!==J.version){et(Ae,J,H);return}n.bindTexture(t.TEXTURE_3D,Ae.__webglTexture,t.TEXTURE0+H)}function ye(J,H){const Ae=r.get(J);if(J.version>0&&Ae.__version!==J.version){mt(Ae,J,H);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Ae.__webglTexture,t.TEXTURE0+H)}const Me={[Ac]:t.REPEAT,[yi]:t.CLAMP_TO_EDGE,[Ip]:t.MIRRORED_REPEAT},Te={[_r]:t.NEAREST,[H0]:t.NEAREST_MIPMAP_NEAREST,[mp]:t.NEAREST_MIPMAP_LINEAR,[or]:t.LINEAR,[M1]:t.LINEAR_MIPMAP_NEAREST,[qa]:t.LINEAR_MIPMAP_LINEAR},Le={[OU]:t.NEVER,[VU]:t.ALWAYS,[NU]:t.LESS,[kU]:t.LEQUAL,[UU]:t.EQUAL,[GU]:t.GEQUAL,[HU]:t.GREATER,[zU]:t.NOTEQUAL};function Ge(J,H,Ae){if(Ae?(t.texParameteri(J,t.TEXTURE_WRAP_S,Me[H.wrapS]),t.texParameteri(J,t.TEXTURE_WRAP_T,Me[H.wrapT]),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,Me[H.wrapR]),t.texParameteri(J,t.TEXTURE_MAG_FILTER,Te[H.magFilter]),t.texParameteri(J,t.TEXTURE_MIN_FILTER,Te[H.minFilter])):(t.texParameteri(J,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(J,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)&&t.texParameteri(J,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(H.wrapS!==yi||H.wrapT!==yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(J,t.TEXTURE_MAG_FILTER,F(H.magFilter)),t.texParameteri(J,t.TEXTURE_MIN_FILTER,F(H.minFilter)),H.minFilter!==_r&&H.minFilter!==or&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),H.compareFunction&&(t.texParameteri(J,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(J,t.TEXTURE_COMPARE_FUNC,Le[H.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const We=e.get("EXT_texture_filter_anisotropic");if(H.magFilter===_r||H.minFilter!==mp&&H.minFilter!==qa||H.type===Ha&&e.has("OES_texture_float_linear")===!1||a===!1&&H.type===Bp&&e.has("OES_texture_half_float_linear")===!1)return;(H.anisotropy>1||r.get(H).__currentAnisotropy)&&(t.texParameterf(J,We.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(H.anisotropy,i.getMaxAnisotropy())),r.get(H).__currentAnisotropy=H.anisotropy)}}function ut(J,H){let Ae=!1;J.__webglInit===void 0&&(J.__webglInit=!0,H.addEventListener("dispose",W));const We=H.source;let Ue=M.get(We);Ue===void 0&&(Ue={},M.set(We,Ue));const Ye=te(H);if(Ye!==J.__cacheKey){Ue[Ye]===void 0&&(Ue[Ye]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Ae=!0),Ue[Ye].usedTimes++;const dt=Ue[J.__cacheKey];dt!==void 0&&(Ue[J.__cacheKey].usedTimes--,dt.usedTimes===0&&Q(H)),J.__cacheKey=Ye,J.__webglTexture=Ue[Ye].texture}return Ae}function et(J,H,Ae){let We=t.TEXTURE_2D;(H.isDataArrayTexture||H.isCompressedArrayTexture)&&(We=t.TEXTURE_2D_ARRAY),H.isData3DTexture&&(We=t.TEXTURE_3D);const Ue=ut(J,H),Ye=H.source;n.bindTexture(We,J.__webglTexture,t.TEXTURE0+Ae);const dt=r.get(Ye);if(Ye.version!==dt.__version||Ue===!0){n.activeTexture(t.TEXTURE0+Ae),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Qe=P(H)&&C(H.image)===!1;let Ce=A(H.image,Qe,!1,h);Ce=fn(H,Ce);const St=C(Ce)||a,At=s.convert(H.format,H.colorSpace);let Mt=s.convert(H.type),lt=N(H.internalFormat,At,Mt,H.colorSpace);Ge(We,H,St);let Z;const Pe=H.mipmaps,tt=a&&H.isVideoTexture!==!0,$=dt.__version===void 0||Ue===!0,Ve=I(H,Ce,St);if(H.isDepthTexture)lt=t.DEPTH_COMPONENT,a?H.type===Ha?lt=t.DEPTH_COMPONENT32F:H.type===Ll?lt=t.DEPTH_COMPONENT24:H.type===cc?lt=t.DEPTH24_STENCIL8:lt=t.DEPTH_COMPONENT16:H.type===Ha&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),H.format===fc&&lt===t.DEPTH_COMPONENT&&H.type!==w1&&H.type!==Ll&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),H.type=Ll,Mt=s.convert(H.type)),H.format===lh&&lt===t.DEPTH_COMPONENT&&(lt=t.DEPTH_STENCIL,H.type!==cc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),H.type=cc,Mt=s.convert(H.type))),$&&(tt?n.texStorage2D(t.TEXTURE_2D,1,lt,Ce.width,Ce.height):n.texImage2D(t.TEXTURE_2D,0,lt,Ce.width,Ce.height,0,At,Mt,null));else if(H.isDataTexture)if(Pe.length>0&&St){tt&&$&&n.texStorage2D(t.TEXTURE_2D,Ve,lt,Pe[0].width,Pe[0].height);for(let ve=0,Je=Pe.length;ve<Je;ve++)Z=Pe[ve],tt?n.texSubImage2D(t.TEXTURE_2D,ve,0,0,Z.width,Z.height,At,Mt,Z.data):n.texImage2D(t.TEXTURE_2D,ve,lt,Z.width,Z.height,0,At,Mt,Z.data);H.generateMipmaps=!1}else tt?($&&n.texStorage2D(t.TEXTURE_2D,Ve,lt,Ce.width,Ce.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ce.width,Ce.height,At,Mt,Ce.data)):n.texImage2D(t.TEXTURE_2D,0,lt,Ce.width,Ce.height,0,At,Mt,Ce.data);else if(H.isCompressedTexture)if(H.isCompressedArrayTexture){tt&&$&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,lt,Pe[0].width,Pe[0].height,Ce.depth);for(let ve=0,Je=Pe.length;ve<Je;ve++)Z=Pe[ve],H.format!==ms?At!==null?tt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ve,0,0,0,Z.width,Z.height,Ce.depth,At,Z.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ve,lt,Z.width,Z.height,Ce.depth,0,Z.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ve,0,0,0,Z.width,Z.height,Ce.depth,At,Mt,Z.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ve,lt,Z.width,Z.height,Ce.depth,0,At,Mt,Z.data)}else{tt&&$&&n.texStorage2D(t.TEXTURE_2D,Ve,lt,Pe[0].width,Pe[0].height);for(let ve=0,Je=Pe.length;ve<Je;ve++)Z=Pe[ve],H.format!==ms?At!==null?tt?n.compressedTexSubImage2D(t.TEXTURE_2D,ve,0,0,Z.width,Z.height,At,Z.data):n.compressedTexImage2D(t.TEXTURE_2D,ve,lt,Z.width,Z.height,0,Z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):tt?n.texSubImage2D(t.TEXTURE_2D,ve,0,0,Z.width,Z.height,At,Mt,Z.data):n.texImage2D(t.TEXTURE_2D,ve,lt,Z.width,Z.height,0,At,Mt,Z.data)}else if(H.isDataArrayTexture)tt?($&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,lt,Ce.width,Ce.height,Ce.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ce.width,Ce.height,Ce.depth,At,Mt,Ce.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,lt,Ce.width,Ce.height,Ce.depth,0,At,Mt,Ce.data);else if(H.isData3DTexture)tt?($&&n.texStorage3D(t.TEXTURE_3D,Ve,lt,Ce.width,Ce.height,Ce.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ce.width,Ce.height,Ce.depth,At,Mt,Ce.data)):n.texImage3D(t.TEXTURE_3D,0,lt,Ce.width,Ce.height,Ce.depth,0,At,Mt,Ce.data);else if(H.isFramebufferTexture){if($)if(tt)n.texStorage2D(t.TEXTURE_2D,Ve,lt,Ce.width,Ce.height);else{let ve=Ce.width,Je=Ce.height;for(let it=0;it<Ve;it++)n.texImage2D(t.TEXTURE_2D,it,lt,ve,Je,0,At,Mt,null),ve>>=1,Je>>=1}}else if(Pe.length>0&&St){tt&&$&&n.texStorage2D(t.TEXTURE_2D,Ve,lt,Pe[0].width,Pe[0].height);for(let ve=0,Je=Pe.length;ve<Je;ve++)Z=Pe[ve],tt?n.texSubImage2D(t.TEXTURE_2D,ve,0,0,At,Mt,Z):n.texImage2D(t.TEXTURE_2D,ve,lt,At,Mt,Z);H.generateMipmaps=!1}else tt?($&&n.texStorage2D(t.TEXTURE_2D,Ve,lt,Ce.width,Ce.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,At,Mt,Ce)):n.texImage2D(t.TEXTURE_2D,0,lt,At,Mt,Ce);L(H,St)&&D(We),dt.__version=Ye.version,H.onUpdate&&H.onUpdate(H)}J.__version=H.version}function mt(J,H,Ae){if(H.image.length!==6)return;const We=ut(J,H),Ue=H.source;n.bindTexture(t.TEXTURE_CUBE_MAP,J.__webglTexture,t.TEXTURE0+Ae);const Ye=r.get(Ue);if(Ue.version!==Ye.__version||We===!0){n.activeTexture(t.TEXTURE0+Ae),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,H.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,H.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,H.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const dt=H.isCompressedTexture||H.image[0].isCompressedTexture,Qe=H.image[0]&&H.image[0].isDataTexture,Ce=[];for(let ve=0;ve<6;ve++)!dt&&!Qe?Ce[ve]=A(H.image[ve],!1,!0,u):Ce[ve]=Qe?H.image[ve].image:H.image[ve],Ce[ve]=fn(H,Ce[ve]);const St=Ce[0],At=C(St)||a,Mt=s.convert(H.format,H.colorSpace),lt=s.convert(H.type),Z=N(H.internalFormat,Mt,lt,H.colorSpace),Pe=a&&H.isVideoTexture!==!0,tt=Ye.__version===void 0||We===!0;let $=I(H,St,At);Ge(t.TEXTURE_CUBE_MAP,H,At);let Ve;if(dt){Pe&&tt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,$,Z,St.width,St.height);for(let ve=0;ve<6;ve++){Ve=Ce[ve].mipmaps;for(let Je=0;Je<Ve.length;Je++){const it=Ve[Je];H.format!==ms?Mt!==null?Pe?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je,0,0,it.width,it.height,Mt,it.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je,Z,it.width,it.height,0,it.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je,0,0,it.width,it.height,Mt,lt,it.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je,Z,it.width,it.height,0,Mt,lt,it.data)}}}else{Ve=H.mipmaps,Pe&&tt&&(Ve.length>0&&$++,n.texStorage2D(t.TEXTURE_CUBE_MAP,$,Z,Ce[0].width,Ce[0].height));for(let ve=0;ve<6;ve++)if(Qe){Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,Ce[ve].width,Ce[ve].height,Mt,lt,Ce[ve].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Z,Ce[ve].width,Ce[ve].height,0,Mt,lt,Ce[ve].data);for(let Je=0;Je<Ve.length;Je++){const rn=Ve[Je].image[ve].image;Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je+1,0,0,rn.width,rn.height,Mt,lt,rn.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je+1,Z,rn.width,rn.height,0,Mt,lt,rn.data)}}else{Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,0,0,Mt,lt,Ce[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,0,Z,Mt,lt,Ce[ve]);for(let Je=0;Je<Ve.length;Je++){const it=Ve[Je];Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je+1,0,0,Mt,lt,it.image[ve]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ve,Je+1,Z,Mt,lt,it.image[ve])}}}L(H,At)&&D(t.TEXTURE_CUBE_MAP),Ye.__version=Ue.version,H.onUpdate&&H.onUpdate(H)}J.__version=H.version}function He(J,H,Ae,We,Ue){const Ye=s.convert(Ae.format,Ae.colorSpace),dt=s.convert(Ae.type),Qe=N(Ae.internalFormat,Ye,dt,Ae.colorSpace);r.get(H).__hasExternalTextures||(Ue===t.TEXTURE_3D||Ue===t.TEXTURE_2D_ARRAY?n.texImage3D(Ue,0,Qe,H.width,H.height,H.depth,0,Ye,dt,null):n.texImage2D(Ue,0,Qe,H.width,H.height,0,Ye,dt,null)),n.bindFramebuffer(t.FRAMEBUFFER,J),gt(H)?g.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,We,Ue,r.get(Ae).__webglTexture,0,rt(H)):(Ue===t.TEXTURE_2D||Ue>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ue<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,We,Ue,r.get(Ae).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function K(J,H,Ae){if(t.bindRenderbuffer(t.RENDERBUFFER,J),H.depthBuffer&&!H.stencilBuffer){let We=t.DEPTH_COMPONENT16;if(Ae||gt(H)){const Ue=H.depthTexture;Ue&&Ue.isDepthTexture&&(Ue.type===Ha?We=t.DEPTH_COMPONENT32F:Ue.type===Ll&&(We=t.DEPTH_COMPONENT24));const Ye=rt(H);gt(H)?g.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ye,We,H.width,H.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ye,We,H.width,H.height)}else t.renderbufferStorage(t.RENDERBUFFER,We,H.width,H.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,J)}else if(H.depthBuffer&&H.stencilBuffer){const We=rt(H);Ae&&gt(H)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,We,t.DEPTH24_STENCIL8,H.width,H.height):gt(H)?g.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,We,t.DEPTH24_STENCIL8,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,H.width,H.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,J)}else{const We=H.isWebGLMultipleRenderTargets===!0?H.texture:[H.texture];for(let Ue=0;Ue<We.length;Ue++){const Ye=We[Ue],dt=s.convert(Ye.format,Ye.colorSpace),Qe=s.convert(Ye.type),Ce=N(Ye.internalFormat,dt,Qe,Ye.colorSpace),St=rt(H);Ae&&gt(H)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,St,Ce,H.width,H.height):gt(H)?g.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,St,Ce,H.width,H.height):t.renderbufferStorage(t.RENDERBUFFER,Ce,H.width,H.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function De(J,H){if(H&&H.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,J),!(H.depthTexture&&H.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(H.depthTexture).__webglTexture||H.depthTexture.image.width!==H.width||H.depthTexture.image.height!==H.height)&&(H.depthTexture.image.width=H.width,H.depthTexture.image.height=H.height,H.depthTexture.needsUpdate=!0),ie(H.depthTexture,0);const We=r.get(H.depthTexture).__webglTexture,Ue=rt(H);if(H.depthTexture.format===fc)gt(H)?g.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,We,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,We,0);else if(H.depthTexture.format===lh)gt(H)?g.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,We,0,Ue):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,We,0);else throw new Error("Unknown depthTexture format")}function Se(J){const H=r.get(J),Ae=J.isWebGLCubeRenderTarget===!0;if(J.depthTexture&&!H.__autoAllocateDepthBuffer){if(Ae)throw new Error("target.depthTexture not supported in Cube render targets");De(H.__webglFramebuffer,J)}else if(Ae){H.__webglDepthbuffer=[];for(let We=0;We<6;We++)n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer[We]),H.__webglDepthbuffer[We]=t.createRenderbuffer(),K(H.__webglDepthbuffer[We],J,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,H.__webglFramebuffer),H.__webglDepthbuffer=t.createRenderbuffer(),K(H.__webglDepthbuffer,J,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ne(J,H,Ae){const We=r.get(J);H!==void 0&&He(We.__webglFramebuffer,J,J.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),Ae!==void 0&&Se(J)}function Be(J){const H=J.texture,Ae=r.get(J),We=r.get(H);J.addEventListener("dispose",ce),J.isWebGLMultipleRenderTargets!==!0&&(We.__webglTexture===void 0&&(We.__webglTexture=t.createTexture()),We.__version=H.version,o.memory.textures++);const Ue=J.isWebGLCubeRenderTarget===!0,Ye=J.isWebGLMultipleRenderTargets===!0,dt=C(J)||a;if(Ue){Ae.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)Ae.__webglFramebuffer[Qe]=t.createFramebuffer()}else{if(Ae.__webglFramebuffer=t.createFramebuffer(),Ye)if(i.drawBuffers){const Qe=J.texture;for(let Ce=0,St=Qe.length;Ce<St;Ce++){const At=r.get(Qe[Ce]);At.__webglTexture===void 0&&(At.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&J.samples>0&&gt(J)===!1){const Qe=Ye?H:[H];Ae.__webglMultisampledFramebuffer=t.createFramebuffer(),Ae.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);for(let Ce=0;Ce<Qe.length;Ce++){const St=Qe[Ce];Ae.__webglColorRenderbuffer[Ce]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ae.__webglColorRenderbuffer[Ce]);const At=s.convert(St.format,St.colorSpace),Mt=s.convert(St.type),lt=N(St.internalFormat,At,Mt,St.colorSpace,J.isXRRenderTarget===!0),Z=rt(J);t.renderbufferStorageMultisample(t.RENDERBUFFER,Z,lt,J.width,J.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ce,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[Ce])}t.bindRenderbuffer(t.RENDERBUFFER,null),J.depthBuffer&&(Ae.__webglDepthRenderbuffer=t.createRenderbuffer(),K(Ae.__webglDepthRenderbuffer,J,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ue){n.bindTexture(t.TEXTURE_CUBE_MAP,We.__webglTexture),Ge(t.TEXTURE_CUBE_MAP,H,dt);for(let Qe=0;Qe<6;Qe++)He(Ae.__webglFramebuffer[Qe],J,H,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Qe);L(H,dt)&&D(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ye){const Qe=J.texture;for(let Ce=0,St=Qe.length;Ce<St;Ce++){const At=Qe[Ce],Mt=r.get(At);n.bindTexture(t.TEXTURE_2D,Mt.__webglTexture),Ge(t.TEXTURE_2D,At,dt),He(Ae.__webglFramebuffer,J,At,t.COLOR_ATTACHMENT0+Ce,t.TEXTURE_2D),L(At,dt)&&D(t.TEXTURE_2D)}n.unbindTexture()}else{let Qe=t.TEXTURE_2D;(J.isWebGL3DRenderTarget||J.isWebGLArrayRenderTarget)&&(a?Qe=J.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Qe,We.__webglTexture),Ge(Qe,H,dt),He(Ae.__webglFramebuffer,J,H,t.COLOR_ATTACHMENT0,Qe),L(H,dt)&&D(Qe),n.unbindTexture()}J.depthBuffer&&Se(J)}function Ke(J){const H=C(J)||a,Ae=J.isWebGLMultipleRenderTargets===!0?J.texture:[J.texture];for(let We=0,Ue=Ae.length;We<Ue;We++){const Ye=Ae[We];if(L(Ye,H)){const dt=J.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Qe=r.get(Ye).__webglTexture;n.bindTexture(dt,Qe),D(dt),n.unbindTexture()}}}function qe(J){if(a&&J.samples>0&&gt(J)===!1){const H=J.isWebGLMultipleRenderTargets?J.texture:[J.texture],Ae=J.width,We=J.height;let Ue=t.COLOR_BUFFER_BIT;const Ye=[],dt=J.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Qe=r.get(J),Ce=J.isWebGLMultipleRenderTargets===!0;if(Ce)for(let St=0;St<H.length;St++)n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Qe.__webglFramebuffer);for(let St=0;St<H.length;St++){Ye.push(t.COLOR_ATTACHMENT0+St),J.depthBuffer&&Ye.push(dt);const At=Qe.__ignoreDepthValues!==void 0?Qe.__ignoreDepthValues:!1;if(At===!1&&(J.depthBuffer&&(Ue|=t.DEPTH_BUFFER_BIT),J.stencilBuffer&&(Ue|=t.STENCIL_BUFFER_BIT)),Ce&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Qe.__webglColorRenderbuffer[St]),At===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[dt]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[dt])),Ce){const Mt=r.get(H[St]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Mt,0)}t.blitFramebuffer(0,0,Ae,We,0,0,Ae,We,Ue,t.NEAREST),v&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ye)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ce)for(let St=0;St<H.length;St++){n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.RENDERBUFFER,Qe.__webglColorRenderbuffer[St]);const At=r.get(H[St]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Qe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+St,t.TEXTURE_2D,At,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Qe.__webglMultisampledFramebuffer)}}function rt(J){return Math.min(p,J.samples)}function gt(J){const H=r.get(J);return a&&J.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&H.__useRenderToTexture!==!1}function Et(J){const H=o.render.frame;x.get(J)!==H&&(x.set(J,H),J.update())}function fn(J,H){const Ae=J.colorSpace,We=J.format,Ue=J.type;return J.isCompressedTexture===!0||J.format===pA||Ae!==fa&&Ae!==dc&&(Ae===$t?a===!1?e.has("EXT_sRGB")===!0&&We===ms?(J.format=pA,J.minFilter=or,J.generateMipmaps=!1):H=Vb.sRGBToLinear(H):(We!==ms||Ue!==ja)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ae)),H}this.allocateTextureUnit=V,this.resetTextureUnits=le,this.setTexture2D=ie,this.setTexture2DArray=he,this.setTexture3D=ne,this.setTextureCube=ye,this.rebindTextures=Ne,this.setupRenderTarget=Be,this.updateRenderTargetMipmap=Ke,this.updateMultisampleRenderTarget=qe,this.setupDepthRenderbuffer=Se,this.setupFrameBufferTexture=He,this.useMultisampledRTT=gt}function nk(t,e,n){const r=n.isWebGL2;function i(s,o=dc){let a;if(s===ja)return t.UNSIGNED_BYTE;if(s===Lb)return t.UNSIGNED_SHORT_4_4_4_4;if(s===Db)return t.UNSIGNED_SHORT_5_5_5_1;if(s===xU)return t.BYTE;if(s===_U)return t.SHORT;if(s===w1)return t.UNSIGNED_SHORT;if(s===Bb)return t.INT;if(s===Ll)return t.UNSIGNED_INT;if(s===Ha)return t.FLOAT;if(s===Bp)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===AU)return t.ALPHA;if(s===ms)return t.RGBA;if(s===SU)return t.LUMINANCE;if(s===MU)return t.LUMINANCE_ALPHA;if(s===fc)return t.DEPTH_COMPONENT;if(s===lh)return t.DEPTH_STENCIL;if(s===pA)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===wU)return t.RED;if(s===Fb)return t.RED_INTEGER;if(s===EU)return t.RG;if(s===Ob)return t.RG_INTEGER;if(s===Nb)return t.RGBA_INTEGER;if(s===__||s===A_||s===S_||s===M_)if(o===$t)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===__)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===A_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===S_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===M_)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===__)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===A_)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===S_)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===M_)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===ZE||s===$E||s===eT||s===tT)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===ZE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===$E)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===eT)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===tT)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===TU)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===nT||s===rT)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===nT)return o===$t?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===rT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===iT||s===sT||s===oT||s===aT||s===lT||s===uT||s===cT||s===fT||s===hT||s===dT||s===pT||s===mT||s===gT||s===vT)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===iT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===sT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===oT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===aT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===lT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===uT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===cT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===fT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===hT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===dT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===pT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===mT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===gT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===vT)return o===$t?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===w_)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===w_)return o===$t?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===CU||s===yT||s===xT||s===_T)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===w_)return a.COMPRESSED_RED_RGTC1_EXT;if(s===yT)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xT)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===_T)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===cc?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class rk extends Xn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Dl extends xn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const T$={type:"move"};class UM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Dl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Dl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Dl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const E of e.hand.values()){const M=n.getJointPose(E,r),y=this._getHandJoint(u,E);M!==null&&(y.matrix.fromArray(M.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=M.radius),y.visible=M!==null}const h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],g=h.position.distanceTo(p.position),v=.02,x=.005;u.inputState.pinching&&g>v+x?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&g<=v-x&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(T$)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Dl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class ik extends $n{constructor(e,n,r,i,s,o,a,l,u,h){if(h=h!==void 0?h:fc,h!==fc&&h!==lh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===fc&&(r=Ll),r===void 0&&h===lh&&(r=cc),super(null,i,s,o,a,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:_r,this.minFilter=l!==void 0?l:_r,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class C$ extends $a{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,p=null,g=null,v=null,x=null;const E=n.getContextAttributes();let M=null,y=null;const S=[],A=[];let C=null;const P=new Xn;P.layers.enable(1),P.viewport=new Rn;const L=new Xn;L.layers.enable(2),L.viewport=new Rn;const D=[P,L],N=new rk;N.layers.enable(1),N.layers.enable(2);let I=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getCamera=function(){},this.setUserCamera=function(ne){C=ne},this.getController=function(ne){let ye=S[ne];return ye===void 0&&(ye=new UM,S[ne]=ye),ye.getTargetRaySpace()},this.getControllerGrip=function(ne){let ye=S[ne];return ye===void 0&&(ye=new UM,S[ne]=ye),ye.getGripSpace()},this.getHand=function(ne){let ye=S[ne];return ye===void 0&&(ye=new UM,S[ne]=ye),ye.getHandSpace()};function W(ne){const ye=A.indexOf(ne.inputSource);if(ye===-1)return;const Me=S[ye];Me!==void 0&&(Me.update(ne.inputSource,ne.frame,u||o),Me.dispatchEvent({type:ne.type,data:ne.inputSource}))}function ce(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",ce),i.removeEventListener("inputsourceschange",re);for(let ne=0;ne<S.length;ne++){const ye=A[ne];ye!==null&&(A[ne]=null,S[ne].disconnect(ye))}I=null,F=null,e.setRenderTarget(M),v=null,g=null,p=null,i=null,y=null,he.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ne){s=ne,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ne){a=ne,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ne){u=ne},this.getBaseLayer=function(){return g!==null?g:v},this.getBinding=function(){return p},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(ne){if(i=ne,i!==null){if(M=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",ce),i.addEventListener("inputsourceschange",re),E.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ye={antialias:i.renderState.layers===void 0?E.antialias:!0,alpha:!0,depth:E.depth,stencil:E.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,n,ye),i.updateRenderState({baseLayer:v}),y=new ha(v.framebufferWidth,v.framebufferHeight,{format:ms,type:ja,colorSpace:e.outputColorSpace,stencilBuffer:E.stencil})}else{let ye=null,Me=null,Te=null;E.depth&&(Te=E.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ye=E.stencil?lh:fc,Me=E.stencil?cc:Ll);const Le={colorFormat:n.RGBA8,depthFormat:Te,scaleFactor:s};p=new XRWebGLBinding(i,n),g=p.createProjectionLayer(Le),i.updateRenderState({layers:[g]}),y=new ha(g.textureWidth,g.textureHeight,{format:ms,type:ja,depthTexture:new ik(g.textureWidth,g.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,ye),stencilBuffer:E.stencil,colorSpace:e.outputColorSpace,samples:E.antialias?4:0});const Ge=e.properties.get(y);Ge.__ignoreDepthValues=g.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),he.setContext(i),he.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function re(ne){for(let ye=0;ye<ne.removed.length;ye++){const Me=ne.removed[ye],Te=A.indexOf(Me);Te>=0&&(A[Te]=null,S[Te].disconnect(Me))}for(let ye=0;ye<ne.added.length;ye++){const Me=ne.added[ye];let Te=A.indexOf(Me);if(Te===-1){for(let Ge=0;Ge<S.length;Ge++)if(Ge>=A.length){A.push(Me),Te=Ge;break}else if(A[Ge]===null){A[Ge]=Me,Te=Ge;break}if(Te===-1)break}const Le=S[Te];Le&&Le.connect(Me)}}const Q=new G,ee=new G;function de(ne,ye,Me){Q.setFromMatrixPosition(ye.matrixWorld),ee.setFromMatrixPosition(Me.matrixWorld);const Te=Q.distanceTo(ee),Le=ye.projectionMatrix.elements,Ge=Me.projectionMatrix.elements,ut=Le[14]/(Le[10]-1),et=Le[14]/(Le[10]+1),mt=(Le[9]+1)/Le[5],He=(Le[9]-1)/Le[5],K=(Le[8]-1)/Le[0],De=(Ge[8]+1)/Ge[0],Se=ut*K,Ne=ut*De,Be=Te/(-K+De),Ke=Be*-K;ye.matrixWorld.decompose(ne.position,ne.quaternion,ne.scale),ne.translateX(Ke),ne.translateZ(Be),ne.matrixWorld.compose(ne.position,ne.quaternion,ne.scale),ne.matrixWorldInverse.copy(ne.matrixWorld).invert();const qe=ut+Be,rt=et+Be,gt=Se-Ke,Et=Ne+(Te-Ke),fn=mt*et/rt*qe,J=He*et/rt*qe;ne.projectionMatrix.makePerspective(gt,Et,fn,J,qe,rt),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert()}function le(ne,ye){ye===null?ne.matrixWorld.copy(ne.matrix):ne.matrixWorld.multiplyMatrices(ye.matrixWorld,ne.matrix),ne.matrixWorldInverse.copy(ne.matrixWorld).invert()}this.updateCameraXR=function(ne){if(i===null)return ne;C&&(ne=C),N.near=L.near=P.near=ne.near,N.far=L.far=P.far=ne.far,(I!==N.near||F!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),I=N.near,F=N.far);const ye=ne.parent,Me=N.cameras;le(N,ye);for(let Te=0;Te<Me.length;Te++)le(Me[Te],ye);return Me.length===2?de(N,P,L):N.projectionMatrix.copy(P.projectionMatrix),C&&V(N,ye),N};function V(ne,ye){const Me=C;ye===null?Me.matrix.copy(ne.matrixWorld):(Me.matrix.copy(ye.matrixWorld),Me.matrix.invert(),Me.matrix.multiply(ne.matrixWorld)),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.updateMatrixWorld(!0);const Te=Me.children;for(let Le=0,Ge=Te.length;Le<Ge;Le++)Te[Le].updateMatrixWorld(!0);Me.projectionMatrix.copy(ne.projectionMatrix),Me.projectionMatrixInverse.copy(ne.projectionMatrixInverse),Me.isPerspectiveCamera&&(Me.fov=Dp*2*Math.atan(1/Me.projectionMatrix.elements[5]),Me.zoom=1)}this.getFoveation=function(){if(!(g===null&&v===null))return l},this.setFoveation=function(ne){l=ne,g!==null&&(g.fixedFoveation=ne),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ne)};let te=null;function ie(ne,ye){if(h=ye.getViewerPose(u||o),x=ye,h!==null){const Me=h.views;v!==null&&(e.setRenderTargetFramebuffer(y,v.framebuffer),e.setRenderTarget(y));let Te=!1;Me.length!==N.cameras.length&&(N.cameras.length=0,Te=!0);for(let Le=0;Le<Me.length;Le++){const Ge=Me[Le];let ut=null;if(v!==null)ut=v.getViewport(Ge);else{const mt=p.getViewSubImage(g,Ge);ut=mt.viewport,Le===0&&(e.setRenderTargetTextures(y,mt.colorTexture,g.ignoreDepthValues?void 0:mt.depthStencilTexture),e.setRenderTarget(y))}let et=D[Le];et===void 0&&(et=new Xn,et.layers.enable(Le),et.viewport=new Rn,D[Le]=et),et.matrix.fromArray(Ge.transform.matrix),et.matrix.decompose(et.position,et.quaternion,et.scale),et.projectionMatrix.fromArray(Ge.projectionMatrix),et.projectionMatrixInverse.copy(et.projectionMatrix).invert(),et.viewport.set(ut.x,ut.y,ut.width,ut.height),Le===0&&(N.matrix.copy(et.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),Te===!0&&N.cameras.push(et)}}for(let Me=0;Me<S.length;Me++){const Te=A[Me],Le=S[Me];Te!==null&&Le!==void 0&&Le.update(Te,ye,u||o)}te&&te(ne,ye),ye.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ye}),x=null}const he=new qU;he.setAnimationLoop(ie),this.setAnimationLoop=function(ne){te=ne},this.dispose=function(){}}}function b$(t,e){function n(M,y){M.matrixAutoUpdate===!0&&M.updateMatrix(),y.value.copy(M.matrix)}function r(M,y){y.color.getRGB(M.fogColor.value,JU(t)),y.isFog?(M.fogNear.value=y.near,M.fogFar.value=y.far):y.isFogExp2&&(M.fogDensity.value=y.density)}function i(M,y,S,A,C){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(M,y):y.isMeshToonMaterial?(s(M,y),p(M,y)):y.isMeshPhongMaterial?(s(M,y),h(M,y)):y.isMeshStandardMaterial?(s(M,y),g(M,y),y.isMeshPhysicalMaterial&&v(M,y,C)):y.isMeshMatcapMaterial?(s(M,y),x(M,y)):y.isMeshDepthMaterial?s(M,y):y.isMeshDistanceMaterial?(s(M,y),E(M,y)):y.isMeshNormalMaterial?s(M,y):y.isLineBasicMaterial?(o(M,y),y.isLineDashedMaterial&&a(M,y)):y.isPointsMaterial?l(M,y,S,A):y.isSpriteMaterial?u(M,y):y.isShadowMaterial?(M.color.value.copy(y.color),M.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(M,y){M.opacity.value=y.opacity,y.color&&M.diffuse.value.copy(y.color),y.emissive&&M.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(M.map.value=y.map,n(y.map,M.mapTransform)),y.alphaMap&&(M.alphaMap.value=y.alphaMap,n(y.alphaMap,M.alphaMapTransform)),y.bumpMap&&(M.bumpMap.value=y.bumpMap,n(y.bumpMap,M.bumpMapTransform),M.bumpScale.value=y.bumpScale,y.side===qi&&(M.bumpScale.value*=-1)),y.normalMap&&(M.normalMap.value=y.normalMap,n(y.normalMap,M.normalMapTransform),M.normalScale.value.copy(y.normalScale),y.side===qi&&M.normalScale.value.negate()),y.displacementMap&&(M.displacementMap.value=y.displacementMap,n(y.displacementMap,M.displacementMapTransform),M.displacementScale.value=y.displacementScale,M.displacementBias.value=y.displacementBias),y.emissiveMap&&(M.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,M.emissiveMapTransform)),y.specularMap&&(M.specularMap.value=y.specularMap,n(y.specularMap,M.specularMapTransform)),y.alphaTest>0&&(M.alphaTest.value=y.alphaTest);const S=e.get(y).envMap;if(S&&(M.envMap.value=S,M.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=y.reflectivity,M.ior.value=y.ior,M.refractionRatio.value=y.refractionRatio),y.lightMap){M.lightMap.value=y.lightMap;const A=t.useLegacyLights===!0?Math.PI:1;M.lightMapIntensity.value=y.lightMapIntensity*A,n(y.lightMap,M.lightMapTransform)}y.aoMap&&(M.aoMap.value=y.aoMap,M.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,M.aoMapTransform))}function o(M,y){M.diffuse.value.copy(y.color),M.opacity.value=y.opacity,y.map&&(M.map.value=y.map,n(y.map,M.mapTransform))}function a(M,y){M.dashSize.value=y.dashSize,M.totalSize.value=y.dashSize+y.gapSize,M.scale.value=y.scale}function l(M,y,S,A){M.diffuse.value.copy(y.color),M.opacity.value=y.opacity,M.size.value=y.size*S,M.scale.value=A*.5,y.map&&(M.map.value=y.map,n(y.map,M.uvTransform)),y.alphaMap&&(M.alphaMap.value=y.alphaMap,n(y.alphaMap,M.alphaMapTransform)),y.alphaTest>0&&(M.alphaTest.value=y.alphaTest)}function u(M,y){M.diffuse.value.copy(y.color),M.opacity.value=y.opacity,M.rotation.value=y.rotation,y.map&&(M.map.value=y.map,n(y.map,M.mapTransform)),y.alphaMap&&(M.alphaMap.value=y.alphaMap,n(y.alphaMap,M.alphaMapTransform)),y.alphaTest>0&&(M.alphaTest.value=y.alphaTest)}function h(M,y){M.specular.value.copy(y.specular),M.shininess.value=Math.max(y.shininess,1e-4)}function p(M,y){y.gradientMap&&(M.gradientMap.value=y.gradientMap)}function g(M,y){M.metalness.value=y.metalness,y.metalnessMap&&(M.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,M.metalnessMapTransform)),M.roughness.value=y.roughness,y.roughnessMap&&(M.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,M.roughnessMapTransform)),e.get(y).envMap&&(M.envMapIntensity.value=y.envMapIntensity)}function v(M,y,S){M.ior.value=y.ior,y.sheen>0&&(M.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),M.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(M.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,M.sheenColorMapTransform)),y.sheenRoughnessMap&&(M.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,M.sheenRoughnessMapTransform))),y.clearcoat>0&&(M.clearcoat.value=y.clearcoat,M.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(M.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,M.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(M.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===qi&&M.clearcoatNormalScale.value.negate())),y.iridescence>0&&(M.iridescence.value=y.iridescence,M.iridescenceIOR.value=y.iridescenceIOR,M.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(M.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,M.iridescenceMapTransform)),y.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),y.transmission>0&&(M.transmission.value=y.transmission,M.transmissionSamplerMap.value=S.texture,M.transmissionSamplerSize.value.set(S.width,S.height),y.transmissionMap&&(M.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,M.transmissionMapTransform)),M.thickness.value=y.thickness,y.thicknessMap&&(M.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=y.attenuationDistance,M.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(M.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(M.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=y.specularIntensity,M.specularColor.value.copy(y.specularColor),y.specularColorMap&&(M.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,M.specularColorMapTransform)),y.specularIntensityMap&&(M.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,M.specularIntensityMapTransform))}function x(M,y){y.matcap&&(M.matcap.value=y.matcap)}function E(M,y){const S=e.get(y).light;M.referencePosition.value.setFromMatrixPosition(S.matrixWorld),M.nearDistance.value=S.shadow.camera.near,M.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function R$(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,A){const C=A.program;r.uniformBlockBinding(S,C)}function u(S,A){let C=i[S.id];C===void 0&&(x(S),C=h(S),i[S.id]=C,S.addEventListener("dispose",M));const P=A.program;r.updateUBOMapping(S,P);const L=e.render.frame;s[S.id]!==L&&(g(S),s[S.id]=L)}function h(S){const A=p();S.__bindingPointIndex=A;const C=t.createBuffer(),P=S.__size,L=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,C),t.bufferData(t.UNIFORM_BUFFER,P,L),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,A,C),C}function p(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(S){const A=i[S.id],C=S.uniforms,P=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,A);for(let L=0,D=C.length;L<D;L++){const N=C[L];if(v(N,L,P)===!0){const I=N.__offset,F=Array.isArray(N.value)?N.value:[N.value];let W=0;for(let ce=0;ce<F.length;ce++){const re=F[ce],Q=E(re);typeof re=="number"?(N.__data[0]=re,t.bufferSubData(t.UNIFORM_BUFFER,I+W,N.__data)):re.isMatrix3?(N.__data[0]=re.elements[0],N.__data[1]=re.elements[1],N.__data[2]=re.elements[2],N.__data[3]=re.elements[0],N.__data[4]=re.elements[3],N.__data[5]=re.elements[4],N.__data[6]=re.elements[5],N.__data[7]=re.elements[0],N.__data[8]=re.elements[6],N.__data[9]=re.elements[7],N.__data[10]=re.elements[8],N.__data[11]=re.elements[0]):(re.toArray(N.__data,W),W+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,N.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(S,A,C){const P=S.value;if(C[A]===void 0){if(typeof P=="number")C[A]=P;else{const L=Array.isArray(P)?P:[P],D=[];for(let N=0;N<L.length;N++)D.push(L[N].clone());C[A]=D}return!0}else if(typeof P=="number"){if(C[A]!==P)return C[A]=P,!0}else{const L=Array.isArray(C[A])?C[A]:[C[A]],D=Array.isArray(P)?P:[P];for(let N=0;N<L.length;N++){const I=L[N];if(I.equals(D[N])===!1)return I.copy(D[N]),!0}}return!1}function x(S){const A=S.uniforms;let C=0;const P=16;let L=0;for(let D=0,N=A.length;D<N;D++){const I=A[D],F={boundary:0,storage:0},W=Array.isArray(I.value)?I.value:[I.value];for(let ce=0,re=W.length;ce<re;ce++){const Q=W[ce],ee=E(Q);F.boundary+=ee.boundary,F.storage+=ee.storage}if(I.__data=new Float32Array(F.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=C,D>0){L=C%P;const ce=P-L;L!==0&&ce-F.boundary<0&&(C+=P-L,I.__offset=C)}C+=F.storage}return L=C%P,L>0&&(C+=P-L),S.__size=C,S.__cache={},this}function E(S){const A={boundary:0,storage:0};return typeof S=="number"?(A.boundary=4,A.storage=4):S.isVector2?(A.boundary=8,A.storage=8):S.isVector3||S.isColor?(A.boundary=16,A.storage=12):S.isVector4?(A.boundary=16,A.storage=16):S.isMatrix3?(A.boundary=48,A.storage=48):S.isMatrix4?(A.boundary=64,A.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),A}function M(S){const A=S.target;A.removeEventListener("dispose",M);const C=o.indexOf(A.__bindingPointIndex);o.splice(C,1),t.deleteBuffer(i[A.id]),delete i[A.id],delete s[A.id]}function y(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},s={}}return{bind:l,update:u,dispose:y}}function P$(){const t=W0("canvas");return t.style.display="block",t}class Qb{constructor(e={}){const{canvas:n=P$(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let g;r!==null?g=r.getContextAttributes().alpha:g=o;const v=new Uint32Array(4),x=new Int32Array(4);let E=null,M=null;const y=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=$t,this.useLegacyLights=!0,this.toneMapping=la,this.toneMappingExposure=1;const A=this;let C=!1,P=0,L=0,D=null,N=-1,I=null;const F=new Rn,W=new Rn;let ce=null;const re=new $e(0);let Q=0,ee=n.width,de=n.height,le=1,V=null,te=null;const ie=new Rn(0,0,ee,de),he=new Rn(0,0,ee,de);let ne=!1;const ye=new C1;let Me=!1,Te=!1,Le=null;const Ge=new Gt,ut=new Ie,et=new G,mt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function He(){return D===null?le:1}let K=r;function De(j,ge){for(let be=0;be<j.length;be++){const pe=j[be],Re=n.getContext(pe,ge);if(Re!==null)return Re}return null}try{const j={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Zp}`),n.addEventListener("webglcontextlost",Ve,!1),n.addEventListener("webglcontextrestored",ve,!1),n.addEventListener("webglcontextcreationerror",Je,!1),K===null){const ge=["webgl2","webgl","experimental-webgl"];if(A.isWebGL1Renderer===!0&&ge.shift(),K=De(ge,j),K===null)throw De(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}K instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(j){throw console.error("THREE.WebGLRenderer: "+j.message),j}let Se,Ne,Be,Ke,qe,rt,gt,Et,fn,J,H,Ae,We,Ue,Ye,dt,Qe,Ce,St,At,Mt,lt,Z,Pe;function tt(){Se=new Xq(K),Ne=new Hq(K,Se,e),Se.init(Ne),lt=new nk(K,Se,Ne),Be=new w$(K,Se,Ne),Ke=new Yq(K),qe=new h$,rt=new E$(K,Se,Be,qe,Ne,lt,Ke),gt=new Gq(A),Et=new jq(A),fn=new aY(K,Ne),Z=new Uq(K,Se,fn,Ne),J=new Jq(K,fn,Ke,Z),H=new $q(K,J,fn,Ke),St=new Zq(K,Ne,rt),dt=new zq(qe),Ae=new f$(A,gt,Et,Se,Ne,Z,dt),We=new b$(A,qe),Ue=new p$,Ye=new _$(Se,Ne),Ce=new Nq(A,gt,Et,Be,H,g,l),Qe=new M$(A,H,Ne),Pe=new R$(K,Ke,Ne,Be),At=new kq(K,Se,Ke,Ne),Mt=new Kq(K,Se,Ke,Ne),Ke.programs=Ae.programs,A.capabilities=Ne,A.extensions=Se,A.properties=qe,A.renderLists=Ue,A.shadowMap=Qe,A.state=Be,A.info=Ke}tt();const $=new C$(A,K);this.xr=$,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const j=Se.get("WEBGL_lose_context");j&&j.loseContext()},this.forceContextRestore=function(){const j=Se.get("WEBGL_lose_context");j&&j.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(j){j!==void 0&&(le=j,this.setSize(ee,de,!1))},this.getSize=function(j){return j.set(ee,de)},this.setSize=function(j,ge,be=!0){if($.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ee=j,de=ge,n.width=Math.floor(j*le),n.height=Math.floor(ge*le),be===!0&&(n.style.width=j+"px",n.style.height=ge+"px"),this.setViewport(0,0,j,ge)},this.getDrawingBufferSize=function(j){return j.set(ee*le,de*le).floor()},this.setDrawingBufferSize=function(j,ge,be){ee=j,de=ge,le=be,n.width=Math.floor(j*be),n.height=Math.floor(ge*be),this.setViewport(0,0,j,ge)},this.getCurrentViewport=function(j){return j.copy(F)},this.getViewport=function(j){return j.copy(ie)},this.setViewport=function(j,ge,be,pe){j.isVector4?ie.set(j.x,j.y,j.z,j.w):ie.set(j,ge,be,pe),Be.viewport(F.copy(ie).multiplyScalar(le).floor())},this.getScissor=function(j){return j.copy(he)},this.setScissor=function(j,ge,be,pe){j.isVector4?he.set(j.x,j.y,j.z,j.w):he.set(j,ge,be,pe),Be.scissor(W.copy(he).multiplyScalar(le).floor())},this.getScissorTest=function(){return ne},this.setScissorTest=function(j){Be.setScissorTest(ne=j)},this.setOpaqueSort=function(j){V=j},this.setTransparentSort=function(j){te=j},this.getClearColor=function(j){return j.copy(Ce.getClearColor())},this.setClearColor=function(){Ce.setClearColor.apply(Ce,arguments)},this.getClearAlpha=function(){return Ce.getClearAlpha()},this.setClearAlpha=function(){Ce.setClearAlpha.apply(Ce,arguments)},this.clear=function(j=!0,ge=!0,be=!0){let pe=0;if(j){let Re=!1;if(D!==null){const ct=D.texture.format;Re=ct===Nb||ct===Ob||ct===Fb}if(Re){const ct=D.texture.type,Tt=ct===ja||ct===Ll||ct===w1||ct===cc||ct===Lb||ct===Db,Ft=Ce.getClearColor(),Rt=Ce.getClearAlpha(),tn=Ft.r,Pt=Ft.g,Ut=Ft.b,wn=qe.get(D).__webglFramebuffer;Tt?(v[0]=tn,v[1]=Pt,v[2]=Ut,v[3]=Rt,K.clearBufferuiv(K.COLOR,wn,v)):(x[0]=tn,x[1]=Pt,x[2]=Ut,x[3]=Rt,K.clearBufferiv(K.COLOR,wn,x))}else pe|=K.COLOR_BUFFER_BIT}ge&&(pe|=K.DEPTH_BUFFER_BIT),be&&(pe|=K.STENCIL_BUFFER_BIT),K.clear(pe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ve,!1),n.removeEventListener("webglcontextrestored",ve,!1),n.removeEventListener("webglcontextcreationerror",Je,!1),Ue.dispose(),Ye.dispose(),qe.dispose(),gt.dispose(),Et.dispose(),H.dispose(),Z.dispose(),Pe.dispose(),Ae.dispose(),$.dispose(),$.removeEventListener("sessionstart",_n),$.removeEventListener("sessionend",Sr),Le&&(Le.dispose(),Le=null),Kn.stop()};function Ve(j){j.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),C=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),C=!1;const j=Ke.autoReset,ge=Qe.enabled,be=Qe.autoUpdate,pe=Qe.needsUpdate,Re=Qe.type;tt(),Ke.autoReset=j,Qe.enabled=ge,Qe.autoUpdate=be,Qe.needsUpdate=pe,Qe.type=Re}function Je(j){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",j.statusMessage)}function it(j){const ge=j.target;ge.removeEventListener("dispose",it),rn(ge)}function rn(j){un(j),qe.remove(j)}function un(j){const ge=qe.get(j).programs;ge!==void 0&&(ge.forEach(function(be){Ae.releaseProgram(be)}),j.isShaderMaterial&&Ae.releaseShaderCache(j))}this.renderBufferDirect=function(j,ge,be,pe,Re,ct){ge===null&&(ge=mt);const Tt=Re.isMesh&&Re.matrixWorld.determinant()<0,Ft=am(j,ge,be,pe,Re);Be.setMaterial(pe,Tt);let Rt=be.index,tn=1;pe.wireframe===!0&&(Rt=J.getWireframeAttribute(be),tn=2);const Pt=be.drawRange,Ut=be.attributes.position;let wn=Pt.start*tn,Dn=(Pt.start+Pt.count)*tn;ct!==null&&(wn=Math.max(wn,ct.start*tn),Dn=Math.min(Dn,(ct.start+ct.count)*tn)),Rt!==null?(wn=Math.max(wn,0),Dn=Math.min(Dn,Rt.count)):Ut!=null&&(wn=Math.max(wn,0),Dn=Math.min(Dn,Ut.count));const Ai=Dn-wn;if(Ai<0||Ai===1/0)return;Z.setup(Re,pe,Ft,be,Rt);let Si,Tn=At;if(Rt!==null&&(Si=fn.get(Rt),Tn=Mt,Tn.setIndex(Si)),Re.isMesh)pe.wireframe===!0?(Be.setLineWidth(pe.wireframeLinewidth*He()),Tn.setMode(K.LINES)):Tn.setMode(K.TRIANGLES);else if(Re.isLine){let jt=pe.linewidth;jt===void 0&&(jt=1),Be.setLineWidth(jt*He()),Re.isLineSegments?Tn.setMode(K.LINES):Re.isLineLoop?Tn.setMode(K.LINE_LOOP):Tn.setMode(K.LINE_STRIP)}else Re.isPoints?Tn.setMode(K.POINTS):Re.isSprite&&Tn.setMode(K.TRIANGLES);if(Re.isInstancedMesh)Tn.renderInstances(wn,Ai,Re.count);else if(be.isInstancedBufferGeometry){const jt=be._maxInstanceCount!==void 0?be._maxInstanceCount:1/0,En=Math.min(be.instanceCount,jt);Tn.renderInstances(wn,Ai,En)}else Tn.render(wn,Ai)},this.compile=function(j,ge){function be(pe,Re,ct){pe.transparent===!0&&pe.side===Eo&&pe.forceSinglePass===!1?(pe.side=qi,pe.needsUpdate=!0,qs(pe,Re,ct),pe.side=Qa,pe.needsUpdate=!0,qs(pe,Re,ct),pe.side=Eo):qs(pe,Re,ct)}M=Ye.get(j),M.init(),S.push(M),j.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ge.layers)&&(M.pushLight(pe),pe.castShadow&&M.pushShadow(pe))}),M.setupLights(A.useLegacyLights),j.traverse(function(pe){const Re=pe.material;if(Re)if(Array.isArray(Re))for(let ct=0;ct<Re.length;ct++){const Tt=Re[ct];be(Tt,j,pe)}else be(Re,j,pe)}),S.pop(),M=null};let gn=null;function zr(j){gn&&gn(j)}function _n(){Kn.stop()}function Sr(){Kn.start()}const Kn=new qU;Kn.setAnimationLoop(zr),typeof self<"u"&&Kn.setContext(self),this.setAnimationLoop=function(j){gn=j,$.setAnimationLoop(j),j===null?Kn.stop():Kn.start()},$.addEventListener("sessionstart",_n),$.addEventListener("sessionend",Sr),this.render=function(j,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(C===!0)return;j.matrixWorldAutoUpdate===!0&&j.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),$.enabled===!0&&$.isPresenting===!0&&(ge=$.updateCameraXR(ge)),j.isScene===!0&&j.onBeforeRender(A,j,ge,D),M=Ye.get(j,S.length),M.init(),S.push(M),Ge.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),ye.setFromProjectionMatrix(Ge),Te=this.localClippingEnabled,Me=dt.init(this.clippingPlanes,Te),E=Ue.get(j,y.length),E.init(),y.push(E),Yl(j,ge,0,A.sortObjects),E.finish(),A.sortObjects===!0&&E.sort(V,te),Me===!0&&dt.beginShadows();const be=M.state.shadowsArray;if(Qe.render(be,j,ge),Me===!0&&dt.endShadows(),this.info.autoReset===!0&&this.info.reset(),this.info.render.frame++,Ce.render(E,j),M.setupLights(A.useLegacyLights),ge.isArrayCamera){const pe=ge.cameras;for(let Re=0,ct=pe.length;Re<ct;Re++){const Tt=pe[Re];Mh(E,j,Tt,Tt.viewport)}}else Mh(E,j,ge);D!==null&&(rt.updateMultisampleRenderTarget(D),rt.updateRenderTargetMipmap(D)),j.isScene===!0&&j.onAfterRender(A,j,ge),Z.resetDefaultState(),N=-1,I=null,S.pop(),S.length>0?M=S[S.length-1]:M=null,y.pop(),y.length>0?E=y[y.length-1]:E=null};function Yl(j,ge,be,pe){if(j.visible===!1)return;if(j.layers.test(ge.layers)){if(j.isGroup)be=j.renderOrder;else if(j.isLOD)j.autoUpdate===!0&&j.update(ge);else if(j.isLight)M.pushLight(j),j.castShadow&&M.pushShadow(j);else if(j.isSprite){if(!j.frustumCulled||ye.intersectsSprite(j)){pe&&et.setFromMatrixPosition(j.matrixWorld).applyMatrix4(Ge);const Tt=H.update(j),Ft=j.material;Ft.visible&&E.push(j,Tt,Ft,be,et.z,null)}}else if((j.isMesh||j.isLine||j.isPoints)&&(!j.frustumCulled||ye.intersectsObject(j))){j.isSkinnedMesh&&j.skeleton.frame!==Ke.render.frame&&(j.skeleton.update(),j.skeleton.frame=Ke.render.frame);const Tt=H.update(j),Ft=j.material;if(pe&&(j.boundingSphere!==void 0?(j.boundingSphere===null&&j.computeBoundingSphere(),et.copy(j.boundingSphere.center)):(Tt.boundingSphere===null&&Tt.computeBoundingSphere(),et.copy(Tt.boundingSphere.center)),et.applyMatrix4(j.matrixWorld).applyMatrix4(Ge)),Array.isArray(Ft)){const Rt=Tt.groups;for(let tn=0,Pt=Rt.length;tn<Pt;tn++){const Ut=Rt[tn],wn=Ft[Ut.materialIndex];wn&&wn.visible&&E.push(j,Tt,wn,be,et.z,Ut)}}else Ft.visible&&E.push(j,Tt,Ft,be,et.z,null)}}const ct=j.children;for(let Tt=0,Ft=ct.length;Tt<Ft;Tt++)Yl(ct[Tt],ge,be,pe)}function Mh(j,ge,be,pe){const Re=j.opaque,ct=j.transmissive,Tt=j.transparent;M.setupLightsView(be),Me===!0&&dt.setGlobalState(A.clippingPlanes,be),ct.length>0&&Ql(Re,ct,ge,be),pe&&Be.viewport(F.copy(pe)),Re.length>0&&va(Re,ge,be),ct.length>0&&va(ct,ge,be),Tt.length>0&&va(Tt,ge,be),Be.buffers.depth.setTest(!0),Be.buffers.depth.setMask(!0),Be.buffers.color.setMask(!0),Be.setPolygonOffset(!1)}function Ql(j,ge,be,pe){const Re=Ne.isWebGL2;Le===null&&(Le=new ha(1,1,{generateMipmaps:!0,type:Se.has("EXT_color_buffer_half_float")?Bp:ja,minFilter:qa,samples:Re&&a===!0?4:0})),A.getDrawingBufferSize(ut),Re?Le.setSize(ut.x,ut.y):Le.setSize(mA(ut.x),mA(ut.y));const ct=A.getRenderTarget();A.setRenderTarget(Le),A.getClearColor(re),Q=A.getClearAlpha(),Q<1&&A.setClearColor(16777215,.5),A.clear();const Tt=A.toneMapping;A.toneMapping=la,va(j,be,pe),rt.updateMultisampleRenderTarget(Le),rt.updateRenderTargetMipmap(Le);let Ft=!1;for(let Rt=0,tn=ge.length;Rt<tn;Rt++){const Pt=ge[Rt],Ut=Pt.object,wn=Pt.geometry,Dn=Pt.material,Ai=Pt.group;if(Dn.side===Eo&&Ut.layers.test(pe.layers)){const Si=Dn.side;Dn.side=qi,Dn.needsUpdate=!0,wh(Ut,be,pe,wn,Dn,Ai),Dn.side=Si,Dn.needsUpdate=!0,Ft=!0}}Ft===!0&&(rt.updateMultisampleRenderTarget(Le),rt.updateRenderTargetMipmap(Le)),A.setRenderTarget(ct),A.setClearColor(re,Q),A.toneMapping=Tt}function va(j,ge,be){const pe=ge.isScene===!0?ge.overrideMaterial:null;for(let Re=0,ct=j.length;Re<ct;Re++){const Tt=j[Re],Ft=Tt.object,Rt=Tt.geometry,tn=pe===null?Tt.material:pe,Pt=Tt.group;Ft.layers.test(be.layers)&&wh(Ft,ge,be,Rt,tn,Pt)}}function wh(j,ge,be,pe,Re,ct){j.onBeforeRender(A,ge,be,pe,Re,ct),j.modelViewMatrix.multiplyMatrices(be.matrixWorldInverse,j.matrixWorld),j.normalMatrix.getNormalMatrix(j.modelViewMatrix),Re.onBeforeRender(A,ge,be,pe,j,ct),Re.transparent===!0&&Re.side===Eo&&Re.forceSinglePass===!1?(Re.side=qi,Re.needsUpdate=!0,A.renderBufferDirect(be,ge,pe,Re,j,ct),Re.side=Qa,Re.needsUpdate=!0,A.renderBufferDirect(be,ge,pe,Re,j,ct),Re.side=Eo):A.renderBufferDirect(be,ge,pe,Re,j,ct),j.onAfterRender(A,ge,be,pe,Re,ct)}function qs(j,ge,be){ge.isScene!==!0&&(ge=mt);const pe=qe.get(j),Re=M.state.lights,ct=M.state.shadowsArray,Tt=Re.state.version,Ft=Ae.getParameters(j,Re.state,ct,ge,be),Rt=Ae.getProgramCacheKey(Ft);let tn=pe.programs;pe.environment=j.isMeshStandardMaterial?ge.environment:null,pe.fog=ge.fog,pe.envMap=(j.isMeshStandardMaterial?Et:gt).get(j.envMap||pe.environment),tn===void 0&&(j.addEventListener("dispose",it),tn=new Map,pe.programs=tn);let Pt=tn.get(Rt);if(Pt!==void 0){if(pe.currentProgram===Pt&&pe.lightsStateVersion===Tt)return Eh(j,Ft),Pt}else Ft.uniforms=Ae.getUniforms(j),j.onBuild(be,Ft,A),j.onBeforeCompile(Ft,A),Pt=Ae.acquireProgram(Ft,Rt),tn.set(Rt,Pt),pe.uniforms=Ft.uniforms;const Ut=pe.uniforms;(!j.isShaderMaterial&&!j.isRawShaderMaterial||j.clipping===!0)&&(Ut.clippingPlanes=dt.uniform),Eh(j,Ft),pe.needsLights=um(j),pe.lightsStateVersion=Tt,pe.needsLights&&(Ut.ambientLightColor.value=Re.state.ambient,Ut.lightProbe.value=Re.state.probe,Ut.directionalLights.value=Re.state.directional,Ut.directionalLightShadows.value=Re.state.directionalShadow,Ut.spotLights.value=Re.state.spot,Ut.spotLightShadows.value=Re.state.spotShadow,Ut.rectAreaLights.value=Re.state.rectArea,Ut.ltc_1.value=Re.state.rectAreaLTC1,Ut.ltc_2.value=Re.state.rectAreaLTC2,Ut.pointLights.value=Re.state.point,Ut.pointLightShadows.value=Re.state.pointShadow,Ut.hemisphereLights.value=Re.state.hemi,Ut.directionalShadowMap.value=Re.state.directionalShadowMap,Ut.directionalShadowMatrix.value=Re.state.directionalShadowMatrix,Ut.spotShadowMap.value=Re.state.spotShadowMap,Ut.spotLightMatrix.value=Re.state.spotLightMatrix,Ut.spotLightMap.value=Re.state.spotLightMap,Ut.pointShadowMap.value=Re.state.pointShadowMap,Ut.pointShadowMatrix.value=Re.state.pointShadowMatrix);const wn=Pt.getUniforms(),Dn=C_.seqWithValue(wn.seq,Ut);return pe.currentProgram=Pt,pe.uniformsList=Dn,Pt}function Eh(j,ge){const be=qe.get(j);be.outputColorSpace=ge.outputColorSpace,be.instancing=ge.instancing,be.skinning=ge.skinning,be.morphTargets=ge.morphTargets,be.morphNormals=ge.morphNormals,be.morphColors=ge.morphColors,be.morphTargetsCount=ge.morphTargetsCount,be.numClippingPlanes=ge.numClippingPlanes,be.numIntersection=ge.numClipIntersection,be.vertexAlphas=ge.vertexAlphas,be.vertexTangents=ge.vertexTangents,be.toneMapping=ge.toneMapping}function am(j,ge,be,pe,Re){ge.isScene!==!0&&(ge=mt),rt.resetTextureUnits();const ct=ge.fog,Tt=pe.isMeshStandardMaterial?ge.environment:null,Ft=D===null?A.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:fa,Rt=(pe.isMeshStandardMaterial?Et:gt).get(pe.envMap||Tt),tn=pe.vertexColors===!0&&!!be.attributes.color&&be.attributes.color.itemSize===4,Pt=!!be.attributes.tangent&&(!!pe.normalMap||pe.anisotropy>0),Ut=!!be.morphAttributes.position,wn=!!be.morphAttributes.normal,Dn=!!be.morphAttributes.color,Ai=pe.toneMapped?A.toneMapping:la,Si=be.morphAttributes.position||be.morphAttributes.normal||be.morphAttributes.color,Tn=Si!==void 0?Si.length:0,jt=qe.get(pe),En=M.state.lights;if(Me===!0&&(Te===!0||j!==I)){const Mr=j===I&&pe.id===N;dt.setState(pe,j,Mr)}let kt=!1;pe.version===jt.__version?(jt.needsLights&&jt.lightsStateVersion!==En.state.version||jt.outputColorSpace!==Ft||Re.isInstancedMesh&&jt.instancing===!1||!Re.isInstancedMesh&&jt.instancing===!0||Re.isSkinnedMesh&&jt.skinning===!1||!Re.isSkinnedMesh&&jt.skinning===!0||jt.envMap!==Rt||pe.fog===!0&&jt.fog!==ct||jt.numClippingPlanes!==void 0&&(jt.numClippingPlanes!==dt.numPlanes||jt.numIntersection!==dt.numIntersection)||jt.vertexAlphas!==tn||jt.vertexTangents!==Pt||jt.morphTargets!==Ut||jt.morphNormals!==wn||jt.morphColors!==Dn||jt.toneMapping!==Ai||Ne.isWebGL2===!0&&jt.morphTargetsCount!==Tn)&&(kt=!0):(kt=!0,jt.__version=pe.version);let Zr=jt.currentProgram;kt===!0&&(Zr=qs(pe,ge,Re));let hr=!1,er=!1,ts=!1;const kn=Zr.getUniforms(),Yn=jt.uniforms;if(Be.useProgram(Zr.program)&&(hr=!0,er=!0,ts=!0),pe.id!==N&&(N=pe.id,er=!0),hr||I!==j){if(kn.setValue(K,"projectionMatrix",j.projectionMatrix),Ne.logarithmicDepthBuffer&&kn.setValue(K,"logDepthBufFC",2/(Math.log(j.far+1)/Math.LN2)),I!==j&&(I=j,er=!0,ts=!0),pe.isShaderMaterial||pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshStandardMaterial||pe.envMap){const Mr=kn.map.cameraPosition;Mr!==void 0&&Mr.setValue(K,et.setFromMatrixPosition(j.matrixWorld))}(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial)&&kn.setValue(K,"isOrthographic",j.isOrthographicCamera===!0),(pe.isMeshPhongMaterial||pe.isMeshToonMaterial||pe.isMeshLambertMaterial||pe.isMeshBasicMaterial||pe.isMeshStandardMaterial||pe.isShaderMaterial||pe.isShadowMaterial||Re.isSkinnedMesh)&&kn.setValue(K,"viewMatrix",j.matrixWorldInverse)}if(Re.isSkinnedMesh){kn.setOptional(K,Re,"bindMatrix"),kn.setOptional(K,Re,"bindMatrixInverse");const Mr=Re.skeleton;Mr&&(Ne.floatVertexTextures?(Mr.boneTexture===null&&Mr.computeBoneTexture(),kn.setValue(K,"boneTexture",Mr.boneTexture,rt),kn.setValue(K,"boneTextureSize",Mr.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Do=be.morphAttributes;if((Do.position!==void 0||Do.normal!==void 0||Do.color!==void 0&&Ne.isWebGL2===!0)&&St.update(Re,be,Zr),(er||jt.receiveShadow!==Re.receiveShadow)&&(jt.receiveShadow=Re.receiveShadow,kn.setValue(K,"receiveShadow",Re.receiveShadow)),pe.isMeshGouraudMaterial&&pe.envMap!==null&&(Yn.envMap.value=Rt,Yn.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),er&&(kn.setValue(K,"toneMappingExposure",A.toneMappingExposure),jt.needsLights&&lm(Yn,ts),ct&&pe.fog===!0&&We.refreshFogUniforms(Yn,ct),We.refreshMaterialUniforms(Yn,pe,le,de,Le),C_.upload(K,jt.uniformsList,Yn,rt)),pe.isShaderMaterial&&pe.uniformsNeedUpdate===!0&&(C_.upload(K,jt.uniformsList,Yn,rt),pe.uniformsNeedUpdate=!1),pe.isSpriteMaterial&&kn.setValue(K,"center",Re.center),kn.setValue(K,"modelViewMatrix",Re.modelViewMatrix),kn.setValue(K,"normalMatrix",Re.normalMatrix),kn.setValue(K,"modelMatrix",Re.matrixWorld),pe.isShaderMaterial||pe.isRawShaderMaterial){const Mr=pe.uniformsGroups;for(let tl=0,ql=Mr.length;tl<ql;tl++)if(Ne.isWebGL2){const Zl=Mr[tl];Pe.update(Zl,Zr),Pe.bind(Zl,Zr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Zr}function lm(j,ge){j.ambientLightColor.needsUpdate=ge,j.lightProbe.needsUpdate=ge,j.directionalLights.needsUpdate=ge,j.directionalLightShadows.needsUpdate=ge,j.pointLights.needsUpdate=ge,j.pointLightShadows.needsUpdate=ge,j.spotLights.needsUpdate=ge,j.spotLightShadows.needsUpdate=ge,j.rectAreaLights.needsUpdate=ge,j.hemisphereLights.needsUpdate=ge}function um(j){return j.isMeshLambertMaterial||j.isMeshToonMaterial||j.isMeshPhongMaterial||j.isMeshStandardMaterial||j.isShadowMaterial||j.isShaderMaterial&&j.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(j,ge,be){qe.get(j.texture).__webglTexture=ge,qe.get(j.depthTexture).__webglTexture=be;const pe=qe.get(j);pe.__hasExternalTextures=!0,pe.__hasExternalTextures&&(pe.__autoAllocateDepthBuffer=be===void 0,pe.__autoAllocateDepthBuffer||Se.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),pe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(j,ge){const be=qe.get(j);be.__webglFramebuffer=ge,be.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(j,ge=0,be=0){D=j,P=ge,L=be;let pe=!0,Re=null,ct=!1,Tt=!1;if(j){const Rt=qe.get(j);Rt.__useDefaultFramebuffer!==void 0?(Be.bindFramebuffer(K.FRAMEBUFFER,null),pe=!1):Rt.__webglFramebuffer===void 0?rt.setupRenderTarget(j):Rt.__hasExternalTextures&&rt.rebindTextures(j,qe.get(j.texture).__webglTexture,qe.get(j.depthTexture).__webglTexture);const tn=j.texture;(tn.isData3DTexture||tn.isDataArrayTexture||tn.isCompressedArrayTexture)&&(Tt=!0);const Pt=qe.get(j).__webglFramebuffer;j.isWebGLCubeRenderTarget?(Re=Pt[ge],ct=!0):Ne.isWebGL2&&j.samples>0&&rt.useMultisampledRTT(j)===!1?Re=qe.get(j).__webglMultisampledFramebuffer:Re=Pt,F.copy(j.viewport),W.copy(j.scissor),ce=j.scissorTest}else F.copy(ie).multiplyScalar(le).floor(),W.copy(he).multiplyScalar(le).floor(),ce=ne;if(Be.bindFramebuffer(K.FRAMEBUFFER,Re)&&Ne.drawBuffers&&pe&&Be.drawBuffers(j,Re),Be.viewport(F),Be.scissor(W),Be.setScissorTest(ce),ct){const Rt=qe.get(j.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Rt.__webglTexture,be)}else if(Tt){const Rt=qe.get(j.texture),tn=ge||0;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,Rt.__webglTexture,be||0,tn)}N=-1},this.readRenderTargetPixels=function(j,ge,be,pe,Re,ct,Tt){if(!(j&&j.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ft=qe.get(j).__webglFramebuffer;if(j.isWebGLCubeRenderTarget&&Tt!==void 0&&(Ft=Ft[Tt]),Ft){Be.bindFramebuffer(K.FRAMEBUFFER,Ft);try{const Rt=j.texture,tn=Rt.format,Pt=Rt.type;if(tn!==ms&&lt.convert(tn)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ut=Pt===Bp&&(Se.has("EXT_color_buffer_half_float")||Ne.isWebGL2&&Se.has("EXT_color_buffer_float"));if(Pt!==ja&&lt.convert(Pt)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Pt===Ha&&(Ne.isWebGL2||Se.has("OES_texture_float")||Se.has("WEBGL_color_buffer_float")))&&!Ut){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=j.width-pe&&be>=0&&be<=j.height-Re&&K.readPixels(ge,be,pe,Re,lt.convert(tn),lt.convert(Pt),ct)}finally{const Rt=D!==null?qe.get(D).__webglFramebuffer:null;Be.bindFramebuffer(K.FRAMEBUFFER,Rt)}}},this.copyFramebufferToTexture=function(j,ge,be=0){const pe=Math.pow(2,-be),Re=Math.floor(ge.image.width*pe),ct=Math.floor(ge.image.height*pe);rt.setTexture2D(ge,0),K.copyTexSubImage2D(K.TEXTURE_2D,be,0,0,j.x,j.y,Re,ct),Be.unbindTexture()},this.copyTextureToTexture=function(j,ge,be,pe=0){const Re=ge.image.width,ct=ge.image.height,Tt=lt.convert(be.format),Ft=lt.convert(be.type);rt.setTexture2D(be,0),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,be.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,be.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,be.unpackAlignment),ge.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,pe,j.x,j.y,Re,ct,Tt,Ft,ge.image.data):ge.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,pe,j.x,j.y,ge.mipmaps[0].width,ge.mipmaps[0].height,Tt,ge.mipmaps[0].data):K.texSubImage2D(K.TEXTURE_2D,pe,j.x,j.y,Tt,Ft,ge.image),pe===0&&be.generateMipmaps&&K.generateMipmap(K.TEXTURE_2D),Be.unbindTexture()},this.copyTextureToTexture3D=function(j,ge,be,pe,Re=0){if(A.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ct=j.max.x-j.min.x+1,Tt=j.max.y-j.min.y+1,Ft=j.max.z-j.min.z+1,Rt=lt.convert(pe.format),tn=lt.convert(pe.type);let Pt;if(pe.isData3DTexture)rt.setTexture3D(pe,0),Pt=K.TEXTURE_3D;else if(pe.isDataArrayTexture)rt.setTexture2DArray(pe,0),Pt=K.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,pe.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,pe.unpackAlignment);const Ut=K.getParameter(K.UNPACK_ROW_LENGTH),wn=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Dn=K.getParameter(K.UNPACK_SKIP_PIXELS),Ai=K.getParameter(K.UNPACK_SKIP_ROWS),Si=K.getParameter(K.UNPACK_SKIP_IMAGES),Tn=be.isCompressedTexture?be.mipmaps[0]:be.image;K.pixelStorei(K.UNPACK_ROW_LENGTH,Tn.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Tn.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,j.min.x),K.pixelStorei(K.UNPACK_SKIP_ROWS,j.min.y),K.pixelStorei(K.UNPACK_SKIP_IMAGES,j.min.z),be.isDataTexture||be.isData3DTexture?K.texSubImage3D(Pt,Re,ge.x,ge.y,ge.z,ct,Tt,Ft,Rt,tn,Tn.data):be.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(Pt,Re,ge.x,ge.y,ge.z,ct,Tt,Ft,Rt,Tn.data)):K.texSubImage3D(Pt,Re,ge.x,ge.y,ge.z,ct,Tt,Ft,Rt,tn,Tn),K.pixelStorei(K.UNPACK_ROW_LENGTH,Ut),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,wn),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Dn),K.pixelStorei(K.UNPACK_SKIP_ROWS,Ai),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Si),Re===0&&pe.generateMipmaps&&K.generateMipmap(Pt),Be.unbindTexture()},this.initTexture=function(j){j.isCubeTexture?rt.setTextureCube(j,0):j.isData3DTexture?rt.setTexture3D(j,0):j.isDataArrayTexture||j.isCompressedArrayTexture?rt.setTexture2DArray(j,0):rt.setTexture2D(j,0),Be.unbindTexture()},this.resetState=function(){P=0,L=0,D=null,Be.reset(),Z.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return za}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===$t?hc:Hb}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===hc?$t:fa}}class sk extends Qb{}sk.prototype.isWebGL1Renderer=!0;class R1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new $e(e),this.density=n}clone(){return new R1(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class P1{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new $e(e),this.near=n,this.far=r}clone(){return new P1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class gA extends xn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class hv{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=G0,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Vs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Vs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Vs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ji=new G;class Sc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.applyMatrix4(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.applyNormalMatrix(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ji.fromBufferAttribute(this,n),ji.transformDirection(e),this.setXYZ(n,ji.x,ji.y,ji.z);return this}setX(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Hs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Hs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Hs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Hs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=ln(n,this.array),r=ln(r,this.array),i=ln(i,this.array),s=ln(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Mn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Sc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class qb extends Hr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new $e(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Cd;const gg=new G,bd=new G,Rd=new G,Pd=new Ie,vg=new Ie,ok=new Gt,bx=new G,yg=new G,Rx=new G,DB=new Ie,kM=new Ie,FB=new Ie;class ak extends xn{constructor(e){if(super(),this.isSprite=!0,this.type="Sprite",Cd===void 0){Cd=new en;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new hv(n,5);Cd.setIndex([0,1,2,0,2,3]),Cd.setAttribute("position",new Sc(r,3,0,!1)),Cd.setAttribute("uv",new Sc(r,2,3,!1))}this.geometry=Cd,this.material=e!==void 0?e:new qb,this.center=new Ie(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),bd.setFromMatrixScale(this.matrixWorld),ok.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Rd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&bd.multiplyScalar(-Rd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Px(bx.set(-.5,-.5,0),Rd,o,bd,i,s),Px(yg.set(.5,-.5,0),Rd,o,bd,i,s),Px(Rx.set(.5,.5,0),Rd,o,bd,i,s),DB.set(0,0),kM.set(1,0),FB.set(1,1);let a=e.ray.intersectTriangle(bx,yg,Rx,!1,gg);if(a===null&&(Px(yg.set(-.5,.5,0),Rd,o,bd,i,s),kM.set(0,1),a=e.ray.intersectTriangle(bx,Rx,yg,!1,gg),a===null))return;const l=e.ray.origin.distanceTo(gg);l<e.near||l>e.far||n.push({distance:l,point:gg.clone(),uv:ps.getInterpolation(gg,bx,yg,Rx,DB,kM,FB,new Ie),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Px(t,e,n,r,i,s){Pd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(vg.x=s*Pd.x-i*Pd.y,vg.y=i*Pd.x+s*Pd.y):vg.copy(Pd),t.copy(e),t.x+=vg.x,t.y+=vg.y,t.applyMatrix4(ok)}const Ix=new G,OB=new G;class lk extends xn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ix.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ix);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ix.setFromMatrixPosition(e.matrixWorld),OB.setFromMatrixPosition(this.matrixWorld);const r=Ix.distanceTo(OB)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const NB=new G,UB=new Rn,kB=new Rn,I$=new G,HB=new Gt,Id=new G,HM=new Lo,zB=new Gt,zM=new mh;class Zb extends fi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new da),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Id.fromBufferAttribute(n,r),this.applyBoneTransform(r,Id),this.boundingBox.expandByPoint(Id)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Lo),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)Id.fromBufferAttribute(n,r),this.applyBoneTransform(r,Id),this.boundingSphere.expandByPoint(Id)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),HM.copy(this.boundingSphere),HM.applyMatrix4(i),e.ray.intersectsSphere(HM)!==!1&&(zB.copy(i).invert(),zM.copy(e.ray).applyMatrix4(zB),!(this.boundingBox!==null&&zM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,zM)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Rn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;UB.fromBufferAttribute(i.attributes.skinIndex,e),kB.fromBufferAttribute(i.attributes.skinWeight,e),NB.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=kB.getComponent(s);if(o!==0){const a=UB.getComponent(s);HB.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(I$.copy(NB).applyMatrix4(HB),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class I1 extends xn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class vp extends $n{constructor(e=null,n=1,r=1,i,s,o,a,l,u=_r,h=_r,p,g){super(null,o,a,l,u,h,i,s,p,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const GB=new Gt,B$=new Gt;class dv{constructor(e=[],n=[]){this.uuid=Vs(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Gt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:B$;GB.multiplyMatrices(a,n[s]),GB.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new dv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=WU(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new vp(n,e,e,ms,Ha);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new I1),this.bones.push(o),this.boneInverses.push(new Gt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Op extends Mn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Bd=new Gt,VB=new Gt,Bx=[],WB=new da,L$=new Gt,xg=new fi,_g=new Lo;class $b extends fi{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Op(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,L$)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new da),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Bd),WB.copy(e.boundingBox).applyMatrix4(Bd),this.boundingBox.union(WB)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Lo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Bd),_g.copy(e.boundingSphere).applyMatrix4(Bd),this.boundingSphere.union(_g)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(xg.geometry=this.geometry,xg.material=this.material,xg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),_g.copy(this.boundingSphere),_g.applyMatrix4(r),e.ray.intersectsSphere(_g)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Bd),VB.multiplyMatrices(r,Bd),xg.matrixWorld=VB,xg.raycast(e,Bx);for(let o=0,a=Bx.length;o<a;o++){const l=Bx[o];l.instanceId=s,l.object=this,n.push(l)}Bx.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Op(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class Fi extends Hr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new $e(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const jB=new G,XB=new G,JB=new Gt,GM=new mh,Lx=new Lo;class jl extends xn{constructor(e=new en,n=new Fi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)jB.fromBufferAttribute(n,i-1),XB.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=jB.distanceTo(XB);e.setAttribute("lineDistance",new xt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Lx.copy(r.boundingSphere),Lx.applyMatrix4(i),Lx.radius+=s,e.ray.intersectsSphere(Lx)===!1)return;JB.copy(i).invert(),GM.copy(e.ray).applyMatrix4(JB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new G,h=new G,p=new G,g=new G,v=this.isLineSegments?2:1,x=r.index,M=r.attributes.position;if(x!==null){const y=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let A=y,C=S-1;A<C;A+=v){const P=x.getX(A),L=x.getX(A+1);if(u.fromBufferAttribute(M,P),h.fromBufferAttribute(M,L),GM.distanceSqToSegment(u,h,g,p)>l)continue;g.applyMatrix4(this.matrixWorld);const N=e.ray.origin.distanceTo(g);N<e.near||N>e.far||n.push({distance:N,point:p.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,o.start),S=Math.min(M.count,o.start+o.count);for(let A=y,C=S-1;A<C;A+=v){if(u.fromBufferAttribute(M,A),h.fromBufferAttribute(M,A+1),GM.distanceSqToSegment(u,h,g,p)>l)continue;g.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(g);L<e.near||L>e.far||n.push({distance:L,point:p.clone().applyMatrix4(this.matrixWorld),index:A,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const KB=new G,YB=new G;class pa extends jl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)KB.fromBufferAttribute(n,i),YB.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+KB.distanceTo(YB);e.setAttribute("lineDistance",new xt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class eR extends jl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class pv extends Hr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new $e(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const QB=new Gt,ET=new mh,Dx=new Lo,Fx=new G;class tR extends xn{constructor(e=new en,n=new pv){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Dx.copy(r.boundingSphere),Dx.applyMatrix4(i),Dx.radius+=s,e.ray.intersectsSphere(Dx)===!1)return;QB.copy(i).invert(),ET.copy(e.ray).applyMatrix4(QB);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,p=r.attributes.position;if(u!==null){const g=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let x=g,E=v;x<E;x++){const M=u.getX(x);Fx.fromBufferAttribute(p,M),qB(Fx,M,l,i,e,n,this)}}else{const g=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let x=g,E=v;x<E;x++)Fx.fromBufferAttribute(p,x),qB(Fx,x,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function qB(t,e,n,r,i,s,o){const a=ET.distanceSqToPoint(t);if(a<n){const l=new G;ET.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class D$ extends $n{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:or,this.magFilter=s!==void 0?s:or,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class F$ extends $n{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=_r,this.minFilter=_r,this.generateMipmaps=!1,this.needsUpdate=!0}}class nR extends $n{constructor(e,n,r,i,s,o,a,l,u,h,p,g){super(null,o,a,l,u,h,i,s,p,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class O$ extends nR{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=yi}}class N$ extends $n{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ma{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const h=r[i],g=r[i+1]-h,v=(o-h)/g;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Ie:new G);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new G,i=[],s=[],o=[],a=new G,l=new Gt;for(let v=0;v<=e;v++){const x=v/e;i[v]=this.getTangentAt(x,new G)}s[0]=new G,o[0]=new G;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),g=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),p<=u&&(u=p,r.set(0,1,0)),g<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(Ar(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,x))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(Ar(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let x=1;x<=e;x++)s[x].applyMatrix4(l.makeRotationAxis(i[x],v*x)),o[x].crossVectors(i[x],s[x])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class B1 extends ma{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Ie,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),g=l-this.aX,v=u-this.aY;l=g*h-v*p+this.aX,u=g*p+v*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class uk extends B1{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function rR(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,p){let g=(o-s)/u-(a-s)/(u+h)+(a-o)/h,v=(a-o)/h-(l-o)/(h+p)+(l-a)/p;g*=h,v*=h,i(o,a,g,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Ox=new G,VM=new rR,WM=new rR,jM=new rR;class ck extends ma{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new G){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=i[(a-1)%s]:(Ox.subVectors(i[0],i[1]).add(i[0]),u=Ox);const p=i[a%s],g=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(Ox.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=Ox),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let x=Math.pow(u.distanceToSquared(p),v),E=Math.pow(p.distanceToSquared(g),v),M=Math.pow(g.distanceToSquared(h),v);E<1e-4&&(E=1),x<1e-4&&(x=E),M<1e-4&&(M=E),VM.initNonuniformCatmullRom(u.x,p.x,g.x,h.x,x,E,M),WM.initNonuniformCatmullRom(u.y,p.y,g.y,h.y,x,E,M),jM.initNonuniformCatmullRom(u.z,p.z,g.z,h.z,x,E,M)}else this.curveType==="catmullrom"&&(VM.initCatmullRom(u.x,p.x,g.x,h.x,this.tension),WM.initCatmullRom(u.y,p.y,g.y,h.y,this.tension),jM.initCatmullRom(u.z,p.z,g.z,h.z,this.tension));return r.set(VM.calc(l),WM.calc(l),jM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new G().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ZB(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function U$(t,e){const n=1-t;return n*n*e}function k$(t,e){return 2*(1-t)*t*e}function H$(t,e){return t*t*e}function t0(t,e,n,r){return U$(t,e)+k$(t,n)+H$(t,r)}function z$(t,e){const n=1-t;return n*n*n*e}function G$(t,e){const n=1-t;return 3*n*n*t*e}function V$(t,e){return 3*(1-t)*t*t*e}function W$(t,e){return t*t*t*e}function n0(t,e,n,r,i){return z$(t,e)+G$(t,n)+V$(t,r)+W$(t,i)}class iR extends ma{constructor(e=new Ie,n=new Ie,r=new Ie,i=new Ie){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ie){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(n0(e,i.x,s.x,o.x,a.x),n0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class fk extends ma{constructor(e=new G,n=new G,r=new G,i=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new G){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(n0(e,i.x,s.x,o.x,a.x),n0(e,i.y,s.y,o.y,a.y),n0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L1 extends ma{constructor(e=new Ie,n=new Ie){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ie){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ie){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hk extends ma{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class sR extends ma{constructor(e=new Ie,n=new Ie,r=new Ie){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ie){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(t0(e,i.x,s.x,o.x),t0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class oR extends ma{constructor(e=new G,n=new G,r=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new G){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(t0(e,i.x,s.x,o.x),t0(e,i.y,s.y,o.y),t0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class aR extends ma{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ie){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],h=i[o>i.length-2?i.length-1:o+1],p=i[o>i.length-3?i.length-1:o+2];return r.set(ZB(a,l.x,u.x,h.x,p.x),ZB(a,l.y,u.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ie().fromArray(i))}return this}}var lR=Object.freeze({__proto__:null,ArcCurve:uk,CatmullRomCurve3:ck,CubicBezierCurve:iR,CubicBezierCurve3:fk,EllipseCurve:B1,LineCurve:L1,LineCurve3:hk,QuadraticBezierCurve:sR,QuadraticBezierCurve3:oR,SplineCurve:aR});class dk extends ma{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);e.equals(n)||this.curves.push(new L1(n,e))}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new lR[i.type]().fromJSON(i))}return this}}class j0 extends dk{constructor(e){super(),this.type="Path",this.currentPoint=new Ie,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new L1(this.currentPoint.clone(),new Ie(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new sR(this.currentPoint.clone(),new Ie(e,n),new Ie(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new iR(this.currentPoint.clone(),new Ie(e,n),new Ie(r,i),new Ie(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new aR(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,n+h,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new B1(e,n,r,i,s,o,a,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class nm extends en{constructor(e=[new Ie(0,-.5),new Ie(.5,0),new Ie(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Ar(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/n,p=new G,g=new Ie,v=new G,x=new G,E=new G;let M=0,y=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:M=e[S+1].x-e[S].x,y=e[S+1].y-e[S].y,v.x=y*1,v.y=-M,v.z=y*0,E.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(E.x,E.y,E.z);break;default:M=e[S+1].x-e[S].x,y=e[S+1].y-e[S].y,v.x=y*1,v.y=-M,v.z=y*0,x.copy(v),v.x+=E.x,v.y+=E.y,v.z+=E.z,v.normalize(),l.push(v.x,v.y,v.z),E.copy(x)}for(let S=0;S<=n;S++){const A=r+S*h*i,C=Math.sin(A),P=Math.cos(A);for(let L=0;L<=e.length-1;L++){p.x=e[L].x*C,p.y=e[L].y,p.z=e[L].x*P,o.push(p.x,p.y,p.z),g.x=S/n,g.y=L/(e.length-1),a.push(g.x,g.y);const D=l[3*L+0]*C,N=l[3*L+1],I=l[3*L+0]*P;u.push(D,N,I)}}for(let S=0;S<n;S++)for(let A=0;A<e.length-1;A++){const C=A+S*e.length,P=C,L=C+e.length,D=C+e.length+1,N=C+1;s.push(P,L,N),s.push(D,N,L)}this.setIndex(s),this.setAttribute("position",new xt(o,3)),this.setAttribute("uv",new xt(a,2)),this.setAttribute("normal",new xt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nm(e.points,e.segments,e.phiStart,e.phiLength)}}class mv extends nm{constructor(e=1,n=1,r=4,i=8){const s=new j0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new mv(e.radius,e.length,e.capSegments,e.radialSegments)}}class gv extends en{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new G,h=new Ie;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,g=3;p<=n;p++,g+=3){const v=r+p/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[g]/e+1)/2,h.y=(o[g+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=n;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new xt(o,3)),this.setAttribute("normal",new xt(a,3)),this.setAttribute("uv",new xt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gv(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class gh extends en{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],p=[],g=[],v=[];let x=0;const E=[],M=r/2;let y=0;S(),o===!1&&(e>0&&A(!0),n>0&&A(!1)),this.setIndex(h),this.setAttribute("position",new xt(p,3)),this.setAttribute("normal",new xt(g,3)),this.setAttribute("uv",new xt(v,2));function S(){const C=new G,P=new G;let L=0;const D=(n-e)/r;for(let N=0;N<=s;N++){const I=[],F=N/s,W=F*(n-e)+e;for(let ce=0;ce<=i;ce++){const re=ce/i,Q=re*l+a,ee=Math.sin(Q),de=Math.cos(Q);P.x=W*ee,P.y=-F*r+M,P.z=W*de,p.push(P.x,P.y,P.z),C.set(ee,D,de).normalize(),g.push(C.x,C.y,C.z),v.push(re,1-F),I.push(x++)}E.push(I)}for(let N=0;N<i;N++)for(let I=0;I<s;I++){const F=E[I][N],W=E[I+1][N],ce=E[I+1][N+1],re=E[I][N+1];h.push(F,W,re),h.push(W,ce,re),L+=6}u.addGroup(y,L,0),y+=L}function A(C){const P=x,L=new Ie,D=new G;let N=0;const I=C===!0?e:n,F=C===!0?1:-1;for(let ce=1;ce<=i;ce++)p.push(0,M*F,0),g.push(0,F,0),v.push(.5,.5),x++;const W=x;for(let ce=0;ce<=i;ce++){const Q=ce/i*l+a,ee=Math.cos(Q),de=Math.sin(Q);D.x=I*de,D.y=M*F,D.z=I*ee,p.push(D.x,D.y,D.z),g.push(0,F,0),L.x=ee*.5+.5,L.y=de*.5*F+.5,v.push(L.x,L.y),x++}for(let ce=0;ce<i;ce++){const re=P+ce,Q=W+ce;C===!0?h.push(Q,Q+1,re):h.push(Q+1,Q,re),N+=3}u.addGroup(y,N,C===!0?1:2),y+=N}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vv extends gh{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new vv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kl extends en{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),h(),this.setAttribute("position",new xt(s,3)),this.setAttribute("normal",new xt(s.slice(),3)),this.setAttribute("uv",new xt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const A=new G,C=new G,P=new G;for(let L=0;L<n.length;L+=3)v(n[L+0],A),v(n[L+1],C),v(n[L+2],P),l(A,C,P,S)}function l(S,A,C,P){const L=P+1,D=[];for(let N=0;N<=L;N++){D[N]=[];const I=S.clone().lerp(C,N/L),F=A.clone().lerp(C,N/L),W=L-N;for(let ce=0;ce<=W;ce++)ce===0&&N===L?D[N][ce]=I:D[N][ce]=I.clone().lerp(F,ce/W)}for(let N=0;N<L;N++)for(let I=0;I<2*(L-N)-1;I++){const F=Math.floor(I/2);I%2===0?(g(D[N][F+1]),g(D[N+1][F]),g(D[N][F])):(g(D[N][F+1]),g(D[N+1][F+1]),g(D[N+1][F]))}}function u(S){const A=new G;for(let C=0;C<s.length;C+=3)A.x=s[C+0],A.y=s[C+1],A.z=s[C+2],A.normalize().multiplyScalar(S),s[C+0]=A.x,s[C+1]=A.y,s[C+2]=A.z}function h(){const S=new G;for(let A=0;A<s.length;A+=3){S.x=s[A+0],S.y=s[A+1],S.z=s[A+2];const C=M(S)/2/Math.PI+.5,P=y(S)/Math.PI+.5;o.push(C,1-P)}x(),p()}function p(){for(let S=0;S<o.length;S+=6){const A=o[S+0],C=o[S+2],P=o[S+4],L=Math.max(A,C,P),D=Math.min(A,C,P);L>.9&&D<.1&&(A<.2&&(o[S+0]+=1),C<.2&&(o[S+2]+=1),P<.2&&(o[S+4]+=1))}}function g(S){s.push(S.x,S.y,S.z)}function v(S,A){const C=S*3;A.x=e[C+0],A.y=e[C+1],A.z=e[C+2]}function x(){const S=new G,A=new G,C=new G,P=new G,L=new Ie,D=new Ie,N=new Ie;for(let I=0,F=0;I<s.length;I+=9,F+=6){S.set(s[I+0],s[I+1],s[I+2]),A.set(s[I+3],s[I+4],s[I+5]),C.set(s[I+6],s[I+7],s[I+8]),L.set(o[F+0],o[F+1]),D.set(o[F+2],o[F+3]),N.set(o[F+4],o[F+5]),P.copy(S).add(A).add(C).divideScalar(3);const W=M(P);E(L,F+0,S,W),E(D,F+2,A,W),E(N,F+4,C,W)}}function E(S,A,C,P){P<0&&S.x===1&&(o[A]=S.x-1),C.x===0&&C.z===0&&(o[A]=P/2/Math.PI+.5)}function M(S){return Math.atan2(S.z,-S.x)}function y(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kl(e.vertices,e.indices,e.radius,e.details)}}class yv extends Kl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new yv(e.radius,e.detail)}}const Nx=new G,Ux=new G,XM=new G,kx=new ps;class pk extends en{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Qf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],p=new Array(3),g={},v=[];for(let x=0;x<l;x+=3){o?(u[0]=o.getX(x),u[1]=o.getX(x+1),u[2]=o.getX(x+2)):(u[0]=x,u[1]=x+1,u[2]=x+2);const{a:E,b:M,c:y}=kx;if(E.fromBufferAttribute(a,u[0]),M.fromBufferAttribute(a,u[1]),y.fromBufferAttribute(a,u[2]),kx.getNormal(XM),p[0]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,p[1]=`${Math.round(M.x*i)},${Math.round(M.y*i)},${Math.round(M.z*i)}`,p[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let S=0;S<3;S++){const A=(S+1)%3,C=p[S],P=p[A],L=kx[h[S]],D=kx[h[A]],N=`${C}_${P}`,I=`${P}_${C}`;I in g&&g[I]?(XM.dot(g[I].normal)<=s&&(v.push(L.x,L.y,L.z),v.push(D.x,D.y,D.z)),g[I]=null):N in g||(g[N]={index0:u[S],index1:u[A],normal:XM.clone()})}}for(const x in g)if(g[x]){const{index0:E,index1:M}=g[x];Nx.fromBufferAttribute(a,E),Ux.fromBufferAttribute(a,M),v.push(Nx.x,Nx.y,Nx.z),v.push(Ux.x,Ux.y,Ux.z)}this.setAttribute("position",new xt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Zf extends j0{constructor(e){super(e),this.uuid=Vs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new j0().fromJSON(i))}return this}}const j$={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=mk(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,p,g,v;if(r&&(s=Q$(t,e,s,n)),t.length>80*n){a=u=t[0],l=h=t[1];for(let x=n;x<i;x+=n)p=t[x],g=t[x+1],p<a&&(a=p),g<l&&(l=g),p>u&&(u=p),g>h&&(h=g);v=Math.max(u-a,h-l),v=v!==0?32767/v:0}return X0(s,o,n,a,l,v,0),o}};function mk(t,e,n,r,i){let s,o;if(i===aee(t,e,n,r)>0)for(s=e;s<n;s+=r)o=$B(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=$B(s,t[s],t[s+1],o);return o&&D1(o,o.next)&&(K0(o),o=o.next),o}function ch(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(D1(n,n.next)||ar(n.prev,n,n.next)===0)){if(K0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function X0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&tee(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?J$(t,r,i,s):X$(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),K0(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=K$(ch(t),e,n),X0(t,e,n,r,i,s,2)):o===2&&Y$(t,e,n,r,i,s):X0(ch(t),e,n,r,i,s,1);break}}}function X$(t){const e=t.prev,n=t,r=t.next;if(ar(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,h=i<s?i<o?i:o:s<o?s:o,p=a<l?a<u?a:u:l<u?l:u,g=i>s?i>o?i:o:s>o?s:o,v=a>l?a>u?a:u:l>u?l:u;let x=r.next;for(;x!==e;){if(x.x>=h&&x.x<=g&&x.y>=p&&x.y<=v&&Zd(i,a,s,l,o,u,x.x,x.y)&&ar(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function J$(t,e,n,r){const i=t.prev,s=t,o=t.next;if(ar(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,h=i.y,p=s.y,g=o.y,v=a<l?a<u?a:u:l<u?l:u,x=h<p?h<g?h:g:p<g?p:g,E=a>l?a>u?a:u:l>u?l:u,M=h>p?h>g?h:g:p>g?p:g,y=TT(v,x,e,n,r),S=TT(E,M,e,n,r);let A=t.prevZ,C=t.nextZ;for(;A&&A.z>=y&&C&&C.z<=S;){if(A.x>=v&&A.x<=E&&A.y>=x&&A.y<=M&&A!==i&&A!==o&&Zd(a,h,l,p,u,g,A.x,A.y)&&ar(A.prev,A,A.next)>=0||(A=A.prevZ,C.x>=v&&C.x<=E&&C.y>=x&&C.y<=M&&C!==i&&C!==o&&Zd(a,h,l,p,u,g,C.x,C.y)&&ar(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;A&&A.z>=y;){if(A.x>=v&&A.x<=E&&A.y>=x&&A.y<=M&&A!==i&&A!==o&&Zd(a,h,l,p,u,g,A.x,A.y)&&ar(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;C&&C.z<=S;){if(C.x>=v&&C.x<=E&&C.y>=x&&C.y<=M&&C!==i&&C!==o&&Zd(a,h,l,p,u,g,C.x,C.y)&&ar(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function K$(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!D1(i,s)&&gk(i,r,r.next,s)&&J0(i,s)&&J0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),K0(r),K0(r.next),r=t=s),r=r.next}while(r!==t);return ch(r)}function Y$(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&iee(o,a)){let l=vk(o,a);o=ch(o,o.next),l=ch(l,l.next),X0(o,e,n,r,i,s,0),X0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Q$(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=mk(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(ree(u));for(i.sort(q$),s=0;s<i.length;s++)n=Z$(i[s],n);return n}function q$(t,e){return t.x-e.x}function Z$(t,e){const n=$$(t,e);if(!n)return e;const r=vk(n,t);return ch(r,r.next),ch(n,n.next)}function $$(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const g=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(g<=s&&g>r&&(r=g,i=n.x<n.next.x?n:n.next,g===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let h=1/0,p;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Zd(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(p=Math.abs(o-n.y)/(s-n.x),J0(n,t)&&(p<h||p===h&&(n.x>i.x||n.x===i.x&&eee(i,n)))&&(i=n,h=p)),n=n.next;while(n!==a);return i}function eee(t,e){return ar(t.prev,t,e.prev)<0&&ar(e.next,t,t.next)<0}function tee(t,e,n,r){let i=t;do i.z===0&&(i.z=TT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,nee(i)}function nee(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function TT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function ree(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Zd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function iee(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!see(t,e)&&(J0(t,e)&&J0(e,t)&&oee(t,e)&&(ar(t.prev,t,e.prev)||ar(t,e.prev,e))||D1(t,e)&&ar(t.prev,t,t.next)>0&&ar(e.prev,e,e.next)>0)}function ar(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function D1(t,e){return t.x===e.x&&t.y===e.y}function gk(t,e,n,r){const i=zx(ar(t,e,n)),s=zx(ar(t,e,r)),o=zx(ar(n,r,t)),a=zx(ar(n,r,e));return!!(i!==s&&o!==a||i===0&&Hx(t,n,e)||s===0&&Hx(t,r,e)||o===0&&Hx(n,t,r)||a===0&&Hx(n,e,r))}function Hx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function zx(t){return t>0?1:t<0?-1:0}function see(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&gk(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function J0(t,e){return ar(t.prev,t,t.next)<0?ar(t,e,t.next)>=0&&ar(t,t.prev,e)>=0:ar(t,e,t.prev)<0||ar(t,t.next,e)<0}function oee(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function vk(t,e){const n=new CT(t.i,t.x,t.y),r=new CT(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function $B(t,e,n,r){const i=new CT(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function K0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function CT(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aee(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Xa{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Xa.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];eL(e),tL(r,e);let o=e.length;n.forEach(eL);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,tL(r,n[l]);const a=j$.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function eL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function tL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class xv extends en{constructor(e=new Zf([new Ie(.5,.5),new Ie(-.5,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new xt(i,3)),this.setAttribute("uv",new xt(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:v-.1,E=n.bevelOffset!==void 0?n.bevelOffset:0,M=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:lee;let A,C=!1,P,L,D,N;y&&(A=y.getSpacedPoints(h),C=!0,g=!1,P=y.computeFrenetFrames(h,!1),L=new G,D=new G,N=new G),g||(M=0,v=0,x=0,E=0);const I=a.extractPoints(u);let F=I.shape;const W=I.holes;if(!Xa.isClockWise(F)){F=F.reverse();for(let K=0,De=W.length;K<De;K++){const Se=W[K];Xa.isClockWise(Se)&&(W[K]=Se.reverse())}}const re=Xa.triangulateShape(F,W),Q=F;for(let K=0,De=W.length;K<De;K++){const Se=W[K];F=F.concat(Se)}function ee(K,De,Se){return De||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(De,Se)}const de=F.length,le=re.length;function V(K,De,Se){let Ne,Be,Ke;const qe=K.x-De.x,rt=K.y-De.y,gt=Se.x-K.x,Et=Se.y-K.y,fn=qe*qe+rt*rt,J=qe*Et-rt*gt;if(Math.abs(J)>Number.EPSILON){const H=Math.sqrt(fn),Ae=Math.sqrt(gt*gt+Et*Et),We=De.x-rt/H,Ue=De.y+qe/H,Ye=Se.x-Et/Ae,dt=Se.y+gt/Ae,Qe=((Ye-We)*Et-(dt-Ue)*gt)/(qe*Et-rt*gt);Ne=We+qe*Qe-K.x,Be=Ue+rt*Qe-K.y;const Ce=Ne*Ne+Be*Be;if(Ce<=2)return new Ie(Ne,Be);Ke=Math.sqrt(Ce/2)}else{let H=!1;qe>Number.EPSILON?gt>Number.EPSILON&&(H=!0):qe<-Number.EPSILON?gt<-Number.EPSILON&&(H=!0):Math.sign(rt)===Math.sign(Et)&&(H=!0),H?(Ne=-rt,Be=qe,Ke=Math.sqrt(fn)):(Ne=qe,Be=rt,Ke=Math.sqrt(fn/2))}return new Ie(Ne/Ke,Be/Ke)}const te=[];for(let K=0,De=Q.length,Se=De-1,Ne=K+1;K<De;K++,Se++,Ne++)Se===De&&(Se=0),Ne===De&&(Ne=0),te[K]=V(Q[K],Q[Se],Q[Ne]);const ie=[];let he,ne=te.concat();for(let K=0,De=W.length;K<De;K++){const Se=W[K];he=[];for(let Ne=0,Be=Se.length,Ke=Be-1,qe=Ne+1;Ne<Be;Ne++,Ke++,qe++)Ke===Be&&(Ke=0),qe===Be&&(qe=0),he[Ne]=V(Se[Ne],Se[Ke],Se[qe]);ie.push(he),ne=ne.concat(he)}for(let K=0;K<M;K++){const De=K/M,Se=v*Math.cos(De*Math.PI/2),Ne=x*Math.sin(De*Math.PI/2)+E;for(let Be=0,Ke=Q.length;Be<Ke;Be++){const qe=ee(Q[Be],te[Be],Ne);Ge(qe.x,qe.y,-Se)}for(let Be=0,Ke=W.length;Be<Ke;Be++){const qe=W[Be];he=ie[Be];for(let rt=0,gt=qe.length;rt<gt;rt++){const Et=ee(qe[rt],he[rt],Ne);Ge(Et.x,Et.y,-Se)}}}const ye=x+E;for(let K=0;K<de;K++){const De=g?ee(F[K],ne[K],ye):F[K];C?(D.copy(P.normals[0]).multiplyScalar(De.x),L.copy(P.binormals[0]).multiplyScalar(De.y),N.copy(A[0]).add(D).add(L),Ge(N.x,N.y,N.z)):Ge(De.x,De.y,0)}for(let K=1;K<=h;K++)for(let De=0;De<de;De++){const Se=g?ee(F[De],ne[De],ye):F[De];C?(D.copy(P.normals[K]).multiplyScalar(Se.x),L.copy(P.binormals[K]).multiplyScalar(Se.y),N.copy(A[K]).add(D).add(L),Ge(N.x,N.y,N.z)):Ge(Se.x,Se.y,p/h*K)}for(let K=M-1;K>=0;K--){const De=K/M,Se=v*Math.cos(De*Math.PI/2),Ne=x*Math.sin(De*Math.PI/2)+E;for(let Be=0,Ke=Q.length;Be<Ke;Be++){const qe=ee(Q[Be],te[Be],Ne);Ge(qe.x,qe.y,p+Se)}for(let Be=0,Ke=W.length;Be<Ke;Be++){const qe=W[Be];he=ie[Be];for(let rt=0,gt=qe.length;rt<gt;rt++){const Et=ee(qe[rt],he[rt],Ne);C?Ge(Et.x,Et.y+A[h-1].y,A[h-1].x+Se):Ge(Et.x,Et.y,p+Se)}}}Me(),Te();function Me(){const K=i.length/3;if(g){let De=0,Se=de*De;for(let Ne=0;Ne<le;Ne++){const Be=re[Ne];ut(Be[2]+Se,Be[1]+Se,Be[0]+Se)}De=h+M*2,Se=de*De;for(let Ne=0;Ne<le;Ne++){const Be=re[Ne];ut(Be[0]+Se,Be[1]+Se,Be[2]+Se)}}else{for(let De=0;De<le;De++){const Se=re[De];ut(Se[2],Se[1],Se[0])}for(let De=0;De<le;De++){const Se=re[De];ut(Se[0]+de*h,Se[1]+de*h,Se[2]+de*h)}}r.addGroup(K,i.length/3-K,0)}function Te(){const K=i.length/3;let De=0;Le(Q,De),De+=Q.length;for(let Se=0,Ne=W.length;Se<Ne;Se++){const Be=W[Se];Le(Be,De),De+=Be.length}r.addGroup(K,i.length/3-K,1)}function Le(K,De){let Se=K.length;for(;--Se>=0;){const Ne=Se;let Be=Se-1;Be<0&&(Be=K.length-1);for(let Ke=0,qe=h+M*2;Ke<qe;Ke++){const rt=de*Ke,gt=de*(Ke+1),Et=De+Ne+rt,fn=De+Be+rt,J=De+Be+gt,H=De+Ne+gt;et(Et,fn,J,H)}}}function Ge(K,De,Se){l.push(K),l.push(De),l.push(Se)}function ut(K,De,Se){mt(K),mt(De),mt(Se);const Ne=i.length/3,Be=S.generateTopUV(r,i,Ne-3,Ne-2,Ne-1);He(Be[0]),He(Be[1]),He(Be[2])}function et(K,De,Se,Ne){mt(K),mt(De),mt(Ne),mt(De),mt(Se),mt(Ne);const Be=i.length/3,Ke=S.generateSideWallUV(r,i,Be-6,Be-3,Be-2,Be-1);He(Ke[0]),He(Ke[1]),He(Ke[3]),He(Ke[1]),He(Ke[2]),He(Ke[3])}function mt(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function He(K){s.push(K.x),s.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return uee(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new lR[i.type]().fromJSON(i)),new xv(r,e.options)}}const lee={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new Ie(s,o),new Ie(a,l),new Ie(u,h)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],h=e[r*3+1],p=e[r*3+2],g=e[i*3],v=e[i*3+1],x=e[i*3+2],E=e[s*3],M=e[s*3+1],y=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new Ie(o,1-l),new Ie(u,1-p),new Ie(g,1-x),new Ie(E,1-y)]:[new Ie(a,1-l),new Ie(h,1-p),new Ie(v,1-x),new Ie(M,1-y)]}};function uee(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class _v extends Kl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new _v(e.radius,e.detail)}}class rm extends Kl{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rm(e.radius,e.detail)}}class Av extends en{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],h=[];let p=e;const g=(n-e)/i,v=new G,x=new Ie;for(let E=0;E<=i;E++){for(let M=0;M<=r;M++){const y=s+M/r*o;v.x=p*Math.cos(y),v.y=p*Math.sin(y),l.push(v.x,v.y,v.z),u.push(0,0,1),x.x=(v.x/n+1)/2,x.y=(v.y/n+1)/2,h.push(x.x,x.y)}p+=g}for(let E=0;E<i;E++){const M=E*(r+1);for(let y=0;y<r;y++){const S=y+M,A=S,C=S+r+1,P=S+r+2,L=S+1;a.push(A,C,L),a.push(C,P,L)}}this.setIndex(a),this.setAttribute("position",new xt(l,3)),this.setAttribute("normal",new xt(u,3)),this.setAttribute("uv",new xt(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Av(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Sv extends en{constructor(e=new Zf([new Ie(0,.5),new Ie(-.5,-.5),new Ie(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new xt(i,3)),this.setAttribute("normal",new xt(s,3)),this.setAttribute("uv",new xt(o,2));function u(h){const p=i.length/3,g=h.extractPoints(n);let v=g.shape;const x=g.holes;Xa.isClockWise(v)===!1&&(v=v.reverse());for(let M=0,y=x.length;M<y;M++){const S=x[M];Xa.isClockWise(S)===!0&&(x[M]=S.reverse())}const E=Xa.triangulateShape(v,x);for(let M=0,y=x.length;M<y;M++){const S=x[M];v=v.concat(S)}for(let M=0,y=v.length;M<y;M++){const S=v[M];i.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let M=0,y=E.length;M<y;M++){const S=E[M],A=S[0]+p,C=S[1]+p,P=S[2]+p;r.push(A,C,P),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return cee(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new Sv(r,e.curveSegments)}}function cee(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class im extends en{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const h=[],p=new G,g=new G,v=[],x=[],E=[],M=[];for(let y=0;y<=r;y++){const S=[],A=y/r;let C=0;y===0&&o===0?C=.5/n:y===r&&l===Math.PI&&(C=-.5/n);for(let P=0;P<=n;P++){const L=P/n;p.x=-e*Math.cos(i+L*s)*Math.sin(o+A*a),p.y=e*Math.cos(o+A*a),p.z=e*Math.sin(i+L*s)*Math.sin(o+A*a),x.push(p.x,p.y,p.z),g.copy(p).normalize(),E.push(g.x,g.y,g.z),M.push(L+C,1-A),S.push(u++)}h.push(S)}for(let y=0;y<r;y++)for(let S=0;S<n;S++){const A=h[y][S+1],C=h[y][S],P=h[y+1][S],L=h[y+1][S+1];(y!==0||o>0)&&v.push(A,C,L),(y!==r-1||l<Math.PI)&&v.push(C,P,L)}this.setIndex(v),this.setAttribute("position",new xt(x,3)),this.setAttribute("normal",new xt(E,3)),this.setAttribute("uv",new xt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new im(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Mv extends Kl{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Mv(e.radius,e.detail)}}class wv extends en{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],h=new G,p=new G,g=new G;for(let v=0;v<=r;v++)for(let x=0;x<=i;x++){const E=x/i*s,M=v/r*Math.PI*2;p.x=(e+n*Math.cos(M))*Math.cos(E),p.y=(e+n*Math.cos(M))*Math.sin(E),p.z=n*Math.sin(M),a.push(p.x,p.y,p.z),h.x=e*Math.cos(E),h.y=e*Math.sin(E),g.subVectors(p,h).normalize(),l.push(g.x,g.y,g.z),u.push(x/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let x=1;x<=i;x++){const E=(i+1)*v+x-1,M=(i+1)*(v-1)+x-1,y=(i+1)*(v-1)+x,S=(i+1)*v+x;o.push(E,M,S),o.push(M,y,S)}this.setIndex(o),this.setAttribute("position",new xt(a,3)),this.setAttribute("normal",new xt(l,3)),this.setAttribute("uv",new xt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wv(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Ev extends en{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],h=[],p=new G,g=new G,v=new G,x=new G,E=new G,M=new G,y=new G;for(let A=0;A<=r;++A){const C=A/r*s*Math.PI*2;S(C,s,o,e,v),S(C+.01,s,o,e,x),M.subVectors(x,v),y.addVectors(x,v),E.crossVectors(M,y),y.crossVectors(E,M),E.normalize(),y.normalize();for(let P=0;P<=i;++P){const L=P/i*Math.PI*2,D=-n*Math.cos(L),N=n*Math.sin(L);p.x=v.x+(D*y.x+N*E.x),p.y=v.y+(D*y.y+N*E.y),p.z=v.z+(D*y.z+N*E.z),l.push(p.x,p.y,p.z),g.subVectors(p,v).normalize(),u.push(g.x,g.y,g.z),h.push(A/r),h.push(P/i)}}for(let A=1;A<=r;A++)for(let C=1;C<=i;C++){const P=(i+1)*(A-1)+(C-1),L=(i+1)*A+(C-1),D=(i+1)*A+C,N=(i+1)*(A-1)+C;a.push(P,L,N),a.push(L,D,N)}this.setIndex(a),this.setAttribute("position",new xt(l,3)),this.setAttribute("normal",new xt(u,3)),this.setAttribute("uv",new xt(h,2));function S(A,C,P,L,D){const N=Math.cos(A),I=Math.sin(A),F=P/C*A,W=Math.cos(F);D.x=L*(2+W)*.5*N,D.y=L*(2+W)*I*.5,D.z=L*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ev(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Tv extends en{constructor(e=new oR(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new G,l=new G,u=new Ie;let h=new G;const p=[],g=[],v=[],x=[];E(),this.setIndex(x),this.setAttribute("position",new xt(p,3)),this.setAttribute("normal",new xt(g,3)),this.setAttribute("uv",new xt(v,2));function E(){for(let A=0;A<n;A++)M(A);M(s===!1?n:0),S(),y()}function M(A){h=e.getPointAt(A/n,h);const C=o.normals[A],P=o.binormals[A];for(let L=0;L<=i;L++){const D=L/i*Math.PI*2,N=Math.sin(D),I=-Math.cos(D);l.x=I*C.x+N*P.x,l.y=I*C.y+N*P.y,l.z=I*C.z+N*P.z,l.normalize(),g.push(l.x,l.y,l.z),a.x=h.x+r*l.x,a.y=h.y+r*l.y,a.z=h.z+r*l.z,p.push(a.x,a.y,a.z)}}function y(){for(let A=1;A<=n;A++)for(let C=1;C<=i;C++){const P=(i+1)*(A-1)+(C-1),L=(i+1)*A+(C-1),D=(i+1)*A+C,N=(i+1)*(A-1)+C;x.push(P,L,N),x.push(L,D,N)}}function S(){for(let A=0;A<=n;A++)for(let C=0;C<=i;C++)u.x=A/n,u.y=C/i,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Tv(new lR[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class yk extends en{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new G,s=new G;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const p=l[u],g=p.start,v=p.count;for(let x=g,E=g+v;x<E;x+=3)for(let M=0;M<3;M++){const y=a.getX(x+M),S=a.getX(x+(M+1)%3);i.fromBufferAttribute(o,y),s.fromBufferAttribute(o,S),nL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,p=3*a+(u+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,p),nL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new xt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function nL(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var rL=Object.freeze({__proto__:null,BoxGeometry:Pc,CapsuleGeometry:mv,CircleGeometry:gv,ConeGeometry:vv,CylinderGeometry:gh,DodecahedronGeometry:yv,EdgesGeometry:pk,ExtrudeGeometry:xv,IcosahedronGeometry:_v,LatheGeometry:nm,OctahedronGeometry:rm,PlaneGeometry:em,PolyhedronGeometry:Kl,RingGeometry:Av,ShapeGeometry:Sv,SphereGeometry:im,TetrahedronGeometry:Mv,TorusGeometry:wv,TorusKnotGeometry:Ev,TubeGeometry:Tv,WireframeGeometry:yk});class xk extends Hr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new $e(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class _k extends Za{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Cv extends Hr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new $e(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class el extends Cv{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ie(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ar(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new $e(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new $e(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new $e(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Ak extends Hr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new $e(16777215),this.specular=new $e(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Sk extends Hr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new $e(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Mk extends Hr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wk extends Hr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new $e(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new $e(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=lv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ek extends Hr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new $e(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Rc,this.normalScale=new Ie(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Tk extends Fi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function _o(t,e,n){return uR(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function Gf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function uR(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ck(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function bT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function cR(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function fee(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),p=[],g=[];for(let v=0;v<u.times.length;++v){const x=u.times[v]*i;if(!(x<n||x>=r)){p.push(u.times[v]);for(let E=0;E<h;++E)g.push(u.values[v*h+E])}}p.length!==0&&(u.times=Gf(p,u.times.constructor),u.values=Gf(g,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function hee(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(y){return y.name===a.name&&y.ValueTypeName===l});if(u===void 0)continue;let h=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let g=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=v/3);const x=a.times.length-1;let E;if(s<=a.times[0]){const y=h,S=p-h;E=_o(a.values,y,S)}else if(s>=a.times[x]){const y=x*p+h,S=y+p-h;E=_o(a.values,y,S)}else{const y=a.createInterpolant(),S=h,A=p-h;y.evaluate(s),E=_o(y.resultBuffer,S,A)}l==="quaternion"&&new Yr().fromArray(E).normalize().conjugate().toArray(E);const M=u.times.length;for(let y=0;y<M;++y){const S=y*v+g;if(l==="quaternion")Yr.multiplyQuaternionsFlat(u.values,S,E,0,u.values,S);else{const A=v-g*2;for(let C=0;C<A;++C)u.values[S+C]-=E[C]}}}return t.blendMode=Ub,t}const dee={arraySlice:_o,convertArray:Gf,isTypedArray:uR,getKeyframeOrder:Ck,sortedArray:bT,flattenJSON:cR,subclip:fee,makeClipAdditive:hee};class sm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class bk extends sm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:kf,endingEnd:kf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Hf:s=e,a=2*n-r;break;case z0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Hf:o=e,l=2*r-n;break;case z0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,h=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,p=this._offsetNext,g=this._weightPrev,v=this._weightNext,x=(r-n)/(i-n),E=x*x,M=E*x,y=-g*M+2*g*E-g*x,S=(1+g)*M+(-1.5-2*g)*E+(-.5+g)*x+1,A=(-1-v)*M+(1.5+v)*E+.5*x,C=v*M-v*E;for(let P=0;P!==a;++P)s[P]=y*o[h+P]+S*o[u+P]+A*o[l+P]+C*o[p+P];return s}}class fR extends sm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(r-n)/(i-n),p=1-h;for(let g=0;g!==a;++g)s[g]=o[u+g]*p+o[l+g]*h;return s}}class Rk extends sm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ga{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gf(n,this.TimeBufferType),this.values=Gf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Gf(e.times,Array),values:Gf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Rk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new fR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new bk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Lp:n=this.InterpolantFactoryMethodDiscrete;break;case uh:n=this.InterpolantFactoryMethodLinear;break;case E_:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Lp;case this.InterpolantFactoryMethodLinear:return uh;case this.InterpolantFactoryMethodSmooth:return E_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=_o(r,s,o),this.values=_o(this.values,s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&uR(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=_o(this.times),n=_o(this.values),r=this.getValueSize(),i=this.getInterpolation()===E_,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(i)l=!0;else{const p=a*r,g=p-r,v=p+r;for(let x=0;x!==r;++x){const E=n[p+x];if(E!==n[g+x]||E!==n[v+x]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const p=a*r,g=o*r;for(let v=0;v!==r;++v)n[g+v]=n[p+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=_o(e,0,o),this.values=_o(n,0,o*r)):(this.times=e,this.values=n),this}clone(){const e=_o(this.times,0),n=_o(this.values,0),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ga.prototype.TimeBufferType=Float32Array;ga.prototype.ValueBufferType=Float32Array;ga.prototype.DefaultInterpolation=uh;class vh extends ga{}vh.prototype.ValueTypeName="bool";vh.prototype.ValueBufferType=Array;vh.prototype.DefaultInterpolation=Lp;vh.prototype.InterpolantFactoryMethodLinear=void 0;vh.prototype.InterpolantFactoryMethodSmooth=void 0;class hR extends ga{}hR.prototype.ValueTypeName="color";class Np extends ga{}Np.prototype.ValueTypeName="number";class Pk extends sm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let h=u+a;u!==h;u+=4)Yr.slerpFlat(s,0,o,u-a,o,u,l);return s}}class Mc extends ga{InterpolantFactoryMethodLinear(e){return new Pk(this.times,this.values,this.getValueSize(),e)}}Mc.prototype.ValueTypeName="quaternion";Mc.prototype.DefaultInterpolation=uh;Mc.prototype.InterpolantFactoryMethodSmooth=void 0;class yh extends ga{}yh.prototype.ValueTypeName="string";yh.prototype.ValueBufferType=Array;yh.prototype.DefaultInterpolation=Lp;yh.prototype.InterpolantFactoryMethodLinear=void 0;yh.prototype.InterpolantFactoryMethodSmooth=void 0;class Up extends ga{}Up.prototype.ValueTypeName="vector";class kp{constructor(e,n=-1,r,i=E1){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Vs(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(mee(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(ga.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=Ck(l);l=bT(l,1,h),u=bT(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new Np(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const p=h[1];let g=i[p];g||(i[p]=g=[]),g.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,g,v,x,E){if(v.length!==0){const M=[],y=[];cR(v,M,y,x),M.length!==0&&E.push(new p(g,M,y))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const g=u[p].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const v={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let E=0;E<g[x].morphTargets.length;E++)v[g[x].morphTargets[E]]=-1;for(const E in v){const M=[],y=[];for(let S=0;S!==g[x].morphTargets.length;++S){const A=g[x];M.push(A.time),y.push(A.morphTarget===E?1:0)}i.push(new Np(".morphTargetInfluence["+E+"]",M,y))}l=v.length*o}else{const v=".bones["+n[p].name+"]";r(Up,v+".position",g,"pos",i),r(Mc,v+".quaternion",g,"rot",i),r(Up,v+".scale",g,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pee(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Np;case"vector":case"vector2":case"vector3":case"vector4":return Up;case"color":return hR;case"quaternion":return Mc;case"bool":case"boolean":return vh;case"string":return yh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mee(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pee(t.type);if(t.times===void 0){const n=[],r=[];cR(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const fh={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class dR{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return u.push(h,p),this},this.removeHandler=function(h){const p=u.indexOf(h);return p!==-1&&u.splice(p,2),this},this.getHandler=function(h){for(let p=0,g=u.length;p<g;p+=2){const v=u[p],x=u[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return x}return null}}}const $d=new dR;let es=class{constructor(e){this.manager=e!==void 0?e:$d,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};const wl={};class gee extends Error{constructor(e,n){super(e),this.response=n}}class Xs extends es{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=fh.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(wl[e]!==void 0){wl[e].push({onLoad:n,onProgress:r,onError:i});return}wl[e]=[],wl[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=wl[e],p=u.body.getReader(),g=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),v=g?parseInt(g):0,x=v!==0;let E=0;const M=new ReadableStream({start(y){S();function S(){p.read().then(({done:A,value:C})=>{if(A)y.close();else{E+=C.byteLength;const P=new ProgressEvent("progress",{lengthComputable:x,loaded:E,total:v});for(let L=0,D=h.length;L<D;L++){const N=h[L];N.onProgress&&N.onProgress(P)}y.enqueue(C),S()}})}}});return new Response(M)}else throw new gee(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),g=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(g);return u.arrayBuffer().then(x=>v.decode(x))}}}).then(u=>{fh.add(e,u);const h=wl[e];delete wl[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const h=wl[e];if(h===void 0)throw this.manager.itemError(e),u;delete wl[e];for(let p=0,g=h.length;p<g;p++){const v=h[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vee extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Xs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=kp.parse(e[r]);n.push(i)}return n}}class yee extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new nR,l=new Xs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(p){l.load(e[p],function(g){const v=s.parse(g,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(a.minFilter=or),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let p=0,g=e.length;p<g;++p)h(p);else l.load(e,function(p){const g=s.parse(p,!0);if(g.isCubemap){const v=g.mipmaps.length/g.mipmapCount;for(let x=0;x<v;x++){o[x]={mipmaps:[]};for(let E=0;E<g.mipmapCount;E++)o[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+E]),o[x].format=g.format,o[x].width=g.width,o[x].height=g.height}a.image=o}else a.image.width=g.width,a.image.height=g.height,a.mipmaps=g.mipmaps;g.mipmapCount===1&&(a.minFilter=or),a.format=g.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Y0 extends es{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=W0("img");function l(){h(),fh.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(p){h(),i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class xee extends es{constructor(e){super(e)}load(e,n,r,i){const s=new fv;s.colorSpace=$t;const o=new Y0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class _ee extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new vp,a=new Xs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){const u=s.parse(l);u&&(u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:yi,o.wrapT=u.wrapT!==void 0?u.wrapT:yi,o.magFilter=u.magFilter!==void 0?u.magFilter:or,o.minFilter=u.minFilter!==void 0?u.minFilter:or,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=qa),u.mipmapCount===1&&(o.minFilter=or),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u))},r,i),o}}class Ik extends es{constructor(e){super(e)}load(e,n,r,i){const s=new $n,o=new Y0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Ic extends xn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new $e(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Bk extends Ic{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(xn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new $e(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const JM=new Gt,iL=new G,sL=new G;class pR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ie(512,512),this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new C1,this._frameExtents=new Ie(1,1),this._viewportCount=1,this._viewports=[new Rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;iL.setFromMatrixPosition(e.matrixWorld),n.position.copy(iL),sL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(sL),n.updateMatrixWorld(),JM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(JM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Aee extends pR{constructor(){super(new Xn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Dp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class mR extends Ic{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(xn.DEFAULT_UP),this.updateMatrix(),this.target=new xn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Aee}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oL=new Gt,Ag=new G,KM=new G;class See extends pR{constructor(){super(new Xn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ie(4,2),this._viewportCount=6,this._viewports=[new Rn(2,1,1,1),new Rn(0,1,1,1),new Rn(3,1,1,1),new Rn(1,1,1,1),new Rn(3,0,1,1),new Rn(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Ag.setFromMatrixPosition(e.matrixWorld),r.position.copy(Ag),KM.copy(r.position),KM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(KM),r.updateMatrixWorld(),i.makeTranslation(-Ag.x,-Ag.y,-Ag.z),oL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oL)}}class gR extends Ic{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new See}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Mee extends pR{constructor(){super(new Co(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vR extends Ic{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(xn.DEFAULT_UP),this.updateMatrix(),this.target=new xn,this.shadow=new Mee}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Lk extends Ic{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Dk extends Ic{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Fk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class F1 extends Ic{constructor(e=new Fk,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class O1 extends es{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=O1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new $e().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new $e().setHex(o.value);break;case"v2":i.uniforms[s].value=new Ie().fromArray(o.value);break;case"v3":i.uniforms[s].value=new G().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Rn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new an().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Gt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ie().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ie().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:xk,SpriteMaterial:qb,RawShaderMaterial:_k,ShaderMaterial:Za,PointsMaterial:pv,MeshPhysicalMaterial:el,MeshStandardMaterial:Cv,MeshPhongMaterial:Ak,MeshToonMaterial:Sk,MeshNormalMaterial:Mk,MeshLambertMaterial:wk,MeshDepthMaterial:Kb,MeshDistanceMaterial:Yb,MeshBasicMaterial:zs,MeshMatcapMaterial:Ek,LineDashedMaterial:Tk,LineBasicMaterial:Fi,Material:Hr};return new n[e]}}class Ja{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Ok extends en{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nk extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,x){if(n[x]!==void 0)return n[x];const M=v.interleavedBuffers[x],y=s(v,M.buffer),S=Qd(M.type,y),A=new hv(S,M.stride);return A.uuid=M.uuid,n[x]=A,A}function s(v,x){if(r[x]!==void 0)return r[x];const M=v.arrayBuffers[x],y=new Uint32Array(M).buffer;return r[x]=y,y}const o=e.isInstancedBufferGeometry?new Ok:new en,a=e.data.index;if(a!==void 0){const v=Qd(a.type,a.array);o.setIndex(new Mn(v,1))}const l=e.data.attributes;for(const v in l){const x=l[v];let E;if(x.isInterleavedBufferAttribute){const M=i(e.data,x.data);E=new Sc(M,x.itemSize,x.offset,x.normalized)}else{const M=Qd(x.type,x.array),y=x.isInstancedBufferAttribute?Op:Mn;E=new y(M,x.itemSize,x.normalized)}x.name!==void 0&&(E.name=x.name),x.usage!==void 0&&E.setUsage(x.usage),x.updateRange!==void 0&&(E.updateRange.offset=x.updateRange.offset,E.updateRange.count=x.updateRange.count),o.setAttribute(v,E)}const u=e.data.morphAttributes;if(u)for(const v in u){const x=u[v],E=[];for(let M=0,y=x.length;M<y;M++){const S=x[M];let A;if(S.isInterleavedBufferAttribute){const C=i(e.data,S.data);A=new Sc(C,S.itemSize,S.offset,S.normalized)}else{const C=Qd(S.type,S.array);A=new Mn(C,S.itemSize,S.normalized)}S.name!==void 0&&(A.name=S.name),E.push(A)}o.morphAttributes[v]=E}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,x=p.length;v!==x;++v){const E=p[v];o.addGroup(E.start,E.count,E.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const v=new G;g.center!==void 0&&v.fromArray(g.center),o.boundingSphere=new Lo(v,g.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class wee extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?Ja.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Xs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?Ja.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Xs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),n!==void 0){let p=!1;for(const g in o)if(o[g].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Zf().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new dv().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Nk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in rL?a=rL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new O1;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=kp.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(h)}else return l.data?{data:Qd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new dR(n);s=new Y0(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const p=e[u],g=p.url;if(Array.isArray(g)){const v=[];for(let x=0,E=g.length;x<E;x++){const M=g[x],y=a(M);y!==null&&(y instanceof HTMLImageElement?v.push(y):v.push(new vp(y.data,y.width,y.height)))}i[p.uuid]=new zf(v)}else{const v=a(p.url);i[p.uuid]=new zf(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Qd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Y0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let p=0,g=u.length;p<g;p++){const v=u[p],x=await s(v);x!==null&&(x instanceof HTMLImageElement?h.push(x):h.push(new vp(x.data,x.width,x.height)))}r[l.uuid]=new zf(h)}else{const h=await s(l.url);r[l.uuid]=new zf(h)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let h;Array.isArray(u)?(h=new fv,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new vp:h=new $n,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=r(a.mapping,Eee)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=r(a.wrap[0],aL),h.wrapT=r(a.wrap[1],aL)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=r(a.minFilter,lL)),a.magFilter!==void 0&&(h.magFilter=r(a.magFilter,lL)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),i[a.uuid]=h}return i}parseObject(e,n,r,i,s){let o;function a(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function l(g){if(g!==void 0){if(Array.isArray(g)){const v=[];for(let x=0,E=g.length;x<E;x++){const M=g[x];r[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),v.push(r[M])}return v}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function u(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let h,p;switch(e.type){case"Scene":o=new gA,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new $e(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new P1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new R1(e.fog.color,e.fog.density))),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Xn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Co(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Lk(e.color,e.intensity);break;case"DirectionalLight":o=new vR(e.color,e.intensity);break;case"PointLight":o=new gR(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Dk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new mR(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Bk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new F1().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),p=l(e.material),o=new Zb(h,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),p=l(e.material),o=new fi(h,p);break;case"InstancedMesh":h=a(e.geometry),p=l(e.material);const g=e.count,v=e.instanceMatrix,x=e.instanceColor;o=new $b(h,p,g),o.instanceMatrix=new Op(new Float32Array(v.array),16),x!==void 0&&(o.instanceColor=new Op(new Float32Array(x.array),x.itemSize));break;case"LOD":o=new lk;break;case"Line":o=new jl(a(e.geometry),l(e.material));break;case"LineLoop":o=new eR(a(e.geometry),l(e.material));break;case"LineSegments":o=new pa(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new tR(a(e.geometry),l(e.material));break;case"Sprite":o=new ak(l(e.material));break;case"Group":o=new Dl;break;case"Bone":o=new I1;break;default:o=new xn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let v=0;v<g.length;v++)o.add(this.parseObject(g[v],n,r,i,s))}if(e.animations!==void 0){const g=e.animations;for(let v=0;v<g.length;v++){const x=g[v];o.animations.push(s[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const g=e.levels;for(let v=0;v<g.length;v++){const x=g[v],E=o.getObjectByProperty("uuid",x.object);E!==void 0&&o.addLevel(E,x.distance,x.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Eee={UVMapping:S1,CubeReflectionMapping:xc,CubeRefractionMapping:_c,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:k0,CubeUVReflectionMapping:$p},aL={RepeatWrapping:Ac,ClampToEdgeWrapping:yi,MirroredRepeatWrapping:Ip},lL={NearestFilter:_r,NearestMipmapNearestFilter:H0,NearestMipmapLinearFilter:mp,LinearFilter:or,LinearMipmapNearestFilter:M1,LinearMipmapLinearFilter:qa};class Uk extends es{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fh.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){fh.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Gx;class yR{static getContext(){return Gx===void 0&&(Gx=new(window.AudioContext||window.webkitAudioContext)),Gx}static setContext(e){Gx=e}}class Tee extends es{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Xs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);yR.getContext().decodeAudioData(u,function(p){n(p)},a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}class Cee extends F1{constructor(e,n,r=1){super(void 0,r),this.isHemisphereLightProbe=!0;const i=new $e().set(e),s=new $e().set(n),o=new G(i.r,i.g,i.b),a=new G(s.r,s.g,s.b),l=Math.sqrt(Math.PI),u=l*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(l),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}}class bee extends F1{constructor(e,n=1){super(void 0,n),this.isAmbientLightProbe=!0;const r=new $e().set(e);this.sh.coefficients[0].set(r.r,r.g,r.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const uL=new Gt,cL=new Gt,yf=new Gt;class Ree{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,yf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Qf*n.fov*.5)/n.zoom;let a,l;cL.elements[12]=-i,uL.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,yf.elements[0]=2*n.near/(l-a),yf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(yf),a=-o*n.aspect-s,l=o*n.aspect-s,yf.elements[0]=2*n.near/(l-a),yf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(yf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(cL),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(uL)}}class xR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=fL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=fL();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function fL(){return(typeof performance>"u"?Date:performance).now()}const xf=new G,hL=new Yr,Pee=new G,_f=new G;class Iee extends xn{constructor(){super(),this.type="AudioListener",this.context=yR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new xR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xf,hL,Pee),_f.set(0,0,-1).applyQuaternion(hL),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(xf.x,i),n.positionY.linearRampToValueAtTime(xf.y,i),n.positionZ.linearRampToValueAtTime(xf.z,i),n.forwardX.linearRampToValueAtTime(_f.x,i),n.forwardY.linearRampToValueAtTime(_f.y,i),n.forwardZ.linearRampToValueAtTime(_f.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(xf.x,xf.y,xf.z),n.setOrientation(_f.x,_f.y,_f.z,r.x,r.y,r.z)}}class kk extends xn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Af=new G,dL=new Yr,Bee=new G,Sf=new G;class Lee extends kk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Af,dL,Bee),Sf.set(0,0,1).applyQuaternion(dL);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Af.x,r),n.positionY.linearRampToValueAtTime(Af.y,r),n.positionZ.linearRampToValueAtTime(Af.z,r),n.orientationX.linearRampToValueAtTime(Sf.x,r),n.orientationY.linearRampToValueAtTime(Sf.y,r),n.orientationZ.linearRampToValueAtTime(Sf.z,r)}else n.setPosition(Af.x,Af.y,Af.z),n.setOrientation(Sf.x,Sf.y,Sf.z)}}class Dee{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Hk{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Yr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Yr.multiplyQuaternionsFlat(e,o,e,n,e,r),Yr.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const _R="\\[\\]\\.:\\/",Fee=new RegExp("["+_R+"]","g"),AR="[^"+_R+"]",Oee="[^"+_R.replace("\\.","")+"]",Nee=/((?:WC+[\/:])*)/.source.replace("WC",AR),Uee=/(WCOD+)?/.source.replace("WCOD",Oee),kee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AR),Hee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AR),zee=new RegExp("^"+Nee+Uee+kee+Hee+"$"),Gee=["material","materials","bones","map"];class Vee{constructor(e,n,r){const i=r||yn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class yn{constructor(e,n,r){this.path=n,this.parsedPath=r||yn.parseTrackName(n),this.node=yn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new yn.Composite(e,n,r):new yn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Fee,"")}static parseTrackName(e){const n=zee.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Gee.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=yn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}yn.Composite=Vee;yn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};yn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};yn.prototype.GetterByBindingType=[yn.prototype._getValue_direct,yn.prototype._getValue_array,yn.prototype._getValue_arrayElement,yn.prototype._getValue_toArray];yn.prototype.SetterByBindingTypeAndVersioning=[[yn.prototype._setValue_direct,yn.prototype._setValue_direct_setNeedsUpdate,yn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_array,yn.prototype._setValue_array_setNeedsUpdate,yn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_arrayElement,yn.prototype._setValue_arrayElement_setNeedsUpdate,yn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[yn.prototype._setValue_fromArray,yn.prototype._setValue_fromArray_setNeedsUpdate,yn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Wee{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Vs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const g=arguments[h],v=g.uuid;let x=n[v];if(x===void 0){x=l++,n[v]=x,e.push(g);for(let E=0,M=o;E!==M;++E)s[E].push(new yn(g,r[E],i[E]))}else if(x<u){a=e[x];const E=--u,M=e[E];n[M.uuid]=x,e[x]=M,n[v]=E,e[E]=g;for(let y=0,S=o;y!==S;++y){const A=s[y],C=A[E];let P=A[x];A[x]=C,P===void 0&&(P=new yn(g,r[y],i[y])),A[E]=P}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=n[u];if(h!==void 0&&h>=s){const p=s++,g=e[p];n[g.uuid]=h,e[h]=g,n[u]=p,e[p]=l;for(let v=0,x=i;v!==x;++v){const E=r[v],M=E[p],y=E[h];E[h]=M,E[p]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,p=n[h];if(p!==void 0)if(delete n[h],p<s){const g=--s,v=e[g],x=--o,E=e[x];n[v.uuid]=p,e[p]=v,n[E.uuid]=g,e[g]=E,e.pop();for(let M=0,y=i;M!==y;++M){const S=r[M],A=S[g],C=S[x];S[p]=A,S[g]=C,S.pop()}}else{const g=--o,v=e[g];g>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let x=0,E=i;x!==E;++x){const M=r[x];M[p]=M[g],M.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,p=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(p);for(let g=h,v=l.length;g!==v;++g){const x=l[g];p[g]=new yn(x,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class zk{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:kf,endingEnd:kf};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=RU,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Ub:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case E1:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(o),u[h].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===PU;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===bU){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Hf,i.endingEnd=Hf):(e?i.endingStart=this.zeroSlopeAtStart?Hf:kf:i.endingStart=z0,n?i.endingEnd=this.zeroSlopeAtEnd?Hf:kf:i.endingEnd=z0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const jee=new Float32Array(1);class Xee extends $a{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let p=0;p!==s;++p){const g=i[p],v=g.name;let x=h[v];if(x!==void 0)++x.referenceCount,o[p]=x;else{if(x=o[p],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,l,v));continue}const E=n&&n._propertyBindings[p].binding.parsedPath;x=new Hk(yn.create(r,v,E),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,l,v),o[p]=x}a[p].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,g=(e._localRoot||this._root).uuid;delete p[g],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new fR(new Float32Array(2),new Float32Array(2),1,jee),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?kp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=E1),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===r)return p;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new zk(this,o,n,r);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?kp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,p=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=h,n[h]=p,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class SR{constructor(e){this.value=e}clone(){return new SR(this.value.clone===void 0?this.value:this.value.clone())}}let Jee=0;class Kee extends $a{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Jee++}),this.name="",this.usage=G0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class Yee extends hv{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Qee{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Gk{constructor(e,n,r=0,i=1/0){this.ray=new mh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new qf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return RT(e,this,r,n),r.sort(pL),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)RT(e[i],this,r,n);return r.sort(pL),r}}function pL(t,e){return t.distance-e.distance}function RT(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)RT(i[s],e,n,!0)}}class PT{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ar(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class qee{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const mL=new Ie;class Zee{constructor(e=new Ie(1/0,1/0),n=new Ie(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=mL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,mL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const gL=new G,Vx=new G;class $ee{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){gL.subVectors(e,this.start),Vx.subVectors(this.end,this.start);const r=Vx.dot(Vx);let s=Vx.dot(gL)/r;return n&&(s=Ar(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const vL=new G;class ete extends xn{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new en,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new xt(i,3));const s=new Fi({fog:!1,toneMapped:!1});this.cone=new pa(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),vL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(vL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fu=new G,Wx=new Gt,YM=new Gt;class tte extends pa{constructor(e){const n=Vk(e),r=new en,i=[],s=[],o=new $e(0,0,1),a=new $e(0,1,0);for(let u=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new xt(i,3)),r.setAttribute("color",new xt(s,3));const l=new Fi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");YM.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(Wx.multiplyMatrices(YM,a.matrixWorld),Fu.setFromMatrixPosition(Wx),i.setXYZ(o,Fu.x,Fu.y,Fu.z),Wx.multiplyMatrices(YM,a.parent.matrixWorld),Fu.setFromMatrixPosition(Wx),i.setXYZ(o+1,Fu.x,Fu.y,Fu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Vk(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,Vk(t.children[n]));return e}class nte extends fi{constructor(e,n,r){const i=new im(n,4,2),s=new zs({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const rte=new G,yL=new $e,xL=new $e;class ite extends xn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new rm(n);i.rotateY(Math.PI*.5),this.material=new zs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Mn(o,3)),this.add(new fi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");yL.copy(this.light.color),xL.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?yL:xL;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(rte.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ste extends pa{constructor(e=10,n=10,r=4473924,i=8947848){r=new $e(r),i=new $e(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let g=0,v=0,x=-a;g<=n;g++,x+=o){l.push(-a,0,x,a,0,x),l.push(x,0,-a,x,0,a);const E=g===s?r:i;E.toArray(u,v),v+=3,E.toArray(u,v),v+=3,E.toArray(u,v),v+=3,E.toArray(u,v),v+=3}const h=new en;h.setAttribute("position",new xt(l,3)),h.setAttribute("color",new xt(u,3));const p=new Fi({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ote extends pa{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new $e(s),o=new $e(o);const a=[],l=[];if(n>1)for(let p=0;p<n;p++){const g=p/n*(Math.PI*2),v=Math.sin(g)*e,x=Math.cos(g)*e;a.push(0,0,0),a.push(v,0,x);const E=p&1?s:o;l.push(E.r,E.g,E.b),l.push(E.r,E.g,E.b)}for(let p=0;p<r;p++){const g=p&1?s:o,v=e-e/r*p;for(let x=0;x<i;x++){let E=x/i*(Math.PI*2),M=Math.sin(E)*v,y=Math.cos(E)*v;a.push(M,0,y),l.push(g.r,g.g,g.b),E=(x+1)/i*(Math.PI*2),M=Math.sin(E)*v,y=Math.cos(E)*v,a.push(M,0,y),l.push(g.r,g.g,g.b)}}const u=new en;u.setAttribute("position",new xt(a,3)),u.setAttribute("color",new xt(l,3));const h=new Fi({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _L=new G,jx=new G,AL=new G;class ate extends xn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new en;i.setAttribute("position",new xt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Fi({fog:!1,toneMapped:!1});this.lightPlane=new jl(i,s),this.add(this.lightPlane),i=new en,i.setAttribute("position",new xt([0,0,0,0,0,1],3)),this.targetLine=new jl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_L.setFromMatrixPosition(this.light.matrixWorld),jx.setFromMatrixPosition(this.light.target.matrixWorld),AL.subVectors(jx,_L),this.lightPlane.lookAt(jx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(jx),this.targetLine.scale.z=AL.length()}}const Xx=new G,yr=new cv;class lte extends pa{constructor(e){const n=new en,r=new Fi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,E){l(x),l(E)}function l(x){i.push(0,0,0),s.push(0,0,0),o[x]===void 0&&(o[x]=[]),o[x].push(i.length/3-1)}n.setAttribute("position",new xt(i,3)),n.setAttribute("color",new xt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new $e(16755200),h=new $e(16711680),p=new $e(43775),g=new $e(16777215),v=new $e(3355443);this.setColors(u,h,p,g,v)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pr("c",n,e,yr,0,0,-1),Pr("t",n,e,yr,0,0,1),Pr("n1",n,e,yr,-r,-i,-1),Pr("n2",n,e,yr,r,-i,-1),Pr("n3",n,e,yr,-r,i,-1),Pr("n4",n,e,yr,r,i,-1),Pr("f1",n,e,yr,-r,-i,1),Pr("f2",n,e,yr,r,-i,1),Pr("f3",n,e,yr,-r,i,1),Pr("f4",n,e,yr,r,i,1),Pr("u1",n,e,yr,r*.7,i*1.1,-1),Pr("u2",n,e,yr,-r*.7,i*1.1,-1),Pr("u3",n,e,yr,0,i*2,-1),Pr("cf1",n,e,yr,-r,0,1),Pr("cf2",n,e,yr,r,0,1),Pr("cf3",n,e,yr,0,-i,1),Pr("cf4",n,e,yr,0,i,1),Pr("cn1",n,e,yr,-r,0,-1),Pr("cn2",n,e,yr,r,0,-1),Pr("cn3",n,e,yr,0,-i,-1),Pr("cn4",n,e,yr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pr(t,e,n,r,i,s,o){Xx.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],Xx.x,Xx.y,Xx.z)}}const Jx=new da;class ute extends pa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new en;s.setIndex(new Mn(r,1)),s.setAttribute("position",new Mn(i,3)),super(s,new Fi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Jx.setFromObject(this.object),Jx.isEmpty())return;const n=Jx.min,r=Jx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cte extends pa{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new en;s.setIndex(new Mn(r,1)),s.setAttribute("position",new xt(i,3)),super(s,new Fi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class fte extends jl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new en;o.setAttribute("position",new xt(s,3)),o.computeBoundingSphere(),super(o,new Fi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new en;l.setAttribute("position",new xt(a,3)),l.computeBoundingSphere(),this.add(new fi(l,new zs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const SL=new G;let Kx,QM;class hte extends xn{constructor(e=new G(0,0,1),n=new G(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Kx===void 0&&(Kx=new en,Kx.setAttribute("position",new xt([0,0,0,0,1,0],3)),QM=new gh(0,.5,1,5,1),QM.translate(0,-.5,0)),this.position.copy(n),this.line=new jl(Kx,new Fi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new fi(QM,new zs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{SL.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(SL,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class dte extends pa{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new en;i.setAttribute("position",new xt(n,3)),i.setAttribute("color",new xt(r,3));const s=new Fi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new $e,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class pte{constructor(){this.type="ShapePath",this.color=new $e,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new j0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const S=[];for(let A=0,C=y.length;A<C;A++){const P=y[A],L=new Zf;L.curves=P.curves,S.push(L)}return S}function r(y,S){const A=S.length;let C=!1;for(let P=A-1,L=0;L<A;P=L++){let D=S[P],N=S[L],I=N.x-D.x,F=N.y-D.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(D=S[L],I=-I,N=S[P],F=-F),y.y<D.y||y.y>N.y)continue;if(y.y===D.y){if(y.x===D.x)return!0}else{const W=F*(y.x-D.x)-I*(y.y-D.y);if(W===0)return!0;if(W<0)continue;C=!C}}else{if(y.y!==D.y)continue;if(N.x<=y.x&&y.x<=D.x||D.x<=y.x&&y.x<=N.x)return!0}}return C}const i=Xa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new Zf,l.curves=a.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const p=[],g=[];let v=[],x=0,E;g[x]=void 0,v[x]=[];for(let y=0,S=s.length;y<S;y++)a=s[y],E=a.getPoints(),o=i(E),o=e?!o:o,o?(!h&&g[x]&&x++,g[x]={s:new Zf,p:E},g[x].s.curves=a.curves,h&&x++,v[x]=[]):v[x].push({h:a,p:E[0]});if(!g[0])return n(s);if(g.length>1){let y=!1,S=0;for(let A=0,C=g.length;A<C;A++)p[A]=[];for(let A=0,C=g.length;A<C;A++){const P=v[A];for(let L=0;L<P.length;L++){const D=P[L];let N=!0;for(let I=0;I<g.length;I++)r(D.p,g[I].p)&&(A!==I&&S++,N?(N=!1,p[I].push(D)):y=!0);N&&p[A].push(D)}}S>0&&y===!1&&(v=p)}let M;for(let y=0,S=g.length;y<S;y++){l=g[y].s,u.push(l),M=v[y];for(let A=0,C=M.length;A<C;A++)l.holes.push(M[A].h)}return u}}class mte extends Pc{constructor(e,n,r,i,s,o){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(e,n,r,i,s,o)}}class gte extends mv{constructor(e,n,r,i){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(e,n,r,i)}}class vte extends gv{constructor(e,n,r,i){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(e,n,r,i)}}class yte extends vv{constructor(e,n,r,i,s,o,a){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(e,n,r,i,s,o,a)}}class xte extends gh{constructor(e,n,r,i,s,o,a,l){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(e,n,r,i,s,o,a,l)}}class _te extends yv{constructor(e,n){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(e,n)}}class Ate extends xv{constructor(e,n){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(e,n)}}class Ste extends _v{constructor(e,n){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(e,n)}}class Mte extends nm{constructor(e,n,r,i){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(e,n,r,i)}}class wte extends rm{constructor(e,n){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(e,n)}}class Ete extends em{constructor(e,n,r,i){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(e,n,r,i)}}class Tte extends Kl{constructor(e,n,r,i){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(e,n,r,i)}}class Cte extends Av{constructor(e,n,r,i,s,o){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(e,n,r,i,s,o)}}class bte extends Sv{constructor(e,n){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(e,n)}}class Rte extends im{constructor(e,n,r,i,s,o,a){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(e,n,r,i,s,o,a)}}class Pte extends Mv{constructor(e,n){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(e,n)}}class Ite extends wv{constructor(e,n,r,i,s){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(e,n,r,i,s)}}class Bte extends Ev{constructor(e,n,r,i,s,o){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(e,n,r,i,s,o)}}class Lte extends Tv{constructor(e,n,r,i,s){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(e,n,r,i,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Zp}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Zp);const Dte=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Ib,AddEquation:Df,AddOperation:pU,AdditiveAnimationBlendMode:Ub,AdditiveBlending:JE,AlphaFormat:AU,AlwaysCompare:VU,AlwaysDepth:aU,AlwaysStencilFunc:FU,AmbientLight:Lk,AmbientLightProbe:bee,AnimationAction:zk,AnimationClip:kp,AnimationLoader:vee,AnimationMixer:Xee,AnimationObjectGroup:Wee,AnimationUtils:dee,ArcCurve:uk,ArrayCamera:rk,ArrowHelper:hte,Audio:kk,AudioAnalyser:Dee,AudioContext:yR,AudioListener:Iee,AudioLoader:Tee,AxesHelper:dte,BackSide:qi,BasicDepthPacking:BU,BasicShadowMap:JN,Bone:I1,BooleanKeyframeTrack:vh,Box2:Zee,Box3:da,Box3Helper:cte,BoxBufferGeometry:mte,BoxGeometry:Pc,BoxHelper:ute,BufferAttribute:Mn,BufferGeometry:en,BufferGeometryLoader:Nk,ByteType:xU,Cache:fh,Camera:cv,CameraHelper:lte,CanvasTexture:N$,CapsuleBufferGeometry:gte,CapsuleGeometry:mv,CatmullRomCurve3:ck,CineonToneMapping:vU,CircleBufferGeometry:vte,CircleGeometry:gv,ClampToEdgeWrapping:yi,Clock:xR,Color:$e,ColorKeyframeTrack:hR,ColorManagement:go,CompressedArrayTexture:O$,CompressedTexture:nR,CompressedTextureLoader:yee,ConeBufferGeometry:yte,ConeGeometry:vv,CubeCamera:YU,CubeReflectionMapping:xc,CubeRefractionMapping:_c,CubeTexture:fv,CubeTextureLoader:xee,CubeUVReflectionMapping:$p,CubicBezierCurve:iR,CubicBezierCurve3:fk,CubicInterpolant:bk,CullFaceBack:XE,CullFaceFront:XN,CullFaceFrontBack:NJ,CullFaceNone:jN,Curve:ma,CurvePath:dk,CustomBlending:KN,CustomToneMapping:yU,CylinderBufferGeometry:xte,CylinderGeometry:gh,Cylindrical:qee,Data3DTexture:Wb,DataArrayTexture:T1,DataTexture:vp,DataTextureLoader:_ee,DataUtils:XK,DecrementStencilOp:XJ,DecrementWrapStencilOp:KJ,DefaultLoadingManager:$d,DepthFormat:fc,DepthStencilFormat:lh,DepthTexture:ik,DirectionalLight:vR,DirectionalLightHelper:ate,DiscreteInterpolant:Rk,DisplayP3ColorSpace:zb,DodecahedronBufferGeometry:_te,DodecahedronGeometry:yv,DoubleSide:Eo,DstAlphaFactor:tU,DstColorFactor:rU,DynamicCopyUsage:uK,DynamicDrawUsage:rK,DynamicReadUsage:oK,EdgesGeometry:pk,EllipseCurve:B1,EqualCompare:UU,EqualDepth:uU,EqualStencilFunc:ZJ,EquirectangularReflectionMapping:U0,EquirectangularRefractionMapping:k0,Euler:uv,EventDispatcher:$a,ExtrudeBufferGeometry:Ate,ExtrudeGeometry:xv,FileLoader:Xs,Float16BufferAttribute:ZK,Float32BufferAttribute:xt,Float64BufferAttribute:$K,FloatType:Ha,Fog:P1,FogExp2:R1,FramebufferTexture:F$,FrontSide:Qa,Frustum:C1,GLBufferAttribute:Qee,GLSL1:fK,GLSL3:AT,GreaterCompare:HU,GreaterDepth:fU,GreaterEqualCompare:GU,GreaterEqualDepth:cU,GreaterEqualStencilFunc:nK,GreaterStencilFunc:eK,GridHelper:ste,Group:Dl,HalfFloatType:Bp,HemisphereLight:Bk,HemisphereLightHelper:ite,HemisphereLightProbe:Cee,IcosahedronBufferGeometry:Ste,IcosahedronGeometry:_v,ImageBitmapLoader:Uk,ImageLoader:Y0,ImageUtils:Vb,IncrementStencilOp:jJ,IncrementWrapStencilOp:JJ,InstancedBufferAttribute:Op,InstancedBufferGeometry:Ok,InstancedInterleavedBuffer:Yee,InstancedMesh:$b,Int16BufferAttribute:QK,Int32BufferAttribute:qK,Int8BufferAttribute:JK,IntType:Bb,InterleavedBuffer:hv,InterleavedBufferAttribute:Sc,Interpolant:sm,InterpolateDiscrete:Lp,InterpolateLinear:uh,InterpolateSmooth:E_,InvertStencilOp:YJ,KeepStencilOp:T_,KeyframeTrack:ga,LOD:lk,LatheBufferGeometry:Mte,LatheGeometry:nm,Layers:qf,LessCompare:NU,LessDepth:lU,LessEqualCompare:kU,LessEqualDepth:hA,LessEqualStencilFunc:$J,LessStencilFunc:qJ,Light:Ic,LightProbe:F1,Line:jl,Line3:$ee,LineBasicMaterial:Fi,LineCurve:L1,LineCurve3:hk,LineDashedMaterial:Tk,LineLoop:eR,LineSegments:pa,LinearEncoding:Hb,LinearFilter:or,LinearInterpolant:fR,LinearMipMapLinearFilter:GJ,LinearMipMapNearestFilter:zJ,LinearMipmapLinearFilter:qa,LinearMipmapNearestFilter:M1,LinearSRGBColorSpace:fa,LinearToneMapping:mU,Loader:es,LoaderUtils:Ja,LoadingManager:dR,LoopOnce:bU,LoopPingPong:PU,LoopRepeat:RU,LuminanceAlphaFormat:MU,LuminanceFormat:SU,MOUSE:bf,Material:Hr,MaterialLoader:O1,MathUtils:Rl,Matrix3:an,Matrix4:Gt,MaxEquation:qE,Mesh:fi,MeshBasicMaterial:zs,MeshDepthMaterial:Kb,MeshDistanceMaterial:Yb,MeshLambertMaterial:wk,MeshMatcapMaterial:Ek,MeshNormalMaterial:Mk,MeshPhongMaterial:Ak,MeshPhysicalMaterial:el,MeshStandardMaterial:Cv,MeshToonMaterial:Sk,MinEquation:QE,MirroredRepeatWrapping:Ip,MixOperation:dU,MultiplyBlending:YE,MultiplyOperation:lv,NearestFilter:_r,NearestMipMapLinearFilter:HJ,NearestMipMapNearestFilter:kJ,NearestMipmapLinearFilter:mp,NearestMipmapNearestFilter:H0,NeverCompare:OU,NeverDepth:oU,NeverStencilFunc:QJ,NoBlending:Nl,NoColorSpace:dc,NoToneMapping:la,NormalAnimationBlendMode:E1,NormalBlending:Yf,NotEqualCompare:zU,NotEqualDepth:hU,NotEqualStencilFunc:tK,NumberKeyframeTrack:Np,Object3D:xn,ObjectLoader:wee,ObjectSpaceNormalMap:DU,OctahedronBufferGeometry:wte,OctahedronGeometry:rm,OneFactor:ZN,OneMinusDstAlphaFactor:nU,OneMinusDstColorFactor:iU,OneMinusSrcAlphaFactor:Pb,OneMinusSrcColorFactor:eU,OrthographicCamera:Co,PCFShadowMap:A1,PCFSoftShadowMap:Zg,PMREMGenerator:MT,Path:j0,PerspectiveCamera:Xn,Plane:bl,PlaneBufferGeometry:Ete,PlaneGeometry:em,PlaneHelper:fte,PointLight:gR,PointLightHelper:nte,Points:tR,PointsMaterial:pv,PolarGridHelper:ote,PolyhedronBufferGeometry:Tte,PolyhedronGeometry:Kl,PositionalAudio:Lee,PropertyBinding:yn,PropertyMixer:Hk,QuadraticBezierCurve:sR,QuadraticBezierCurve3:oR,Quaternion:Yr,QuaternionKeyframeTrack:Mc,QuaternionLinearInterpolant:Pk,RED_GREEN_RGTC2_Format:xT,RED_RGTC1_Format:CU,REVISION:Zp,RGBADepthPacking:LU,RGBAFormat:ms,RGBAIntegerFormat:Nb,RGBA_ASTC_10x10_Format:mT,RGBA_ASTC_10x5_Format:hT,RGBA_ASTC_10x6_Format:dT,RGBA_ASTC_10x8_Format:pT,RGBA_ASTC_12x10_Format:gT,RGBA_ASTC_12x12_Format:vT,RGBA_ASTC_4x4_Format:iT,RGBA_ASTC_5x4_Format:sT,RGBA_ASTC_5x5_Format:oT,RGBA_ASTC_6x5_Format:aT,RGBA_ASTC_6x6_Format:lT,RGBA_ASTC_8x5_Format:uT,RGBA_ASTC_8x6_Format:cT,RGBA_ASTC_8x8_Format:fT,RGBA_BPTC_Format:w_,RGBA_ETC2_EAC_Format:rT,RGBA_PVRTC_2BPPV1_Format:tT,RGBA_PVRTC_4BPPV1_Format:eT,RGBA_S3TC_DXT1_Format:A_,RGBA_S3TC_DXT3_Format:S_,RGBA_S3TC_DXT5_Format:M_,RGB_ETC1_Format:TU,RGB_ETC2_Format:nT,RGB_PVRTC_2BPPV1_Format:$E,RGB_PVRTC_4BPPV1_Format:ZE,RGB_S3TC_DXT1_Format:__,RGFormat:EU,RGIntegerFormat:Ob,RawShaderMaterial:_k,Ray:mh,Raycaster:Gk,RectAreaLight:Dk,RedFormat:wU,RedIntegerFormat:Fb,ReinhardToneMapping:gU,RepeatWrapping:Ac,ReplaceStencilOp:WJ,ReverseSubtractEquation:QN,RingBufferGeometry:Cte,RingGeometry:Av,SIGNED_RED_GREEN_RGTC2_Format:_T,SIGNED_RED_RGTC1_Format:yT,SRGBColorSpace:$t,Scene:gA,ShaderChunk:on,ShaderLib:na,ShaderMaterial:Za,ShadowMaterial:xk,Shape:Zf,ShapeBufferGeometry:bte,ShapeGeometry:Sv,ShapePath:pte,ShapeUtils:Xa,ShortType:_U,Skeleton:dv,SkeletonHelper:tte,SkinnedMesh:Zb,Source:zf,Sphere:Lo,SphereBufferGeometry:Rte,SphereGeometry:im,Spherical:PT,SphericalHarmonics3:Fk,SplineCurve:aR,SpotLight:mR,SpotLightHelper:ete,Sprite:ak,SpriteMaterial:qb,SrcAlphaFactor:Rb,SrcAlphaSaturateFactor:sU,SrcColorFactor:$N,StaticCopyUsage:lK,StaticDrawUsage:G0,StaticReadUsage:sK,StereoCamera:Ree,StreamCopyUsage:cK,StreamDrawUsage:iK,StreamReadUsage:aK,StringKeyframeTrack:yh,SubtractEquation:YN,SubtractiveBlending:KE,TOUCH:Rf,TangentSpaceNormalMap:Rc,TetrahedronBufferGeometry:Pte,TetrahedronGeometry:Mv,Texture:$n,TextureLoader:Ik,TorusBufferGeometry:Ite,TorusGeometry:wv,TorusKnotBufferGeometry:Bte,TorusKnotGeometry:Ev,Triangle:ps,TriangleFanDrawMode:dA,TriangleStripDrawMode:kb,TrianglesDrawMode:IU,TubeBufferGeometry:Lte,TubeGeometry:Tv,TwoPassDoubleSide:UJ,UVMapping:S1,Uint16BufferAttribute:jb,Uint32BufferAttribute:Xb,Uint8BufferAttribute:KK,Uint8ClampedBufferAttribute:YK,Uniform:SR,UniformsGroup:Kee,UniformsLib:Ze,UniformsUtils:KU,UnsignedByteType:ja,UnsignedInt248Type:cc,UnsignedIntType:Ll,UnsignedShort4444Type:Lb,UnsignedShort5551Type:Db,UnsignedShortType:w1,VSMShadowMap:qo,Vector2:Ie,Vector3:G,Vector4:Rn,VectorKeyframeTrack:Up,VideoTexture:D$,WebGL1Renderer:sk,WebGL3DRenderTarget:FK,WebGLArrayRenderTarget:DK,WebGLCoordinateSystem:za,WebGLCubeRenderTarget:QU,WebGLMultipleRenderTargets:OK,WebGLRenderTarget:ha,WebGLRenderer:Qb,WebGLUtils:nk,WebGPUCoordinateSystem:V0,WireframeGeometry:yk,WrapAroundEnding:z0,ZeroCurvatureEnding:kf,ZeroFactor:qN,ZeroSlopeEnding:Hf,ZeroStencilOp:VJ,_SRGBAFormat:pA,sRGBEncoding:hc},Symbol.toStringTag,{value:"Module"}));var Wk={exports:{}},xh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */xh.ConcurrentRoot=1;xh.ContinuousEventPriority=4;xh.DefaultEventPriority=16;xh.DiscreteEventPriority=1;xh.IdleEventPriority=536870912;xh.LegacyRoot=0;Wk.exports=xh;var ep=Wk.exports;function Fte(t){let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(p!==e){const g=e;e=h?p:Object.assign({},e,p),n.forEach(v=>v(e,g))}},i=()=>e,s=(u,h=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=h(e);function v(){const x=h(e);if(!p(g,x)){const E=g;u(g=x,E)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(u,h,p)=>h||p?s(u,h,p):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Ote=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ML=Ote?U.useEffect:U.useLayoutEffect;function jk(t){const e=typeof t=="function"?Fte(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=U.useReducer(M=>M+1,0),o=e.getState(),a=U.useRef(o),l=U.useRef(r),u=U.useRef(i),h=U.useRef(!1),p=U.useRef();p.current===void 0&&(p.current=r(o));let g,v=!1;(a.current!==o||l.current!==r||u.current!==i||h.current)&&(g=r(o),v=!i(p.current,g)),ML(()=>{v&&(p.current=g),a.current=o,l.current=r,u.current=i,h.current=!1});const x=U.useRef(o);ML(()=>{const M=()=>{try{const S=e.getState(),A=l.current(S);u.current(p.current,A)||(a.current=S,p.current=A,s())}catch{h.current=!0,s()}},y=e.subscribe(M);return e.getState()!==x.current&&M(),y},[]);const E=v?g:p.current;return U.useDebugValue(E),E};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Xk={exports:{}},Jk={exports:{}},Kk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,te){var ie=V.length;V.push(te);e:for(;0<ie;){var he=ie-1>>>1,ne=V[he];if(0<i(ne,te))V[he]=te,V[ie]=ne,ie=he;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var te=V[0],ie=V.pop();if(ie!==te){V[0]=ie;e:for(var he=0,ne=V.length,ye=ne>>>1;he<ye;){var Me=2*(he+1)-1,Te=V[Me],Le=Me+1,Ge=V[Le];if(0>i(Te,ie))Le<ne&&0>i(Ge,Te)?(V[he]=Ge,V[Le]=ie,he=Le):(V[he]=Te,V[Me]=ie,he=Me);else if(Le<ne&&0>i(Ge,ie))V[he]=Ge,V[Le]=ie,he=Le;else break e}}return te}function i(V,te){var ie=V.sortIndex-te.sortIndex;return ie!==0?ie:V.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,g=3,v=!1,x=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(V){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=V)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function C(V){if(E=!1,A(V),!x)if(n(l)!==null)x=!0,de(P);else{var te=n(u);te!==null&&le(C,te.startTime-V)}}function P(V,te){x=!1,E&&(E=!1,y(N),N=-1),v=!0;var ie=g;try{for(A(te),p=n(l);p!==null&&(!(p.expirationTime>te)||V&&!W());){var he=p.callback;if(typeof he=="function"){p.callback=null,g=p.priorityLevel;var ne=he(p.expirationTime<=te);te=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(l)&&r(l),A(te)}else r(l);p=n(l)}if(p!==null)var ye=!0;else{var Me=n(u);Me!==null&&le(C,Me.startTime-te),ye=!1}return ye}finally{p=null,g=ie,v=!1}}var L=!1,D=null,N=-1,I=5,F=-1;function W(){return!(t.unstable_now()-F<I)}function ce(){if(D!==null){var V=t.unstable_now();F=V;var te=!0;try{te=D(!0,V)}finally{te?re():(L=!1,D=null)}}else L=!1}var re;if(typeof S=="function")re=function(){S(ce)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ee=Q.port2;Q.port1.onmessage=ce,re=function(){ee.postMessage(null)}}else re=function(){M(ce,0)};function de(V){D=V,L||(L=!0,re())}function le(V,te){N=M(function(){V(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,de(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ie=g;g=te;try{return V()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,te){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ie=g;g=V;try{return te()}finally{g=ie}},t.unstable_scheduleCallback=function(V,te,ie){var he=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?he+ie:he):ie=he,V){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=ie+ne,V={id:h++,callback:te,priorityLevel:V,startTime:ie,expirationTime:ne,sortIndex:-1},ie>he?(V.sortIndex=ie,e(u,V),n(l)===null&&V===n(u)&&(E?(y(N),N=-1):E=!0,le(C,ie-he))):(V.sortIndex=ne,e(l,V),x||v||(x=!0,de(P))),V},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(V){var te=g;return function(){var ie=g;g=te;try{return V.apply(this,arguments)}finally{g=ie}}}})(Kk);Jk.exports=Kk;var IT=Jk.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nte=function(e){var n={},r=U,i=IT,s=Object.assign;function o(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,_=1;_<arguments.length;_++)d+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),x=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.offscreen"),P=Symbol.iterator;function L(f){return f===null||typeof f!="object"?null:(f=P&&f[P]||f["@@iterator"],typeof f=="function"?f:null)}function D(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case h:return"Fragment";case u:return"Portal";case g:return"Profiler";case p:return"StrictMode";case M:return"Suspense";case y:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case x:return(f.displayName||"Context")+".Consumer";case v:return(f._context.displayName||"Context")+".Provider";case E:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case S:return d=f.displayName||null,d!==null?d:D(f.type)||"Memo";case A:d=f._payload,f=f._init;try{return D(f(d))}catch{}}return null}function N(f){var d=f.type;switch(f.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=d.render,f=f.displayName||f.name||"",d.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(d);case 8:return d===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function I(f){var d=f,_=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,d.flags&4098&&(_=d.return),f=d.return;while(f)}return d.tag===3?_:null}function F(f){if(I(f)!==f)throw Error(o(188))}function W(f){var d=f.alternate;if(!d){if(d=I(f),d===null)throw Error(o(188));return d!==f?null:f}for(var _=f,T=d;;){var b=_.return;if(b===null)break;var B=b.alternate;if(B===null){if(T=b.return,T!==null){_=T;continue}break}if(b.child===B.child){for(B=b.child;B;){if(B===_)return F(b),f;if(B===T)return F(b),d;B=B.sibling}throw Error(o(188))}if(_.return!==T.return)_=b,T=B;else{for(var X=!1,ae=b.child;ae;){if(ae===_){X=!0,_=b,T=B;break}if(ae===T){X=!0,T=b,_=B;break}ae=ae.sibling}if(!X){for(ae=B.child;ae;){if(ae===_){X=!0,_=B,T=b;break}if(ae===T){X=!0,T=B,_=b;break}ae=ae.sibling}if(!X)throw Error(o(189))}}if(_.alternate!==T)throw Error(o(190))}if(_.tag!==3)throw Error(o(188));return _.stateNode.current===_?f:d}function ce(f){return f=W(f),f!==null?re(f):null}function re(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var d=re(f);if(d!==null)return d;f=f.sibling}return null}function Q(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var d=Q(f);if(d!==null)return d}f=f.sibling}return null}var ee=Array.isArray,de=e.getPublicInstance,le=e.getRootHostContext,V=e.getChildHostContext,te=e.prepareForCommit,ie=e.resetAfterCommit,he=e.createInstance,ne=e.appendInitialChild,ye=e.finalizeInitialChildren,Me=e.prepareUpdate,Te=e.shouldSetTextContent,Le=e.createTextInstance,Ge=e.scheduleTimeout,ut=e.cancelTimeout,et=e.noTimeout,mt=e.isPrimaryRenderer,He=e.supportsMutation,K=e.supportsPersistence,De=e.supportsHydration,Se=e.getInstanceFromNode,Ne=e.preparePortalMount,Be=e.getCurrentEventPriority,Ke=e.detachDeletedInstance,qe=e.supportsMicrotasks,rt=e.scheduleMicrotask,gt=e.supportsTestSelectors,Et=e.findFiberRoot,fn=e.getBoundingRect,J=e.getTextContent,H=e.isHiddenSubtree,Ae=e.matchAccessibilityRole,We=e.setFocusIfFocusable,Ue=e.setupIntersectionObserver,Ye=e.appendChild,dt=e.appendChildToContainer,Qe=e.commitTextUpdate,Ce=e.commitMount,St=e.commitUpdate,At=e.insertBefore,Mt=e.insertInContainerBefore,lt=e.removeChild,Z=e.removeChildFromContainer,Pe=e.resetTextContent,tt=e.hideInstance,$=e.hideTextInstance,Ve=e.unhideInstance,ve=e.unhideTextInstance,Je=e.clearContainer,it=e.cloneInstance,rn=e.createContainerChildSet,un=e.appendChildToContainerChildSet,gn=e.finalizeContainerChildren,zr=e.replaceContainerChildren,_n=e.cloneHiddenInstance,Sr=e.cloneHiddenTextInstance,Kn=e.canHydrateInstance,Yl=e.canHydrateTextInstance,Mh=e.canHydrateSuspenseInstance,Ql=e.isSuspenseInstancePending,va=e.isSuspenseInstanceFallback,wh=e.registerSuspenseInstanceRetry,qs=e.getNextHydratableSibling,Eh=e.getFirstHydratableChild,am=e.getFirstHydratableChildWithinContainer,lm=e.getFirstHydratableChildWithinSuspenseInstance,um=e.hydrateInstance,j=e.hydrateTextInstance,ge=e.hydrateSuspenseInstance,be=e.getNextHydratableInstanceAfterSuspenseInstance,pe=e.commitHydratedContainer,Re=e.commitHydratedSuspenseInstance,ct=e.clearSuspenseBoundary,Tt=e.clearSuspenseBoundaryFromContainer,Ft=e.shouldDeleteUnhydratedTailInstances,Rt=e.didNotMatchHydratedContainerTextInstance,tn=e.didNotMatchHydratedTextInstance,Pt;function Ut(f){if(Pt===void 0)try{throw Error()}catch(_){var d=_.stack.trim().match(/\n( *(at )?)/);Pt=d&&d[1]||""}return`
`+Pt+f}var wn=!1;function Dn(f,d){if(!f||wn)return"";wn=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(je){var T=je}Reflect.construct(f,[],d)}else{try{d.call()}catch(je){T=je}f.call(d.prototype)}else{try{throw Error()}catch(je){T=je}f()}}catch(je){if(je&&T&&typeof je.stack=="string"){for(var b=je.stack.split(`
`),B=T.stack.split(`
`),X=b.length-1,ae=B.length-1;1<=X&&0<=ae&&b[X]!==B[ae];)ae--;for(;1<=X&&0<=ae;X--,ae--)if(b[X]!==B[ae]){if(X!==1||ae!==1)do if(X--,ae--,0>ae||b[X]!==B[ae]){var we=`
`+b[X].replace(" at new "," at ");return f.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",f.displayName)),we}while(1<=X&&0<=ae);break}}}finally{wn=!1,Error.prepareStackTrace=_}return(f=f?f.displayName||f.name:"")?Ut(f):""}var Ai=Object.prototype.hasOwnProperty,Si=[],Tn=-1;function jt(f){return{current:f}}function En(f){0>Tn||(f.current=Si[Tn],Si[Tn]=null,Tn--)}function kt(f,d){Tn++,Si[Tn]=f.current,f.current=d}var Zr={},hr=jt(Zr),er=jt(!1),ts=Zr;function kn(f,d){var _=f.type.contextTypes;if(!_)return Zr;var T=f.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var b={},B;for(B in _)b[B]=d[B];return T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=b),b}function Yn(f){return f=f.childContextTypes,f!=null}function Do(){En(er),En(hr)}function Mr(f,d,_){if(hr.current!==Zr)throw Error(o(168));kt(hr,d),kt(er,_)}function tl(f,d,_){var T=f.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return _;T=T.getChildContext();for(var b in T)if(!(b in d))throw Error(o(108,N(f)||"Unknown",b));return s({},_,T)}function ql(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||Zr,ts=hr.current,kt(hr,f),kt(er,er.current),!0}function Zl(f,d,_){var T=f.stateNode;if(!T)throw Error(o(169));_?(f=tl(f,d,ts),T.__reactInternalMemoizedMergedChildContext=f,En(er),En(hr),kt(hr,f)):En(er),kt(er,_)}var ns=Math.clz32?Math.clz32:Fv,cm=Math.log,j1=Math.LN2;function Fv(f){return f>>>=0,f===0?32:31-(cm(f)/j1|0)|0}var $l=64,eu=4194304;function Zs(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Lc(f,d){var _=f.pendingLanes;if(_===0)return 0;var T=0,b=f.suspendedLanes,B=f.pingedLanes,X=_&268435455;if(X!==0){var ae=X&~b;ae!==0?T=Zs(ae):(B&=X,B!==0&&(T=Zs(B)))}else X=_&~b,X!==0?T=Zs(X):B!==0&&(T=Zs(B));if(T===0)return 0;if(d!==0&&d!==T&&!(d&b)&&(b=T&-T,B=d&-d,b>=B||b===16&&(B&4194240)!==0))return d;if(T&4&&(T|=_&16),d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=T;0<d;)_=31-ns(d),b=1<<_,T|=f[_],d&=~b;return T}function Ov(f,d){switch(f){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X1(f,d){for(var _=f.suspendedLanes,T=f.pingedLanes,b=f.expirationTimes,B=f.pendingLanes;0<B;){var X=31-ns(B),ae=1<<X,we=b[X];we===-1?(!(ae&_)||ae&T)&&(b[X]=Ov(ae,d)):we<=d&&(f.expiredLanes|=ae),B&=~ae}}function Th(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Ch(f){for(var d=[],_=0;31>_;_++)d.push(f);return d}function tu(f,d,_){f.pendingLanes|=d,d!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,d=31-ns(d),f[d]=_}function Nv(f,d){var _=f.pendingLanes&~d;f.pendingLanes=d,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=d,f.mutableReadLanes&=d,f.entangledLanes&=d,d=f.entanglements;var T=f.eventTimes;for(f=f.expirationTimes;0<_;){var b=31-ns(_),B=1<<b;d[b]=0,T[b]=-1,f[b]=-1,_&=~B}}function fm(f,d){var _=f.entangledLanes|=d;for(f=f.entanglements;_;){var T=31-ns(_),b=1<<T;b&d|f[T]&d&&(f[T]|=d),_&=~b}}var vn=0;function Uv(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var bh=i.unstable_scheduleCallback,kv=i.unstable_cancelCallback,J1=i.unstable_shouldYield,K1=i.unstable_requestPaint,Lr=i.unstable_now,Dc=i.unstable_ImmediatePriority,Y1=i.unstable_UserBlockingPriority,hm=i.unstable_NormalPriority,Q1=i.unstable_IdlePriority,Rh=null,$s=null;function Fn(f){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(Rh,f,void 0,(f.current.flags&128)===128)}catch{}}function Bn(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var eo=typeof Object.is=="function"?Object.is:Bn,Fo=null,Ph=!1,dm=!1;function Hv(f){Fo===null?Fo=[f]:Fo.push(f)}function q1(f){Ph=!0,Hv(f)}function As(){if(!dm&&Fo!==null){dm=!0;var f=0,d=vn;try{var _=Fo;for(vn=1;f<_.length;f++){var T=_[f];do T=T(!0);while(T!==null)}Fo=null,Ph=!1}catch(b){throw Fo!==null&&(Fo=Fo.slice(f+1)),bh(Dc,As),b}finally{vn=d,dm=!1}}return null}var Z1=a.ReactCurrentBatchConfig;function dr(f,d){if(eo(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var _=Object.keys(f),T=Object.keys(d);if(_.length!==T.length)return!1;for(T=0;T<_.length;T++){var b=_[T];if(!Ai.call(d,b)||!eo(f[b],d[b]))return!1}return!0}function pm(f){switch(f.tag){case 5:return Ut(f.type);case 16:return Ut("Lazy");case 13:return Ut("Suspense");case 19:return Ut("SuspenseList");case 0:case 2:case 15:return f=Dn(f.type,!1),f;case 11:return f=Dn(f.type.render,!1),f;case 1:return f=Dn(f.type,!0),f;default:return""}}function Gr(f,d){if(f&&f.defaultProps){d=s({},d),f=f.defaultProps;for(var _ in f)d[_]===void 0&&(d[_]=f[_]);return d}return d}var Fc=jt(null),nu=null,Vr=null,Ih=null;function Bh(){Ih=Vr=nu=null}function mm(f,d,_){mt?(kt(Fc,d._currentValue),d._currentValue=_):(kt(Fc,d._currentValue2),d._currentValue2=_)}function Lh(f){var d=Fc.current;En(Fc),mt?f._currentValue=d:f._currentValue2=d}function Dh(f,d,_){for(;f!==null;){var T=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),f===_)break;f=f.return}}function nl(f,d){nu=f,Ih=Vr=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&d&&(Ni=!0),f.firstContext=null)}function Hn(f){var d=mt?f._currentValue:f._currentValue2;if(Ih!==f)if(f={context:f,memoizedValue:d,next:null},Vr===null){if(nu===null)throw Error(o(308));Vr=f,nu.dependencies={lanes:0,firstContext:f}}else Vr=Vr.next=f;return d}var to=null,wr=!1;function gm(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function $r(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function Ss(f,d){var _=f.updateQueue;_!==null&&(_=_.shared,pr!==null&&f.mode&1&&!(Qt&2)?(f=_.interleaved,f===null?(d.next=d,to===null?to=[_]:to.push(_)):(d.next=f.next,f.next=d),_.interleaved=d):(f=_.pending,f===null?d.next=d:(d.next=f.next,f.next=d),_.pending=d))}function ru(f,d,_){if(d=d.updateQueue,d!==null&&(d=d.shared,(_&4194240)!==0)){var T=d.lanes;T&=f.pendingLanes,_|=T,d.lanes=_,fm(f,_)}}function On(f,d){var _=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,_===T)){var b=null,B=null;if(_=_.firstBaseUpdate,_!==null){do{var X={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};B===null?b=B=X:B=B.next=X,_=_.next}while(_!==null);B===null?b=B=d:B=B.next=d}else b=B=d;_={baseState:T.baseState,firstBaseUpdate:b,lastBaseUpdate:B,shared:T.shared,effects:T.effects},f.updateQueue=_;return}f=_.lastBaseUpdate,f===null?_.firstBaseUpdate=d:f.next=d,_.lastBaseUpdate=d}function Ms(f,d,_,T){var b=f.updateQueue;wr=!1;var B=b.firstBaseUpdate,X=b.lastBaseUpdate,ae=b.shared.pending;if(ae!==null){b.shared.pending=null;var we=ae,je=we.next;we.next=null,X===null?B=je:X.next=je,X=we;var ft=f.alternate;ft!==null&&(ft=ft.updateQueue,ae=ft.lastBaseUpdate,ae!==X&&(ae===null?ft.firstBaseUpdate=je:ae.next=je,ft.lastBaseUpdate=we))}if(B!==null){var Vt=b.baseState;X=0,ft=je=we=null,ae=B;do{var wt=ae.lane,Cn=ae.eventTime;if((T&wt)===wt){ft!==null&&(ft=ft.next={eventTime:Cn,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var vt=f,ai=ae;switch(wt=d,Cn=_,ai.tag){case 1:if(vt=ai.payload,typeof vt=="function"){Vt=vt.call(Cn,Vt,wt);break e}Vt=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=ai.payload,wt=typeof vt=="function"?vt.call(Cn,Vt,wt):vt,wt==null)break e;Vt=s({},Vt,wt);break e;case 2:wr=!0}}ae.callback!==null&&ae.lane!==0&&(f.flags|=64,wt=b.effects,wt===null?b.effects=[ae]:wt.push(ae))}else Cn={eventTime:Cn,lane:wt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},ft===null?(je=ft=Cn,we=Vt):ft=ft.next=Cn,X|=wt;if(ae=ae.next,ae===null){if(ae=b.shared.pending,ae===null)break;wt=ae,ae=wt.next,wt.next=null,b.lastBaseUpdate=wt,b.shared.pending=null}}while(!0);if(ft===null&&(we=Vt),b.baseState=we,b.firstBaseUpdate=je,b.lastBaseUpdate=ft,d=b.shared.interleaved,d!==null){b=d;do X|=b.lane,b=b.next;while(b!==d)}else B===null&&(b.shared.lanes=0);wu|=X,f.lanes=X,f.memoizedState=Vt}}function Fh(f,d,_){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var T=f[d],b=T.callback;if(b!==null){if(T.callback=null,T=_,typeof b!="function")throw Error(o(191,b));b.call(T)}}}var zv=new r.Component().refs;function Oc(f,d,_,T){d=f.memoizedState,_=_(T,d),_=_==null?d:s({},d,_),f.memoizedState=_,f.lanes===0&&(f.updateQueue.baseState=_)}var Oh={isMounted:function(f){return(f=f._reactInternals)?I(f)===f:!1},enqueueSetState:function(f,d,_){f=f._reactInternals;var T=ri(),b=lo(f),B=$r(T,b);B.payload=d,_!=null&&(B.callback=_),Ss(f,B),d=is(f,b,T),d!==null&&ru(d,f,b)},enqueueReplaceState:function(f,d,_){f=f._reactInternals;var T=ri(),b=lo(f),B=$r(T,b);B.tag=1,B.payload=d,_!=null&&(B.callback=_),Ss(f,B),d=is(f,b,T),d!==null&&ru(d,f,b)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var _=ri(),T=lo(f),b=$r(_,T);b.tag=2,d!=null&&(b.callback=d),Ss(f,b),d=is(f,T,_),d!==null&&ru(d,f,T)}};function Gv(f,d,_,T,b,B,X){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,B,X):d.prototype&&d.prototype.isPureReactComponent?!dr(_,T)||!dr(b,B):!0}function Vv(f,d,_){var T=!1,b=Zr,B=d.contextType;return typeof B=="object"&&B!==null?B=Hn(B):(b=Yn(d)?ts:hr.current,T=d.contextTypes,B=(T=T!=null)?kn(f,b):Zr),d=new d(_,B),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Oh,f.stateNode=d,d._reactInternals=f,T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=b,f.__reactInternalMemoizedMaskedChildContext=B),d}function ym(f,d,_,T){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(_,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(_,T),d.state!==f&&Oh.enqueueReplaceState(d,d.state,null)}function iu(f,d,_,T){var b=f.stateNode;b.props=_,b.state=f.memoizedState,b.refs=zv,gm(f);var B=d.contextType;typeof B=="object"&&B!==null?b.context=Hn(B):(B=Yn(d)?ts:hr.current,b.context=kn(f,B)),b.state=f.memoizedState,B=d.getDerivedStateFromProps,typeof B=="function"&&(Oc(f,d,B,_),b.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(d=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),d!==b.state&&Oh.enqueueReplaceState(b,b.state,null),Ms(f,_,b,T),b.state=f.memoizedState),typeof b.componentDidMount=="function"&&(f.flags|=4194308)}var ws=[],su=0,Nc=null,Uc=0,Mi=[],wi=0,ya=null,Oo=1,Es="";function No(f,d){ws[su++]=Uc,ws[su++]=Nc,Nc=f,Uc=d}function Wv(f,d,_){Mi[wi++]=Oo,Mi[wi++]=Es,Mi[wi++]=ya,ya=f;var T=Oo;f=Es;var b=32-ns(T)-1;T&=~(1<<b),_+=1;var B=32-ns(d)+b;if(30<B){var X=b-b%5;B=(T&(1<<X)-1).toString(32),T>>=X,b-=X,Oo=1<<32-ns(d)+b|_<<b|T,Es=B+f}else Oo=1<<B|_<<b|T,Es=f}function Nh(f){f.return!==null&&(No(f,1),Wv(f,1,0))}function pi(f){for(;f===Nc;)Nc=ws[--su],ws[su]=null,Uc=ws[--su],ws[su]=null;for(;f===ya;)ya=Mi[--wi],Mi[wi]=null,Es=Mi[--wi],Mi[wi]=null,Oo=Mi[--wi],Mi[wi]=null}var mi=null,Wr=null,Nn=!1,ou=!1,Ts=null;function jv(f,d){var _=ss(5,null,null,0);_.elementType="DELETED",_.stateNode=d,_.return=f,d=f.deletions,d===null?(f.deletions=[_],f.flags|=16):d.push(_)}function Xv(f,d){switch(f.tag){case 5:return d=Kn(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,mi=f,Wr=Eh(d),!0):!1;case 6:return d=Yl(d,f.pendingProps),d!==null?(f.stateNode=d,mi=f,Wr=null,!0):!1;case 13:if(d=Mh(d),d!==null){var _=ya!==null?{id:Oo,overflow:Es}:null;return f.memoizedState={dehydrated:d,treeContext:_,retryLane:1073741824},_=ss(18,null,null,0),_.stateNode=d,_.return=f,f.child=_,mi=f,Wr=null,!0}return!1;default:return!1}}function xm(f){return(f.mode&1)!==0&&(f.flags&128)===0}function _m(f){if(Nn){var d=Wr;if(d){var _=d;if(!Xv(f,d)){if(xm(f))throw Error(o(418));d=qs(_);var T=mi;d&&Xv(f,d)?jv(T,_):(f.flags=f.flags&-4097|2,Nn=!1,mi=f)}}else{if(xm(f))throw Error(o(418));f.flags=f.flags&-4097|2,Nn=!1,mi=f}}}function rl(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;mi=f}function kc(f){if(!De||f!==mi)return!1;if(!Nn)return rl(f),Nn=!0,!1;if(f.tag!==3&&(f.tag!==5||Ft(f.type)&&!Te(f.type,f.memoizedProps))){var d=Wr;if(d){if(xm(f)){for(f=Wr;f;)f=qs(f);throw Error(o(418))}for(;d;)jv(f,d),d=qs(d)}}if(rl(f),f.tag===13){if(!De)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Wr=be(f)}else Wr=mi?qs(f.stateNode):null;return!0}function au(){De&&(Wr=mi=null,ou=Nn=!1)}function Hc(f){Ts===null?Ts=[f]:Ts.push(f)}function lu(f,d,_){if(f=_.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(o(309));var T=_.stateNode}if(!T)throw Error(o(147,f));var b=T,B=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===B?d.ref:(d=function(X){var ae=b.refs;ae===zv&&(ae=b.refs={}),X===null?delete ae[B]:ae[B]=X},d._stringRef=B,d)}if(typeof f!="string")throw Error(o(284));if(!_._owner)throw Error(o(290,f))}return f}function Cs(f,d){throw f=Object.prototype.toString.call(d),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f))}function zc(f){var d=f._init;return d(f._payload)}function Jv(f){function d(me,ue){if(f){var _e=me.deletions;_e===null?(me.deletions=[ue],me.flags|=16):_e.push(ue)}}function _(me,ue){if(!f)return null;for(;ue!==null;)d(me,ue),ue=ue.sibling;return null}function T(me,ue){for(me=new Map;ue!==null;)ue.key!==null?me.set(ue.key,ue):me.set(ue.index,ue),ue=ue.sibling;return me}function b(me,ue){return me=Go(me,ue),me.index=0,me.sibling=null,me}function B(me,ue,_e){return me.index=_e,f?(_e=me.alternate,_e!==null?(_e=_e.index,_e<ue?(me.flags|=2,ue):_e):(me.flags|=2,ue)):(me.flags|=1048576,ue)}function X(me){return f&&me.alternate===null&&(me.flags|=2),me}function ae(me,ue,_e,ot){return ue===null||ue.tag!==6?(ue=oi(_e,me.mode,ot),ue.return=me,ue):(ue=b(ue,_e),ue.return=me,ue)}function we(me,ue,_e,ot){var yt=_e.type;return yt===h?ft(me,ue,_e.props.children,ot,_e.key):ue!==null&&(ue.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&zc(yt)===ue.type)?(ot=b(ue,_e.props),ot.ref=lu(me,ue,_e),ot.return=me,ot):(ot=rd(_e.type,_e.key,_e.props,null,me.mode,ot),ot.ref=lu(me,ue,_e),ot.return=me,ot)}function je(me,ue,_e,ot){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==_e.containerInfo||ue.stateNode.implementation!==_e.implementation?(ue=os(_e,me.mode,ot),ue.return=me,ue):(ue=b(ue,_e.children||[]),ue.return=me,ue)}function ft(me,ue,_e,ot,yt){return ue===null||ue.tag!==7?(ue=Ba(_e,me.mode,ot,yt),ue.return=me,ue):(ue=b(ue,_e),ue.return=me,ue)}function Vt(me,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=oi(""+ue,me.mode,_e),ue.return=me,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case l:return _e=rd(ue.type,ue.key,ue.props,null,me.mode,_e),_e.ref=lu(me,null,ue),_e.return=me,_e;case u:return ue=os(ue,me.mode,_e),ue.return=me,ue;case A:var ot=ue._init;return Vt(me,ot(ue._payload),_e)}if(ee(ue)||L(ue))return ue=Ba(ue,me.mode,_e,null),ue.return=me,ue;Cs(me,ue)}return null}function wt(me,ue,_e,ot){var yt=ue!==null?ue.key:null;if(typeof _e=="string"&&_e!==""||typeof _e=="number")return yt!==null?null:ae(me,ue,""+_e,ot);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:return _e.key===yt?we(me,ue,_e,ot):null;case u:return _e.key===yt?je(me,ue,_e,ot):null;case A:return yt=_e._init,wt(me,ue,yt(_e._payload),ot)}if(ee(_e)||L(_e))return yt!==null?null:ft(me,ue,_e,ot,null);Cs(me,_e)}return null}function Cn(me,ue,_e,ot,yt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return me=me.get(_e)||null,ae(ue,me,""+ot,yt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case l:return me=me.get(ot.key===null?_e:ot.key)||null,we(ue,me,ot,yt);case u:return me=me.get(ot.key===null?_e:ot.key)||null,je(ue,me,ot,yt);case A:var qt=ot._init;return Cn(me,ue,_e,qt(ot._payload),yt)}if(ee(ot)||L(ot))return me=me.get(_e)||null,ft(ue,me,ot,yt,null);Cs(ue,ot)}return null}function vt(me,ue,_e,ot){for(var yt=null,qt=null,Xt=ue,Zt=ue=0,gr=null;Xt!==null&&Zt<_e.length;Zt++){Xt.index>Zt?(gr=Xt,Xt=null):gr=Xt.sibling;var hn=wt(me,Xt,_e[Zt],ot);if(hn===null){Xt===null&&(Xt=gr);break}f&&Xt&&hn.alternate===null&&d(me,Xt),ue=B(hn,ue,Zt),qt===null?yt=hn:qt.sibling=hn,qt=hn,Xt=gr}if(Zt===_e.length)return _(me,Xt),Nn&&No(me,Zt),yt;if(Xt===null){for(;Zt<_e.length;Zt++)Xt=Vt(me,_e[Zt],ot),Xt!==null&&(ue=B(Xt,ue,Zt),qt===null?yt=Xt:qt.sibling=Xt,qt=Xt);return Nn&&No(me,Zt),yt}for(Xt=T(me,Xt);Zt<_e.length;Zt++)gr=Cn(Xt,me,Zt,_e[Zt],ot),gr!==null&&(f&&gr.alternate!==null&&Xt.delete(gr.key===null?Zt:gr.key),ue=B(gr,ue,Zt),qt===null?yt=gr:qt.sibling=gr,qt=gr);return f&&Xt.forEach(function(co){return d(me,co)}),Nn&&No(me,Zt),yt}function ai(me,ue,_e,ot){var yt=L(_e);if(typeof yt!="function")throw Error(o(150));if(_e=yt.call(_e),_e==null)throw Error(o(151));for(var qt=yt=null,Xt=ue,Zt=ue=0,gr=null,hn=_e.next();Xt!==null&&!hn.done;Zt++,hn=_e.next()){Xt.index>Zt?(gr=Xt,Xt=null):gr=Xt.sibling;var co=wt(me,Xt,hn.value,ot);if(co===null){Xt===null&&(Xt=gr);break}f&&Xt&&co.alternate===null&&d(me,Xt),ue=B(co,ue,Zt),qt===null?yt=co:qt.sibling=co,qt=co,Xt=gr}if(hn.done)return _(me,Xt),Nn&&No(me,Zt),yt;if(Xt===null){for(;!hn.done;Zt++,hn=_e.next())hn=Vt(me,hn.value,ot),hn!==null&&(ue=B(hn,ue,Zt),qt===null?yt=hn:qt.sibling=hn,qt=hn);return Nn&&No(me,Zt),yt}for(Xt=T(me,Xt);!hn.done;Zt++,hn=_e.next())hn=Cn(Xt,me,Zt,hn.value,ot),hn!==null&&(f&&hn.alternate!==null&&Xt.delete(hn.key===null?Zt:hn.key),ue=B(hn,ue,Zt),qt===null?yt=hn:qt.sibling=hn,qt=hn);return f&&Xt.forEach(function(sd){return d(me,sd)}),Nn&&No(me,Zt),yt}function Gi(me,ue,_e,ot){if(typeof _e=="object"&&_e!==null&&_e.type===h&&_e.key===null&&(_e=_e.props.children),typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case l:e:{for(var yt=_e.key,qt=ue;qt!==null;){if(qt.key===yt){if(yt=_e.type,yt===h){if(qt.tag===7){_(me,qt.sibling),ue=b(qt,_e.props.children),ue.return=me,me=ue;break e}}else if(qt.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===A&&zc(yt)===qt.type){_(me,qt.sibling),ue=b(qt,_e.props),ue.ref=lu(me,qt,_e),ue.return=me,me=ue;break e}_(me,qt);break}else d(me,qt);qt=qt.sibling}_e.type===h?(ue=Ba(_e.props.children,me.mode,ot,_e.key),ue.return=me,me=ue):(ot=rd(_e.type,_e.key,_e.props,null,me.mode,ot),ot.ref=lu(me,ue,_e),ot.return=me,me=ot)}return X(me);case u:e:{for(qt=_e.key;ue!==null;){if(ue.key===qt)if(ue.tag===4&&ue.stateNode.containerInfo===_e.containerInfo&&ue.stateNode.implementation===_e.implementation){_(me,ue.sibling),ue=b(ue,_e.children||[]),ue.return=me,me=ue;break e}else{_(me,ue);break}else d(me,ue);ue=ue.sibling}ue=os(_e,me.mode,ot),ue.return=me,me=ue}return X(me);case A:return qt=_e._init,Gi(me,ue,qt(_e._payload),ot)}if(ee(_e))return vt(me,ue,_e,ot);if(L(_e))return ai(me,ue,_e,ot);Cs(me,_e)}return typeof _e=="string"&&_e!==""||typeof _e=="number"?(_e=""+_e,ue!==null&&ue.tag===6?(_(me,ue.sibling),ue=b(ue,_e),ue.return=me,me=ue):(_(me,ue),ue=oi(_e,me.mode,ot),ue.return=me,me=ue),X(me)):_(me,ue)}return Gi}var uu=Jv(!0),Kv=Jv(!1),no={},Qn=jt(no),cu=jt(no),fu=jt(no);function ro(f){if(f===no)throw Error(o(174));return f}function Am(f,d){kt(fu,d),kt(cu,f),kt(Qn,no),f=le(d),En(Qn),kt(Qn,f)}function hu(){En(Qn),En(cu),En(fu)}function Yv(f){var d=ro(fu.current),_=ro(Qn.current);d=V(_,f.type,d),_!==d&&(kt(cu,f),kt(Qn,d))}function xa(f){cu.current===f&&(En(Qn),En(cu))}var oe=jt(0);function Ee(f){for(var d=f;d!==null;){if(d.tag===13){var _=d.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||Ql(_)||va(_)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var xe=[];function at(){for(var f=0;f<xe.length;f++){var d=xe[f];mt?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}xe.length=0}var Ot=a.ReactCurrentDispatcher,Jt=a.ReactCurrentBatchConfig,zn=0,Bt=null,Dr=null,Fr=null,gi=!1,_a=!1,Gc=0,du=0;function Er(){throw Error(o(321))}function pu(f,d){if(d===null)return!1;for(var _=0;_<d.length&&_<f.length;_++)if(!eo(f[_],d[_]))return!1;return!0}function An(f,d,_,T,b,B){if(zn=B,Bt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ot.current=f===null||f.memoizedState===null?Qc:bm,f=_(T,b),_a){B=0;do{if(_a=!1,Gc=0,25<=B)throw Error(o(301));B+=1,Fr=Dr=null,d.updateQueue=null,Ot.current=vu,f=_(T,b)}while(_a)}if(Ot.current=gu,d=Dr!==null&&Dr.next!==null,zn=0,Fr=Dr=Bt=null,gi=!1,d)throw Error(o(300));return f}function Sm(){var f=Gc!==0;return Gc=0,f}function io(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Bt.memoizedState=Fr=f:Fr=Fr.next=f,Fr}function Oi(){if(Dr===null){var f=Bt.alternate;f=f!==null?f.memoizedState:null}else f=Dr.next;var d=Fr===null?Bt.memoizedState:Fr.next;if(d!==null)Fr=d,Dr=f;else{if(f===null)throw Error(o(310));Dr=f,f={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Fr===null?Bt.memoizedState=Fr=f:Fr=Fr.next=f}return Fr}function il(f,d){return typeof d=="function"?d(f):d}function Uh(f){var d=Oi(),_=d.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=f;var T=Dr,b=T.baseQueue,B=_.pending;if(B!==null){if(b!==null){var X=b.next;b.next=B.next,B.next=X}T.baseQueue=b=B,_.pending=null}if(b!==null){B=b.next,T=T.baseState;var ae=X=null,we=null,je=B;do{var ft=je.lane;if((zn&ft)===ft)we!==null&&(we=we.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),T=je.hasEagerState?je.eagerState:f(T,je.action);else{var Vt={lane:ft,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};we===null?(ae=we=Vt,X=T):we=we.next=Vt,Bt.lanes|=ft,wu|=ft}je=je.next}while(je!==null&&je!==B);we===null?X=T:we.next=ae,eo(T,d.memoizedState)||(Ni=!0),d.memoizedState=T,d.baseState=X,d.baseQueue=we,_.lastRenderedState=T}if(f=_.interleaved,f!==null){b=f;do B=b.lane,Bt.lanes|=B,wu|=B,b=b.next;while(b!==f)}else b===null&&(_.lanes=0);return[d.memoizedState,_.dispatch]}function kh(f){var d=Oi(),_=d.queue;if(_===null)throw Error(o(311));_.lastRenderedReducer=f;var T=_.dispatch,b=_.pending,B=d.memoizedState;if(b!==null){_.pending=null;var X=b=b.next;do B=f(B,X.action),X=X.next;while(X!==b);eo(B,d.memoizedState)||(Ni=!0),d.memoizedState=B,d.baseQueue===null&&(d.baseState=B),_.lastRenderedState=B}return[B,T]}function Vc(){}function Uo(f,d){var _=Bt,T=Oi(),b=d(),B=!eo(T.memoizedState,b);if(B&&(T.memoizedState=b,Ni=!0),T=T.queue,Xc(jc.bind(null,_,T,f),[f]),T.getSnapshot!==d||B||Fr!==null&&Fr.memoizedState.tag&1){if(_.flags|=2048,Aa(9,Mm.bind(null,_,T,b,d),void 0,null),pr===null)throw Error(o(349));zn&30||Wc(_,d,b)}return b}function Wc(f,d,_){f.flags|=16384,f={getSnapshot:d,value:_},d=Bt.updateQueue,d===null?(d={lastEffect:null,stores:null},Bt.updateQueue=d,d.stores=[f]):(_=d.stores,_===null?d.stores=[f]:_.push(f))}function Mm(f,d,_,T){d.value=_,d.getSnapshot=T,wm(d)&&is(f,1,-1)}function jc(f,d,_){return _(function(){wm(d)&&is(f,1,-1)})}function wm(f){var d=f.getSnapshot;f=f.value;try{var _=d();return!eo(f,_)}catch{return!0}}function Hh(f){var d=io();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:f},d.queue=f,f=f.dispatch=ei.bind(null,Bt,f),[d.memoizedState,f]}function Aa(f,d,_,T){return f={tag:f,create:d,destroy:_,deps:T,next:null},d=Bt.updateQueue,d===null?(d={lastEffect:null,stores:null},Bt.updateQueue=d,d.lastEffect=f.next=f):(_=d.lastEffect,_===null?d.lastEffect=f.next=f:(T=_.next,_.next=f,f.next=T,d.lastEffect=f)),f}function Em(){return Oi().memoizedState}function Sa(f,d,_,T){var b=io();Bt.flags|=f,b.memoizedState=Aa(1|d,_,void 0,T===void 0?null:T)}function so(f,d,_,T){var b=Oi();T=T===void 0?null:T;var B=void 0;if(Dr!==null){var X=Dr.memoizedState;if(B=X.destroy,T!==null&&pu(T,X.deps)){b.memoizedState=Aa(d,_,B,T);return}}Bt.flags|=f,b.memoizedState=Aa(1|d,_,B,T)}function mu(f,d){return Sa(8390656,8,f,d)}function Xc(f,d){return so(2048,8,f,d)}function Qv(f,d){return so(4,2,f,d)}function qv(f,d){return so(4,4,f,d)}function Jc(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function Kc(f,d,_){return _=_!=null?_.concat([f]):null,so(4,4,Jc.bind(null,d,f),_)}function Yc(){}function Zv(f,d){var _=Oi();d=d===void 0?null:d;var T=_.memoizedState;return T!==null&&d!==null&&pu(d,T[1])?T[0]:(_.memoizedState=[f,d],f)}function Tm(f,d){var _=Oi();d=d===void 0?null:d;var T=_.memoizedState;return T!==null&&d!==null&&pu(d,T[1])?T[0]:(f=f(),_.memoizedState=[f,d],f)}function $1(f,d){var _=vn;vn=_!==0&&4>_?_:4,f(!0);var T=Jt.transition;Jt.transition={};try{f(!1),d()}finally{vn=_,Jt.transition=T}}function $v(){return Oi().memoizedState}function Tr(f,d,_){var T=lo(f);_={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null},ey(f)?ty(d,_):(Cm(f,d,_),_=ri(),f=is(f,T,_),f!==null&&ny(f,d,T))}function ei(f,d,_){var T=lo(f),b={lane:T,action:_,hasEagerState:!1,eagerState:null,next:null};if(ey(f))ty(d,b);else{Cm(f,d,b);var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=d.lastRenderedReducer,B!==null))try{var X=d.lastRenderedState,ae=B(X,_);if(b.hasEagerState=!0,b.eagerState=ae,eo(ae,X))return}catch{}finally{}_=ri(),f=is(f,T,_),f!==null&&ny(f,d,T)}}function ey(f){var d=f.alternate;return f===Bt||d!==null&&d===Bt}function ty(f,d){_a=gi=!0;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}function Cm(f,d,_){pr!==null&&f.mode&1&&!(Qt&2)?(f=d.interleaved,f===null?(_.next=_,to===null?to=[d]:to.push(d)):(_.next=f.next,f.next=_),d.interleaved=_):(f=d.pending,f===null?_.next=_:(_.next=f.next,f.next=_),d.pending=_)}function ny(f,d,_){if(_&4194240){var T=d.lanes;T&=f.pendingLanes,_|=T,d.lanes=_,fm(f,_)}}var gu={readContext:Hn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},Qc={readContext:Hn,useCallback:function(f,d){return io().memoizedState=[f,d===void 0?null:d],f},useContext:Hn,useEffect:mu,useImperativeHandle:function(f,d,_){return _=_!=null?_.concat([f]):null,Sa(4194308,4,Jc.bind(null,d,f),_)},useLayoutEffect:function(f,d){return Sa(4194308,4,f,d)},useInsertionEffect:function(f,d){return Sa(4,2,f,d)},useMemo:function(f,d){var _=io();return d=d===void 0?null:d,f=f(),_.memoizedState=[f,d],f},useReducer:function(f,d,_){var T=io();return d=_!==void 0?_(d):d,T.memoizedState=T.baseState=d,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},T.queue=f,f=f.dispatch=Tr.bind(null,Bt,f),[T.memoizedState,f]},useRef:function(f){var d=io();return f={current:f},d.memoizedState=f},useState:Hh,useDebugValue:Yc,useDeferredValue:function(f){var d=Hh(f),_=d[0],T=d[1];return mu(function(){var b=Jt.transition;Jt.transition={};try{T(f)}finally{Jt.transition=b}},[f]),_},useTransition:function(){var f=Hh(!1),d=f[0];return f=$1.bind(null,f[1]),io().memoizedState=f,[d,f]},useMutableSource:function(){},useSyncExternalStore:function(f,d,_){var T=Bt,b=io();if(Nn){if(_===void 0)throw Error(o(407));_=_()}else{if(_=d(),pr===null)throw Error(o(349));zn&30||Wc(T,d,_)}b.memoizedState=_;var B={value:_,getSnapshot:d};return b.queue=B,mu(jc.bind(null,T,B,f),[f]),T.flags|=2048,Aa(9,Mm.bind(null,T,B,_,d),void 0,null),_},useId:function(){var f=io(),d=pr.identifierPrefix;if(Nn){var _=Es,T=Oo;_=(T&~(1<<32-ns(T)-1)).toString(32)+_,d=":"+d+"R"+_,_=Gc++,0<_&&(d+="H"+_.toString(32)),d+=":"}else _=du++,d=":"+d+"r"+_.toString(32)+":";return f.memoizedState=d},unstable_isNewReconciler:!1},bm={readContext:Hn,useCallback:Zv,useContext:Hn,useEffect:Xc,useImperativeHandle:Kc,useInsertionEffect:Qv,useLayoutEffect:qv,useMemo:Tm,useReducer:Uh,useRef:Em,useState:function(){return Uh(il)},useDebugValue:Yc,useDeferredValue:function(f){var d=Uh(il),_=d[0],T=d[1];return Xc(function(){var b=Jt.transition;Jt.transition={};try{T(f)}finally{Jt.transition=b}},[f]),_},useTransition:function(){var f=Uh(il)[0],d=Oi().memoizedState;return[f,d]},useMutableSource:Vc,useSyncExternalStore:Uo,useId:$v,unstable_isNewReconciler:!1},vu={readContext:Hn,useCallback:Zv,useContext:Hn,useEffect:Xc,useImperativeHandle:Kc,useInsertionEffect:Qv,useLayoutEffect:qv,useMemo:Tm,useReducer:kh,useRef:Em,useState:function(){return kh(il)},useDebugValue:Yc,useDeferredValue:function(f){var d=kh(il),_=d[0],T=d[1];return Xc(function(){var b=Jt.transition;Jt.transition={};try{T(f)}finally{Jt.transition=b}},[f]),_},useTransition:function(){var f=kh(il)[0],d=Oi().memoizedState;return[f,d]},useMutableSource:Vc,useSyncExternalStore:Uo,useId:$v,unstable_isNewReconciler:!1};function sl(f,d){try{var _="",T=d;do _+=pm(T),T=T.return;while(T);var b=_}catch(B){b=`
Error generating stack: `+B.message+`
`+B.stack}return{value:f,source:d,stack:b}}function ol(f,d){try{console.error(d.value)}catch(_){setTimeout(function(){throw _})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function al(f,d,_){_=$r(-1,_),_.tag=3,_.payload={element:null};var T=d.value;return _.callback=function(){sf||(sf=!0,Yh=T),ol(f,d)},_}function ry(f,d,_){_=$r(-1,_),_.tag=3;var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var b=d.value;_.payload=function(){return T(b)},_.callback=function(){ol(f,d)}}var B=f.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(_.callback=function(){ol(f,d),typeof T!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})}),_}function iy(f,d,_){var T=f.pingCache;if(T===null){T=f.pingCache=new zh;var b=new Set;T.set(d,b)}else b=T.get(d),b===void 0&&(b=new Set,T.set(d,b));b.has(_)||(b.add(_),f=Pa.bind(null,f,d,_),d.then(f,f))}function sy(f){do{var d;if((d=f.tag===13)&&(d=f.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return f;f=f.return}while(f!==null);return null}function oy(f,d,_,T,b){return f.mode&1?(f.flags|=65536,f.lanes=b,f):(f===d?f.flags|=65536:(f.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(d=$r(-1,1),d.tag=2,Ss(_,d))),_.lanes|=1),f)}function oo(f){f.flags|=4}function qc(f,d){if(f!==null&&f.child===d.child)return!0;if(d.flags&16)return!1;for(f=d.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var ko,yu,k,Ho;if(He)ko=function(f,d){for(var _=d.child;_!==null;){if(_.tag===5||_.tag===6)ne(f,_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===d)break;for(;_.sibling===null;){if(_.return===null||_.return===d)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},yu=function(){},k=function(f,d,_,T,b){if(f=f.memoizedProps,f!==T){var B=d.stateNode,X=ro(Qn.current);_=Me(B,_,f,T,b,X),(d.updateQueue=_)&&oo(d)}},Ho=function(f,d,_,T){_!==T&&oo(d)};else if(K){ko=function(f,d,_,T){for(var b=d.child;b!==null;){if(b.tag===5){var B=b.stateNode;_&&T&&(B=_n(B,b.type,b.memoizedProps,b)),ne(f,B)}else if(b.tag===6)B=b.stateNode,_&&T&&(B=Sr(B,b.memoizedProps,b)),ne(f,B);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)B=b.child,B!==null&&(B.return=b),ko(f,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};var Zc=function(f,d,_,T){for(var b=d.child;b!==null;){if(b.tag===5){var B=b.stateNode;_&&T&&(B=_n(B,b.type,b.memoizedProps,b)),un(f,B)}else if(b.tag===6)B=b.stateNode,_&&T&&(B=Sr(B,b.memoizedProps,b)),un(f,B);else if(b.tag!==4){if(b.tag===22&&b.memoizedState!==null)B=b.child,B!==null&&(B.return=b),Zc(f,b,!0,!0);else if(b.child!==null){b.child.return=b,b=b.child;continue}}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};yu=function(f,d){var _=d.stateNode;if(!qc(f,d)){f=_.containerInfo;var T=rn(f);Zc(T,d,!1,!1),_.pendingChildren=T,oo(d),gn(f,T)}},k=function(f,d,_,T,b){var B=f.stateNode,X=f.memoizedProps;if((f=qc(f,d))&&X===T)d.stateNode=B;else{var ae=d.stateNode,we=ro(Qn.current),je=null;X!==T&&(je=Me(ae,_,X,T,b,we)),f&&je===null?d.stateNode=B:(B=it(B,je,_,X,T,d,f,ae),ye(B,_,T,b,we)&&oo(d),d.stateNode=B,f?oo(d):ko(B,d,!1,!1))}},Ho=function(f,d,_,T){_!==T?(f=ro(fu.current),_=ro(Qn.current),d.stateNode=Le(T,f,_,d),oo(d)):d.stateNode=f.stateNode}}else yu=function(){},k=function(){},Ho=function(){};function ti(f,d){if(!Nn)switch(f.tailMode){case"hidden":d=f.tail;for(var _=null;d!==null;)d.alternate!==null&&(_=d),d=d.sibling;_===null?f.tail=null:_.sibling=null;break;case"collapsed":_=f.tail;for(var T=null;_!==null;)_.alternate!==null&&(T=_),_=_.sibling;T===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function bt(f){var d=f.alternate!==null&&f.alternate.child===f.child,_=0,T=0;if(d)for(var b=f.child;b!==null;)_|=b.lanes|b.childLanes,T|=b.subtreeFlags&14680064,T|=b.flags&14680064,b.return=f,b=b.sibling;else for(b=f.child;b!==null;)_|=b.lanes|b.childLanes,T|=b.subtreeFlags,T|=b.flags,b.return=f,b=b.sibling;return f.subtreeFlags|=T,f.childLanes=_,d}function eS(f,d,_){var T=d.pendingProps;switch(pi(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(d),null;case 1:return Yn(d.type)&&Do(),bt(d),null;case 3:return T=d.stateNode,hu(),En(er),En(hr),at(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(kc(d)?oo(d):f===null||f.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Ts!==null&&(hl(Ts),Ts=null))),yu(f,d),bt(d),null;case 5:xa(d),_=ro(fu.current);var b=d.type;if(f!==null&&d.stateNode!=null)k(f,d,b,T,_),f.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(o(166));return bt(d),null}if(f=ro(Qn.current),kc(d)){if(!De)throw Error(o(175));f=um(d.stateNode,d.type,d.memoizedProps,_,f,d,!ou),d.updateQueue=f,f!==null&&oo(d)}else{var B=he(b,T,_,f,d);ko(B,d,!1,!1),d.stateNode=B,ye(B,b,T,_,f)&&oo(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return bt(d),null;case 6:if(f&&d.stateNode!=null)Ho(f,d,f.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(o(166));if(f=ro(fu.current),_=ro(Qn.current),kc(d)){if(!De)throw Error(o(176));if(f=d.stateNode,T=d.memoizedProps,(_=j(f,T,d,!ou))&&(b=mi,b!==null))switch(B=(b.mode&1)!==0,b.tag){case 3:Rt(b.stateNode.containerInfo,f,T,B);break;case 5:tn(b.type,b.memoizedProps,b.stateNode,f,T,B)}_&&oo(d)}else d.stateNode=Le(T,f,_,d)}return bt(d),null;case 13:if(En(oe),T=d.memoizedState,Nn&&Wr!==null&&d.mode&1&&!(d.flags&128)){for(f=Wr;f;)f=qs(f);return au(),d.flags|=98560,d}if(T!==null&&T.dehydrated!==null){if(T=kc(d),f===null){if(!T)throw Error(o(318));if(!De)throw Error(o(344));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));ge(f,d)}else au(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return bt(d),null}return Ts!==null&&(hl(Ts),Ts=null),d.flags&128?(d.lanes=_,d):(T=T!==null,_=!1,f===null?kc(d):_=f.memoizedState!==null,T&&!_&&(d.child.flags|=8192,d.mode&1&&(f===null||oe.current&1?rr===0&&(rr=3):ed())),d.updateQueue!==null&&(d.flags|=4),bt(d),null);case 4:return hu(),yu(f,d),f===null&&Ne(d.stateNode.containerInfo),bt(d),null;case 10:return Lh(d.type._context),bt(d),null;case 17:return Yn(d.type)&&Do(),bt(d),null;case 19:if(En(oe),b=d.memoizedState,b===null)return bt(d),null;if(T=(d.flags&128)!==0,B=b.rendering,B===null)if(T)ti(b,!1);else{if(rr!==0||f!==null&&f.flags&128)for(f=d.child;f!==null;){if(B=Ee(f),B!==null){for(d.flags|=128,ti(b,!1),f=B.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),d.subtreeFlags=0,f=_,T=d.child;T!==null;)_=T,b=f,_.flags&=14680066,B=_.alternate,B===null?(_.childLanes=0,_.lanes=b,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=B.childLanes,_.lanes=B.lanes,_.child=B.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=B.memoizedProps,_.memoizedState=B.memoizedState,_.updateQueue=B.updateQueue,_.type=B.type,b=B.dependencies,_.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext}),T=T.sibling;return kt(oe,oe.current&1|2),d.child}f=f.sibling}b.tail!==null&&Lr()>rf&&(d.flags|=128,T=!0,ti(b,!1),d.lanes=4194304)}else{if(!T)if(f=Ee(B),f!==null){if(d.flags|=128,T=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),ti(b,!0),b.tail===null&&b.tailMode==="hidden"&&!B.alternate&&!Nn)return bt(d),null}else 2*Lr()-b.renderingStartTime>rf&&_!==1073741824&&(d.flags|=128,T=!0,ti(b,!1),d.lanes=4194304);b.isBackwards?(B.sibling=d.child,d.child=B):(f=b.last,f!==null?f.sibling=B:d.child=B,b.last=B)}return b.tail!==null?(d=b.tail,b.rendering=d,b.tail=d.sibling,b.renderingStartTime=Lr(),d.sibling=null,f=oe.current,kt(oe,T?f&1|2:f&1),d):(bt(d),null);case 22:case 23:return Wm(),T=d.memoizedState!==null,f!==null&&f.memoizedState!==null!==T&&(d.flags|=8192),T&&d.mode&1?Hi&1073741824&&(bt(d),He&&d.subtreeFlags&6&&(d.flags|=8192)):bt(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var tS=a.ReactCurrentOwner,Ni=!1;function tr(f,d,_,T){d.child=f===null?Kv(d,null,_,T):uu(d,f.child,_,T)}function ay(f,d,_,T,b){_=_.render;var B=d.ref;return nl(d,b),T=An(f,d,_,T,B,b),_=Sm(),f!==null&&!Ni?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~b,Cr(f,d,b)):(Nn&&_&&Nh(d),d.flags|=1,tr(f,d,T,b),d.child)}function ly(f,d,_,T,b){if(f===null){var B=_.type;return typeof B=="function"&&!Qm(B)&&B.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(d.tag=15,d.type=B,uy(f,d,B,T,b)):(f=rd(_.type,null,T,d,d.mode,b),f.ref=d.ref,f.return=d,d.child=f)}if(B=f.child,!(f.lanes&b)){var X=B.memoizedProps;if(_=_.compare,_=_!==null?_:dr,_(X,T)&&f.ref===d.ref)return Cr(f,d,b)}return d.flags|=1,f=Go(B,T),f.ref=d.ref,f.return=d,d.child=f}function uy(f,d,_,T,b){if(f!==null&&dr(f.memoizedProps,T)&&f.ref===d.ref)if(Ni=!1,(f.lanes&b)!==0)f.flags&131072&&(Ni=!0);else return d.lanes=f.lanes,Cr(f,d,b);return bs(f,d,_,T,b)}function cy(f,d,_){var T=d.pendingProps,b=T.children,B=f!==null?f.memoizedState:null;if(T.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},kt(Su,Hi),Hi|=_;else if(_&1073741824)d.memoizedState={baseLanes:0,cachePool:null},T=B!==null?B.baseLanes:_,kt(Su,Hi),Hi|=T;else return f=B!==null?B.baseLanes|_:_,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f,cachePool:null},d.updateQueue=null,kt(Su,Hi),Hi|=f,null;else B!==null?(T=B.baseLanes|_,d.memoizedState=null):T=_,kt(Su,Hi),Hi|=T;return tr(f,d,b,_),d.child}function fy(f,d){var _=d.ref;(f===null&&_!==null||f!==null&&f.ref!==_)&&(d.flags|=512,d.flags|=2097152)}function bs(f,d,_,T,b){var B=Yn(_)?ts:hr.current;return B=kn(d,B),nl(d,b),_=An(f,d,_,T,B,b),T=Sm(),f!==null&&!Ni?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~b,Cr(f,d,b)):(Nn&&T&&Nh(d),d.flags|=1,tr(f,d,_,b),d.child)}function hy(f,d,_,T,b){if(Yn(_)){var B=!0;ql(d)}else B=!1;if(nl(d,b),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),Vv(d,_,T),iu(d,_,T,b),T=!0;else if(f===null){var X=d.stateNode,ae=d.memoizedProps;X.props=ae;var we=X.context,je=_.contextType;typeof je=="object"&&je!==null?je=Hn(je):(je=Yn(_)?ts:hr.current,je=kn(d,je));var ft=_.getDerivedStateFromProps,Vt=typeof ft=="function"||typeof X.getSnapshotBeforeUpdate=="function";Vt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ae!==T||we!==je)&&ym(d,X,T,je),wr=!1;var wt=d.memoizedState;X.state=wt,Ms(d,T,X,b),we=d.memoizedState,ae!==T||wt!==we||er.current||wr?(typeof ft=="function"&&(Oc(d,_,ft,T),we=d.memoizedState),(ae=wr||Gv(d,_,ae,T,wt,we,je))?(Vt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(d.flags|=4194308)):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=we),X.props=T,X.state=we,X.context=je,T=ae):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{X=d.stateNode,vm(f,d),ae=d.memoizedProps,je=d.type===d.elementType?ae:Gr(d.type,ae),X.props=je,Vt=d.pendingProps,wt=X.context,we=_.contextType,typeof we=="object"&&we!==null?we=Hn(we):(we=Yn(_)?ts:hr.current,we=kn(d,we));var Cn=_.getDerivedStateFromProps;(ft=typeof Cn=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(ae!==Vt||wt!==we)&&ym(d,X,T,we),wr=!1,wt=d.memoizedState,X.state=wt,Ms(d,T,X,b);var vt=d.memoizedState;ae!==Vt||wt!==vt||er.current||wr?(typeof Cn=="function"&&(Oc(d,_,Cn,T),vt=d.memoizedState),(je=wr||Gv(d,_,je,T,wt,vt,we)||!1)?(ft||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(T,vt,we),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(T,vt,we)),typeof X.componentDidUpdate=="function"&&(d.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof X.componentDidUpdate!="function"||ae===f.memoizedProps&&wt===f.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ae===f.memoizedProps&&wt===f.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=vt),X.props=T,X.state=vt,X.context=we,T=je):(typeof X.componentDidUpdate!="function"||ae===f.memoizedProps&&wt===f.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||ae===f.memoizedProps&&wt===f.memoizedState||(d.flags|=1024),T=!1)}return Rm(f,d,_,T,B,b)}function Rm(f,d,_,T,b,B){fy(f,d);var X=(d.flags&128)!==0;if(!T&&!X)return b&&Zl(d,_,!1),Cr(f,d,B);T=d.stateNode,tS.current=d;var ae=X&&typeof _.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,f!==null&&X?(d.child=uu(d,f.child,null,B),d.child=uu(d,null,ae,B)):tr(f,d,ae,B),d.memoizedState=T.state,b&&Zl(d,_,!0),d.child}function dy(f){var d=f.stateNode;d.pendingContext?Mr(f,d.pendingContext,d.pendingContext!==d.context):d.context&&Mr(f,d.context,!1),Am(f,d.containerInfo)}function py(f,d,_,T,b){return au(),Hc(b),d.flags|=256,tr(f,d,_,T),d.child}var Gh={dehydrated:null,treeContext:null,retryLane:0};function rs(f){return{baseLanes:f,cachePool:null}}function my(f,d,_){var T=d.pendingProps,b=oe.current,B=!1,X=(d.flags&128)!==0,ae;if((ae=X)||(ae=f!==null&&f.memoizedState===null?!1:(b&2)!==0),ae?(B=!0,d.flags&=-129):(f===null||f.memoizedState!==null)&&(b|=1),kt(oe,b&1),f===null)return _m(d),f=d.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(d.mode&1?va(f)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(b=T.children,f=T.fallback,B?(T=d.mode,B=d.child,b={mode:"hidden",children:b},!(T&1)&&B!==null?(B.childLanes=0,B.pendingProps=b):B=uf(b,T,0,null),f=Ba(f,T,_,null),B.return=d,f.return=d,B.sibling=f,d.child=B,d.child.memoizedState=rs(_),d.memoizedState=Gh,f):Pm(d,b));if(b=f.memoizedState,b!==null){if(ae=b.dehydrated,ae!==null){if(X)return d.flags&256?(d.flags&=-257,Vh(f,d,_,Error(o(422)))):d.memoizedState!==null?(d.child=f.child,d.flags|=128,null):(B=T.fallback,b=d.mode,T=uf({mode:"visible",children:T.children},b,0,null),B=Ba(B,b,_,null),B.flags|=2,T.return=d,B.return=d,T.sibling=B,d.child=T,d.mode&1&&uu(d,f.child,null,_),d.child.memoizedState=rs(_),d.memoizedState=Gh,B);if(!(d.mode&1))d=Vh(f,d,_,null);else if(va(ae))d=Vh(f,d,_,Error(o(419)));else if(T=(_&f.childLanes)!==0,Ni||T){if(T=pr,T!==null){switch(_&-_){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}T=B&(T.suspendedLanes|_)?0:B,T!==0&&T!==b.retryLane&&(b.retryLane=T,is(f,T,-1))}ed(),d=Vh(f,d,_,Error(o(421)))}else Ql(ae)?(d.flags|=128,d.child=f.child,d=Ia.bind(null,f),wh(ae,d),d=null):(_=b.treeContext,De&&(Wr=lm(ae),mi=d,Nn=!0,Ts=null,ou=!1,_!==null&&(Mi[wi++]=Oo,Mi[wi++]=Es,Mi[wi++]=ya,Oo=_.id,Es=_.overflow,ya=d)),d=Pm(d,d.pendingProps.children),d.flags|=4096);return d}return B?(T=vy(f,d,T.children,T.fallback,_),B=d.child,b=f.child.memoizedState,B.memoizedState=b===null?rs(_):{baseLanes:b.baseLanes|_,cachePool:null},B.childLanes=f.childLanes&~_,d.memoizedState=Gh,T):(_=gy(f,d,T.children,_),d.memoizedState=null,_)}return B?(T=vy(f,d,T.children,T.fallback,_),B=d.child,b=f.child.memoizedState,B.memoizedState=b===null?rs(_):{baseLanes:b.baseLanes|_,cachePool:null},B.childLanes=f.childLanes&~_,d.memoizedState=Gh,T):(_=gy(f,d,T.children,_),d.memoizedState=null,_)}function Pm(f,d){return d=uf({mode:"visible",children:d},f.mode,0,null),d.return=f,f.child=d}function gy(f,d,_,T){var b=f.child;return f=b.sibling,_=Go(b,{mode:"visible",children:_}),!(d.mode&1)&&(_.lanes=T),_.return=d,_.sibling=null,f!==null&&(T=d.deletions,T===null?(d.deletions=[f],d.flags|=16):T.push(f)),d.child=_}function vy(f,d,_,T,b){var B=d.mode;f=f.child;var X=f.sibling,ae={mode:"hidden",children:_};return!(B&1)&&d.child!==f?(_=d.child,_.childLanes=0,_.pendingProps=ae,d.deletions=null):(_=Go(f,ae),_.subtreeFlags=f.subtreeFlags&14680064),X!==null?T=Go(X,T):(T=Ba(T,B,b,null),T.flags|=2),T.return=d,_.return=d,_.sibling=T,d.child=_,T}function Vh(f,d,_,T){return T!==null&&Hc(T),uu(d,f.child,null,_),f=Pm(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function Ma(f,d,_){f.lanes|=d;var T=f.alternate;T!==null&&(T.lanes|=d),Dh(f.return,d,_)}function Im(f,d,_,T,b){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:_,tailMode:b}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=T,B.tail=_,B.tailMode=b)}function yy(f,d,_){var T=d.pendingProps,b=T.revealOrder,B=T.tail;if(tr(f,d,T.children,_),T=oe.current,T&2)T=T&1|2,d.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Ma(f,_,d);else if(f.tag===19)Ma(f,_,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}if(kt(oe,T),!(d.mode&1))d.memoizedState=null;else switch(b){case"forwards":for(_=d.child,b=null;_!==null;)f=_.alternate,f!==null&&Ee(f)===null&&(b=_),_=_.sibling;_=b,_===null?(b=d.child,d.child=null):(b=_.sibling,_.sibling=null),Im(d,!1,b,_,B);break;case"backwards":for(_=null,b=d.child,d.child=null;b!==null;){if(f=b.alternate,f!==null&&Ee(f)===null){d.child=b;break}f=b.sibling,b.sibling=_,_=b,b=f}Im(d,!0,_,null,B);break;case"together":Im(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Cr(f,d,_){if(f!==null&&(d.dependencies=f.dependencies),wu|=d.lanes,!(_&d.childLanes))return null;if(f!==null&&d.child!==f.child)throw Error(o(153));if(d.child!==null){for(f=d.child,_=Go(f,f.pendingProps),d.child=_,_.return=d;f.sibling!==null;)f=f.sibling,_=_.sibling=Go(f,f.pendingProps),_.return=d;_.sibling=null}return d.child}function nS(f,d,_){switch(d.tag){case 3:dy(d),au();break;case 5:Yv(d);break;case 1:Yn(d.type)&&ql(d);break;case 4:Am(d,d.stateNode.containerInfo);break;case 10:mm(d,d.type._context,d.memoizedProps.value);break;case 13:var T=d.memoizedState;if(T!==null)return T.dehydrated!==null?(kt(oe,oe.current&1),d.flags|=128,null):_&d.child.childLanes?my(f,d,_):(kt(oe,oe.current&1),f=Cr(f,d,_),f!==null?f.sibling:null);kt(oe,oe.current&1);break;case 19:if(T=(_&d.childLanes)!==0,f.flags&128){if(T)return yy(f,d,_);d.flags|=128}var b=d.memoizedState;if(b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),kt(oe,oe.current),T)break;return null;case 22:case 23:return d.lanes=0,cy(f,d,_)}return Cr(f,d,_)}function rS(f,d){switch(pi(d),d.tag){case 1:return Yn(d.type)&&Do(),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return hu(),En(er),En(hr),at(),f=d.flags,f&65536&&!(f&128)?(d.flags=f&-65537|128,d):null;case 5:return xa(d),null;case 13:if(En(oe),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(o(340));au()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return En(oe),null;case 4:return hu(),null;case 10:return Lh(d.type._context),null;case 22:case 23:return Wm(),null;case 24:return null;default:return null}}var Wh=!1,ll=!1,iS=typeof WeakSet=="function"?WeakSet:Set,nt=null;function $c(f,d){var _=f.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(T){si(f,d,T)}else _.current=null}function Bm(f,d,_){try{_()}catch(T){si(f,d,T)}}var xy=!1;function Lm(f,d){for(te(f.containerInfo),nt=d;nt!==null;)if(f=nt,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,nt=d;else for(;nt!==null;){f=nt;try{var _=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,b=_.memoizedState,B=f.stateNode,X=B.getSnapshotBeforeUpdate(f.elementType===f.type?T:Gr(f.type,T),b);B.__reactInternalSnapshotBeforeUpdate=X}break;case 3:He&&Je(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ae){si(f,f.return,ae)}if(d=f.sibling,d!==null){d.return=f.return,nt=d;break}nt=f.return}return _=xy,xy=!1,_}function Rs(f,d,_){var T=d.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var b=T=T.next;do{if((b.tag&f)===f){var B=b.destroy;b.destroy=void 0,B!==void 0&&Bm(d,_,B)}b=b.next}while(b!==T)}}function wa(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var _=d=d.next;do{if((_.tag&f)===f){var T=_.create;_.destroy=T()}_=_.next}while(_!==d)}}function Dm(f){var d=f.ref;if(d!==null){var _=f.stateNode;switch(f.tag){case 5:f=de(_);break;default:f=_}typeof d=="function"?d(f):d.current=f}}function Fm(f,d,_){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(Rh,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var T=f=f.next;do{var b=T,B=b.destroy;b=b.tag,B!==void 0&&(b&2||b&4)&&Bm(d,_,B),T=T.next}while(T!==f)}break;case 1:if($c(d,_),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(X){si(d,_,X)}break;case 5:$c(d,_);break;case 4:He?Nm(f,d,_):K&&K&&(d=d.stateNode.containerInfo,_=rn(d),zr(d,_))}}function _y(f,d,_){for(var T=d;;)if(Fm(f,T,_),T.child===null||He&&T.tag===4){if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function ao(f){var d=f.alternate;d!==null&&(f.alternate=null,ao(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&Ke(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function jh(f){return f.tag===5||f.tag===3||f.tag===4}function Ea(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||jh(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Ui(f){if(He){e:{for(var d=f.return;d!==null;){if(jh(d))break e;d=d.return}throw Error(o(160))}var _=d;switch(_.tag){case 5:d=_.stateNode,_.flags&32&&(Pe(d),_.flags&=-33),_=Ea(f),Xh(f,_,d);break;case 3:case 4:d=_.stateNode.containerInfo,_=Ea(f),Om(f,_,d);break;default:throw Error(o(161))}}}function Om(f,d,_){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?Mt(_,f,d):dt(_,f);else if(T!==4&&(f=f.child,f!==null))for(Om(f,d,_),f=f.sibling;f!==null;)Om(f,d,_),f=f.sibling}function Xh(f,d,_){var T=f.tag;if(T===5||T===6)f=f.stateNode,d?At(_,f,d):Ye(_,f);else if(T!==4&&(f=f.child,f!==null))for(Xh(f,d,_),f=f.sibling;f!==null;)Xh(f,d,_),f=f.sibling}function Nm(f,d,_){for(var T=d,b=!1,B,X;;){if(!b){b=T.return;e:for(;;){if(b===null)throw Error(o(160));switch(B=b.stateNode,b.tag){case 5:X=!1;break e;case 3:B=B.containerInfo,X=!0;break e;case 4:B=B.containerInfo,X=!0;break e}b=b.return}b=!0}if(T.tag===5||T.tag===6)_y(f,T,_),X?Z(B,T.stateNode):lt(B,T.stateNode);else if(T.tag===18)X?Tt(B,T.stateNode):ct(B,T.stateNode);else if(T.tag===4){if(T.child!==null){B=T.stateNode.containerInfo,X=!0,T.child.return=T,T=T.child;continue}}else if(Fm(f,T,_),T.child!==null){T.child.return=T,T=T.child;continue}if(T===d)break;for(;T.sibling===null;){if(T.return===null||T.return===d)return;T=T.return,T.tag===4&&(b=!1)}T.sibling.return=T.return,T=T.sibling}}function ul(f,d){if(He){switch(d.tag){case 0:case 11:case 14:case 15:Rs(3,d,d.return),wa(3,d),Rs(5,d,d.return);return;case 1:return;case 5:var _=d.stateNode;if(_!=null){var T=d.memoizedProps;f=f!==null?f.memoizedProps:T;var b=d.type,B=d.updateQueue;d.updateQueue=null,B!==null&&St(_,B,b,f,T,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));_=d.memoizedProps,Qe(d.stateNode,f!==null?f.memoizedProps:_,_);return;case 3:De&&f!==null&&f.memoizedState.isDehydrated&&pe(d.stateNode.containerInfo);return;case 12:return;case 13:Ps(d);return;case 19:Ps(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Rs(3,d,d.return),wa(3,d),Rs(5,d,d.return);return;case 12:return;case 13:Ps(d);return;case 19:Ps(d);return;case 3:De&&f!==null&&f.memoizedState.isDehydrated&&pe(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,zr(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function Ps(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var _=f.stateNode;_===null&&(_=f.stateNode=new iS),d.forEach(function(T){var b=by.bind(null,f,T);_.has(T)||(_.add(T),T.then(b,b))})}}function Ay(f,d){for(nt=d;nt!==null;){d=nt;var _=d.deletions;if(_!==null)for(var T=0;T<_.length;T++){var b=_[T];try{var B=f;He?Nm(B,b,d):_y(B,b,d);var X=b.alternate;X!==null&&(X.return=null),b.return=null}catch(yt){si(b,d,yt)}}if(_=d.child,d.subtreeFlags&12854&&_!==null)_.return=d,nt=_;else for(;nt!==null;){d=nt;try{var ae=d.flags;if(ae&32&&He&&Pe(d.stateNode),ae&512){var we=d.alternate;if(we!==null){var je=we.ref;je!==null&&(typeof je=="function"?je(null):je.current=null)}}if(ae&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var ft=d.alternate;(ft===null||ft.memoizedState===null)&&(Gm=Lr())}break;case 22:var Vt=d.memoizedState!==null,wt=d.alternate,Cn=wt!==null&&wt.memoizedState!==null;if(_=d,He){e:if(T=_,b=Vt,B=null,He)for(var vt=T;;){if(vt.tag===5){if(B===null){B=vt;var ai=vt.stateNode;b?tt(ai):Ve(vt.stateNode,vt.memoizedProps)}}else if(vt.tag===6){if(B===null){var Gi=vt.stateNode;b?$(Gi):ve(Gi,vt.memoizedProps)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===T)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===T)break;for(;vt.sibling===null;){if(vt.return===null||vt.return===T)break e;B===vt&&(B=null),vt=vt.return}B===vt&&(B=null),vt.sibling.return=vt.return,vt=vt.sibling}}if(Vt&&!Cn&&_.mode&1){nt=_;for(var me=_.child;me!==null;){for(_=nt=me;nt!==null;){T=nt;var ue=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Rs(4,T,T.return);break;case 1:$c(T,T.return);var _e=T.stateNode;if(typeof _e.componentWillUnmount=="function"){var ot=T.return;try{_e.props=T.memoizedProps,_e.state=T.memoizedState,_e.componentWillUnmount()}catch(yt){si(T,ot,yt)}}break;case 5:$c(T,T.return);break;case 22:if(T.memoizedState!==null){Um(_);continue}}ue!==null?(ue.return=T,nt=ue):Um(_)}me=me.sibling}}}switch(ae&4102){case 2:Ui(d),d.flags&=-3;break;case 6:Ui(d),d.flags&=-3,ul(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,ul(d.alternate,d);break;case 4:ul(d.alternate,d)}}catch(yt){si(d,d.return,yt)}if(_=d.sibling,_!==null){_.return=d.return,nt=_;break}nt=d.return}}}function sS(f,d,_){nt=f,ef(f)}function ef(f,d,_){for(var T=(f.mode&1)!==0;nt!==null;){var b=nt,B=b.child;if(b.tag===22&&T){var X=b.memoizedState!==null||Wh;if(!X){var ae=b.alternate,we=ae!==null&&ae.memoizedState!==null||ll;ae=Wh;var je=ll;if(Wh=X,(ll=we)&&!je)for(nt=b;nt!==null;)X=nt,we=X.child,X.tag===22&&X.memoizedState!==null?Or(b):we!==null?(we.return=X,nt=we):Or(b);for(;B!==null;)nt=B,ef(B),B=B.sibling;nt=b,Wh=ae,ll=je}Sy(f)}else b.subtreeFlags&8772&&B!==null?(B.return=b,nt=B):Sy(f)}}function Sy(f){for(;nt!==null;){var d=nt;if(d.flags&8772){var _=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:ll||wa(5,d);break;case 1:var T=d.stateNode;if(d.flags&4&&!ll)if(_===null)T.componentDidMount();else{var b=d.elementType===d.type?_.memoizedProps:Gr(d.type,_.memoizedProps);T.componentDidUpdate(b,_.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var B=d.updateQueue;B!==null&&Fh(d,B,T);break;case 3:var X=d.updateQueue;if(X!==null){if(_=null,d.child!==null)switch(d.child.tag){case 5:_=de(d.child.stateNode);break;case 1:_=d.child.stateNode}Fh(d,X,_)}break;case 5:var ae=d.stateNode;_===null&&d.flags&4&&Ce(ae,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(De&&d.memoizedState===null){var we=d.alternate;if(we!==null){var je=we.memoizedState;if(je!==null){var ft=je.dehydrated;ft!==null&&Re(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ll||d.flags&512&&Dm(d)}catch(Vt){si(d,d.return,Vt)}}if(d===f){nt=null;break}if(_=d.sibling,_!==null){_.return=d.return,nt=_;break}nt=d.return}}function Um(f){for(;nt!==null;){var d=nt;if(d===f){nt=null;break}var _=d.sibling;if(_!==null){_.return=d.return,nt=_;break}nt=d.return}}function Or(f){for(;nt!==null;){var d=nt;try{switch(d.tag){case 0:case 11:case 15:var _=d.return;try{wa(4,d)}catch(we){si(d,_,we)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var b=d.return;try{T.componentDidMount()}catch(we){si(d,b,we)}}var B=d.return;try{Dm(d)}catch(we){si(d,B,we)}break;case 5:var X=d.return;try{Dm(d)}catch(we){si(d,X,we)}}}catch(we){si(d,d.return,we)}if(d===f){nt=null;break}var ae=d.sibling;if(ae!==null){ae.return=d.return,nt=ae;break}nt=d.return}}var xu=0,tf=1,ki=2,_u=3,cl=4;if(typeof Symbol=="function"&&Symbol.for){var Is=Symbol.for;xu=Is("selector.component"),tf=Is("selector.has_pseudo_class"),ki=Is("selector.role"),_u=Is("selector.test_id"),cl=Is("selector.text")}function Jh(f){var d=Se(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(f=Et(f),f===null)throw Error(o(362));return f.stateNode.current}function jr(f,d){switch(d.$$typeof){case xu:if(f.type===d.value)return!0;break;case tf:e:{d=d.value,f=[f,0];for(var _=0;_<f.length;){var T=f[_++],b=f[_++],B=d[b];if(T.tag!==5||!H(T)){for(;B!=null&&jr(T,B);)b++,B=d[b];if(b===d.length){d=!0;break e}else for(T=T.child;T!==null;)f.push(T,b),T=T.sibling}}d=!1}return d;case ki:if(f.tag===5&&Ae(f.stateNode,d.value))return!0;break;case cl:if((f.tag===5||f.tag===6)&&(f=J(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case _u:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function nf(f){switch(f.$$typeof){case xu:return"<"+(D(f.value)||"Unknown")+">";case tf:return":has("+(nf(f)||"")+")";case ki:return'[role="'+f.value+'"]';case cl:return'"'+f.value+'"';case _u:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function My(f,d){var _=[];f=[f,0];for(var T=0;T<f.length;){var b=f[T++],B=f[T++],X=d[B];if(b.tag!==5||!H(b)){for(;X!=null&&jr(b,X);)B++,X=d[B];if(B===d.length)_.push(b);else for(b=b.child;b!==null;)f.push(b,B),b=b.sibling}}return _}function km(f,d){if(!gt)throw Error(o(363));f=Jh(f),f=My(f,d),d=[],f=Array.from(f);for(var _=0;_<f.length;){var T=f[_++];if(T.tag===5)H(T)||d.push(T.stateNode);else for(T=T.child;T!==null;)f.push(T),T=T.sibling}return d}var oS=Math.ceil,Au=a.ReactCurrentDispatcher,Hm=a.ReactCurrentOwner,Un=a.ReactCurrentBatchConfig,Qt=0,pr=null,mr=null,nr=0,Hi=0,Su=jt(0),rr=0,Mu=null,wu=0,Kh=0,zm=0,Eu=null,ni=null,Gm=0,rf=1/0;function fl(){rf=Lr()+500}var sf=!1,Yh=null,Bs=null,Qh=!1,zo=null,of=0,af=0,qh=null,Zh=-1,Tu=0;function ri(){return Qt&6?Lr():Zh!==-1?Zh:Zh=Lr()}function lo(f){return f.mode&1?Qt&2&&nr!==0?nr&-nr:Z1.transition!==null?(Tu===0&&(f=$l,$l<<=1,!($l&4194240)&&($l=64),Tu=f),Tu):(f=vn,f!==0?f:Be()):1}function is(f,d,_){if(50<af)throw af=0,qh=null,Error(o(185));var T=Cu(f,d);return T===null?null:(tu(T,d,_),(!(Qt&2)||T!==pr)&&(T===pr&&(!(Qt&2)&&(Kh|=d),rr===4&&Ta(T,nr)),Ct(T,_),d===1&&Qt===0&&!(f.mode&1)&&(fl(),Ph&&As())),T)}function Cu(f,d){f.lanes|=d;var _=f.alternate;for(_!==null&&(_.lanes|=d),_=f,f=f.return;f!==null;)f.childLanes|=d,_=f.alternate,_!==null&&(_.childLanes|=d),_=f,f=f.return;return _.tag===3?_.stateNode:null}function Ct(f,d){var _=f.callbackNode;X1(f,d);var T=Lc(f,f===pr?nr:0);if(T===0)_!==null&&kv(_),f.callbackNode=null,f.callbackPriority=0;else if(d=T&-T,f.callbackPriority!==d){if(_!=null&&kv(_),d===1)f.tag===0?q1(Ty.bind(null,f)):Hv(Ty.bind(null,f)),qe?rt(function(){Qt===0&&As()}):bh(Dc,As),_=null;else{switch(Uv(T)){case 1:_=Dc;break;case 4:_=Y1;break;case 16:_=hm;break;case 536870912:_=Q1;break;default:_=hm}_=nd(_,wy.bind(null,f))}f.callbackPriority=d,f.callbackNode=_}}function wy(f,d){if(Zh=-1,Tu=0,Qt&6)throw Error(o(327));var _=f.callbackNode;if(Ra()&&f.callbackNode!==_)return null;var T=Lc(f,f===pr?nr:0);if(T===0)return null;if(T&30||T&f.expiredLanes||d)d=ii(f,T);else{d=T;var b=Qt;Qt|=2;var B=jm();(pr!==f||nr!==d)&&(fl(),uo(f,d));do try{Xm();break}catch(ae){$h(f,ae)}while(!0);Bh(),Au.current=B,Qt=b,mr!==null?d=0:(pr=null,nr=0,d=rr)}if(d!==0){if(d===2&&(b=Th(f),b!==0&&(T=b,d=Vm(f,b))),d===1)throw _=Mu,uo(f,0),Ta(f,T),Ct(f,Lr()),_;if(d===6)Ta(f,T);else{if(b=f.current.alternate,!(T&30)&&!Ey(b)&&(d=ii(f,T),d===2&&(B=Th(f),B!==0&&(T=B,d=Vm(f,B))),d===1))throw _=Mu,uo(f,0),Ta(f,T),Ct(f,Lr()),_;switch(f.finishedWork=b,f.finishedLanes=T,d){case 0:case 1:throw Error(o(345));case 2:ba(f,ni);break;case 3:if(Ta(f,T),(T&130023424)===T&&(d=Gm+500-Lr(),10<d)){if(Lc(f,0)!==0)break;if(b=f.suspendedLanes,(b&T)!==T){ri(),f.pingedLanes|=f.suspendedLanes&b;break}f.timeoutHandle=Ge(ba.bind(null,f,ni),d);break}ba(f,ni);break;case 4:if(Ta(f,T),(T&4194240)===T)break;for(d=f.eventTimes,b=-1;0<T;){var X=31-ns(T);B=1<<X,X=d[X],X>b&&(b=X),T&=~B}if(T=b,T=Lr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*oS(T/1960))-T,10<T){f.timeoutHandle=Ge(ba.bind(null,f,ni),T);break}ba(f,ni);break;case 5:ba(f,ni);break;default:throw Error(o(329))}}}return Ct(f,Lr()),f.callbackNode===_?wy.bind(null,f):null}function Vm(f,d){var _=Eu;return f.current.memoizedState.isDehydrated&&(uo(f,d).flags|=256),f=ii(f,d),f!==2&&(d=ni,ni=_,d!==null&&hl(d)),f}function hl(f){ni===null?ni=f:ni.push.apply(ni,f)}function Ey(f){for(var d=f;;){if(d.flags&16384){var _=d.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var T=0;T<_.length;T++){var b=_[T],B=b.getSnapshot;b=b.value;try{if(!eo(B(),b))return!1}catch{return!1}}}if(_=d.child,d.subtreeFlags&16384&&_!==null)_.return=d,d=_;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ta(f,d){for(d&=~zm,d&=~Kh,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var _=31-ns(d),T=1<<_;f[_]=-1,d&=~T}}function Ty(f){if(Qt&6)throw Error(o(327));Ra();var d=Lc(f,0);if(!(d&1))return Ct(f,Lr()),null;var _=ii(f,d);if(f.tag!==0&&_===2){var T=Th(f);T!==0&&(d=T,_=Vm(f,T))}if(_===1)throw _=Mu,uo(f,0),Ta(f,d),Ct(f,Lr()),_;if(_===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=d,ba(f,ni),Ct(f,Lr()),null}function zi(f){zo!==null&&zo.tag===0&&!(Qt&6)&&Ra();var d=Qt;Qt|=1;var _=Un.transition,T=vn;try{if(Un.transition=null,vn=1,f)return f()}finally{vn=T,Un.transition=_,Qt=d,!(Qt&6)&&As()}}function Wm(){Hi=Su.current,En(Su)}function uo(f,d){f.finishedWork=null,f.finishedLanes=0;var _=f.timeoutHandle;if(_!==et&&(f.timeoutHandle=et,ut(_)),mr!==null)for(_=mr.return;_!==null;){var T=_;switch(pi(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Do();break;case 3:hu(),En(er),En(hr),at();break;case 5:xa(T);break;case 4:hu();break;case 13:En(oe);break;case 19:En(oe);break;case 10:Lh(T.type._context);break;case 22:case 23:Wm()}_=_.return}if(pr=f,mr=f=Go(f.current,null),nr=Hi=d,rr=0,Mu=null,zm=Kh=wu=0,ni=Eu=null,to!==null){for(d=0;d<to.length;d++)if(_=to[d],T=_.interleaved,T!==null){_.interleaved=null;var b=T.next,B=_.pending;if(B!==null){var X=B.next;B.next=b,T.next=X}_.pending=T}to=null}return f}function $h(f,d){do{var _=mr;try{if(Bh(),Ot.current=gu,gi){for(var T=Bt.memoizedState;T!==null;){var b=T.queue;b!==null&&(b.pending=null),T=T.next}gi=!1}if(zn=0,Fr=Dr=Bt=null,_a=!1,Gc=0,Hm.current=null,_===null||_.return===null){rr=1,Mu=d,mr=null;break}e:{var B=f,X=_.return,ae=_,we=d;if(d=nr,ae.flags|=32768,we!==null&&typeof we=="object"&&typeof we.then=="function"){var je=we,ft=ae,Vt=ft.tag;if(!(ft.mode&1)&&(Vt===0||Vt===11||Vt===15)){var wt=ft.alternate;wt?(ft.updateQueue=wt.updateQueue,ft.memoizedState=wt.memoizedState,ft.lanes=wt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var Cn=sy(X);if(Cn!==null){Cn.flags&=-257,oy(Cn,X,ae,B,d),Cn.mode&1&&iy(B,je,d),d=Cn,we=je;var vt=d.updateQueue;if(vt===null){var ai=new Set;ai.add(we),d.updateQueue=ai}else vt.add(we);break e}else{if(!(d&1)){iy(B,je,d),ed();break e}we=Error(o(426))}}else if(Nn&&ae.mode&1){var Gi=sy(X);if(Gi!==null){!(Gi.flags&65536)&&(Gi.flags|=256),oy(Gi,X,ae,B,d),Hc(we);break e}}B=we,rr!==4&&(rr=2),Eu===null?Eu=[B]:Eu.push(B),we=sl(we,ae),ae=X;do{switch(ae.tag){case 3:ae.flags|=65536,d&=-d,ae.lanes|=d;var me=al(ae,we,d);On(ae,me);break e;case 1:B=we;var ue=ae.type,_e=ae.stateNode;if(!(ae.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||_e!==null&&typeof _e.componentDidCatch=="function"&&(Bs===null||!Bs.has(_e)))){ae.flags|=65536,d&=-d,ae.lanes|=d;var ot=ry(ae,B,d);On(ae,ot);break e}}ae=ae.return}while(ae!==null)}lf(_)}catch(yt){d=yt,mr===_&&_!==null&&(mr=_=_.return);continue}break}while(!0)}function jm(){var f=Au.current;return Au.current=gu,f===null?gu:f}function ed(){(rr===0||rr===3||rr===2)&&(rr=4),pr===null||!(wu&268435455)&&!(Kh&268435455)||Ta(pr,nr)}function ii(f,d){var _=Qt;Qt|=2;var T=jm();pr===f&&nr===d||uo(f,d);do try{Ca();break}catch(b){$h(f,b)}while(!0);if(Bh(),Qt=_,Au.current=T,mr!==null)throw Error(o(261));return pr=null,nr=0,rr}function Ca(){for(;mr!==null;)Jm(mr)}function Xm(){for(;mr!==null&&!J1();)Jm(mr)}function Jm(f){var d=Ym(f.alternate,f,Hi);f.memoizedProps=f.pendingProps,d===null?lf(f):mr=d,Hm.current=null}function lf(f){var d=f;do{var _=d.alternate;if(f=d.return,d.flags&32768){if(_=rS(_,d),_!==null){_.flags&=32767,mr=_;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{rr=6,mr=null;return}}else if(_=eS(_,d,Hi),_!==null){mr=_;return}if(d=d.sibling,d!==null){mr=d;return}mr=d=f}while(d!==null);rr===0&&(rr=5)}function ba(f,d){var _=vn,T=Un.transition;try{Un.transition=null,vn=1,Km(f,d,_)}finally{Un.transition=T,vn=_}return null}function Km(f,d,_){do Ra();while(zo!==null);if(Qt&6)throw Error(o(327));var T=f.finishedWork,b=f.finishedLanes;if(T===null)return null;if(f.finishedWork=null,f.finishedLanes=0,T===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var B=T.lanes|T.childLanes;if(Nv(f,B),f===pr&&(mr=pr=null,nr=0),!(T.subtreeFlags&2064)&&!(T.flags&2064)||Qh||(Qh=!0,nd(hm,function(){return Ra(),null})),B=(T.flags&15990)!==0,T.subtreeFlags&15990||B){B=Un.transition,Un.transition=null;var X=vn;vn=1;var ae=Qt;Qt|=4,Hm.current=null,Lm(f,T),Ay(f,T),ie(f.containerInfo),f.current=T,sS(T),K1(),Qt=ae,vn=X,Un.transition=B}else f.current=T;if(Qh&&(Qh=!1,zo=f,of=b),B=f.pendingLanes,B===0&&(Bs=null),Fn(T.stateNode),Ct(f,Lr()),d!==null)for(_=f.onRecoverableError,T=0;T<d.length;T++)_(d[T]);if(sf)throw sf=!1,f=Yh,Yh=null,f;return of&1&&f.tag!==0&&Ra(),B=f.pendingLanes,B&1?f===qh?af++:(af=0,qh=f):af=0,As(),null}function Ra(){if(zo!==null){var f=Uv(of),d=Un.transition,_=vn;try{if(Un.transition=null,vn=16>f?16:f,zo===null)var T=!1;else{if(f=zo,zo=null,of=0,Qt&6)throw Error(o(331));var b=Qt;for(Qt|=4,nt=f.current;nt!==null;){var B=nt,X=B.child;if(nt.flags&16){var ae=B.deletions;if(ae!==null){for(var we=0;we<ae.length;we++){var je=ae[we];for(nt=je;nt!==null;){var ft=nt;switch(ft.tag){case 0:case 11:case 15:Rs(8,ft,B)}var Vt=ft.child;if(Vt!==null)Vt.return=ft,nt=Vt;else for(;nt!==null;){ft=nt;var wt=ft.sibling,Cn=ft.return;if(ao(ft),ft===je){nt=null;break}if(wt!==null){wt.return=Cn,nt=wt;break}nt=Cn}}}var vt=B.alternate;if(vt!==null){var ai=vt.child;if(ai!==null){vt.child=null;do{var Gi=ai.sibling;ai.sibling=null,ai=Gi}while(ai!==null)}}nt=B}}if(B.subtreeFlags&2064&&X!==null)X.return=B,nt=X;else e:for(;nt!==null;){if(B=nt,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Rs(9,B,B.return)}var me=B.sibling;if(me!==null){me.return=B.return,nt=me;break e}nt=B.return}}var ue=f.current;for(nt=ue;nt!==null;){X=nt;var _e=X.child;if(X.subtreeFlags&2064&&_e!==null)_e.return=X,nt=_e;else e:for(X=ue;nt!==null;){if(ae=nt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:wa(9,ae)}}catch(yt){si(ae,ae.return,yt)}if(ae===X){nt=null;break e}var ot=ae.sibling;if(ot!==null){ot.return=ae.return,nt=ot;break e}nt=ae.return}}if(Qt=b,As(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(Rh,f)}catch{}T=!0}return T}finally{vn=_,Un.transition=d}}return!1}function td(f,d,_){d=sl(_,d),d=al(f,d,1),Ss(f,d),d=ri(),f=Cu(f,1),f!==null&&(tu(f,1,d),Ct(f,d))}function si(f,d,_){if(f.tag===3)td(f,f,_);else for(;d!==null;){if(d.tag===3){td(d,f,_);break}else if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Bs===null||!Bs.has(T))){f=sl(_,f),f=ry(d,f,1),Ss(d,f),f=ri(),d=Cu(d,1),d!==null&&(tu(d,1,f),Ct(d,f));break}}d=d.return}}function Pa(f,d,_){var T=f.pingCache;T!==null&&T.delete(d),d=ri(),f.pingedLanes|=f.suspendedLanes&_,pr===f&&(nr&_)===_&&(rr===4||rr===3&&(nr&130023424)===nr&&500>Lr()-Gm?uo(f,0):zm|=_),Ct(f,d)}function Cy(f,d){d===0&&(f.mode&1?(d=eu,eu<<=1,!(eu&130023424)&&(eu=4194304)):d=1);var _=ri();f=Cu(f,d),f!==null&&(tu(f,d,_),Ct(f,_))}function Ia(f){var d=f.memoizedState,_=0;d!==null&&(_=d.retryLane),Cy(f,_)}function by(f,d){var _=0;switch(f.tag){case 13:var T=f.stateNode,b=f.memoizedState;b!==null&&(_=b.retryLane);break;case 19:T=f.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(d),Cy(f,_)}var Ym;Ym=function(f,d,_){if(f!==null)if(f.memoizedProps!==d.pendingProps||er.current)Ni=!0;else{if(!(f.lanes&_)&&!(d.flags&128))return Ni=!1,nS(f,d,_);Ni=!!(f.flags&131072)}else Ni=!1,Nn&&d.flags&1048576&&Wv(d,Uc,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps;var b=kn(d,hr.current);nl(d,_),b=An(null,d,T,f,b,_);var B=Sm();return d.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Yn(T)?(B=!0,ql(d)):B=!1,d.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,gm(d),b.updater=Oh,d.stateNode=b,b._reactInternals=d,iu(d,T,f,_),d=Rm(null,d,T,!0,B,_)):(d.tag=0,Nn&&B&&Nh(d),tr(null,d,b,_),d=d.child),d;case 16:T=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,b=T._init,T=b(T._payload),d.type=T,b=d.tag=Ry(T),f=Gr(T,f),b){case 0:d=bs(null,d,T,f,_);break e;case 1:d=hy(null,d,T,f,_);break e;case 11:d=ay(null,d,T,f,_);break e;case 14:d=ly(null,d,T,Gr(T.type,f),_);break e}throw Error(o(306,T,""))}return d;case 0:return T=d.type,b=d.pendingProps,b=d.elementType===T?b:Gr(T,b),bs(f,d,T,b,_);case 1:return T=d.type,b=d.pendingProps,b=d.elementType===T?b:Gr(T,b),hy(f,d,T,b,_);case 3:e:{if(dy(d),f===null)throw Error(o(387));T=d.pendingProps,B=d.memoizedState,b=B.element,vm(f,d),Ms(d,T,null,_);var X=d.memoizedState;if(T=X.element,De&&B.isDehydrated)if(B={element:T,isDehydrated:!1,cache:X.cache,transitions:X.transitions},d.updateQueue.baseState=B,d.memoizedState=B,d.flags&256){b=Error(o(423)),d=py(f,d,T,_,b);break e}else if(T!==b){b=Error(o(424)),d=py(f,d,T,_,b);break e}else for(De&&(Wr=am(d.stateNode.containerInfo),mi=d,Nn=!0,Ts=null,ou=!1),_=Kv(d,null,T,_),d.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(au(),T===b){d=Cr(f,d,_);break e}tr(f,d,T,_)}d=d.child}return d;case 5:return Yv(d),f===null&&_m(d),T=d.type,b=d.pendingProps,B=f!==null?f.memoizedProps:null,X=b.children,Te(T,b)?X=null:B!==null&&Te(T,B)&&(d.flags|=32),fy(f,d),tr(f,d,X,_),d.child;case 6:return f===null&&_m(d),null;case 13:return my(f,d,_);case 4:return Am(d,d.stateNode.containerInfo),T=d.pendingProps,f===null?d.child=uu(d,null,T,_):tr(f,d,T,_),d.child;case 11:return T=d.type,b=d.pendingProps,b=d.elementType===T?b:Gr(T,b),ay(f,d,T,b,_);case 7:return tr(f,d,d.pendingProps,_),d.child;case 8:return tr(f,d,d.pendingProps.children,_),d.child;case 12:return tr(f,d,d.pendingProps.children,_),d.child;case 10:e:{if(T=d.type._context,b=d.pendingProps,B=d.memoizedProps,X=b.value,mm(d,T,X),B!==null)if(eo(B.value,X)){if(B.children===b.children&&!er.current){d=Cr(f,d,_);break e}}else for(B=d.child,B!==null&&(B.return=d);B!==null;){var ae=B.dependencies;if(ae!==null){X=B.child;for(var we=ae.firstContext;we!==null;){if(we.context===T){if(B.tag===1){we=$r(-1,_&-_),we.tag=2;var je=B.updateQueue;if(je!==null){je=je.shared;var ft=je.pending;ft===null?we.next=we:(we.next=ft.next,ft.next=we),je.pending=we}}B.lanes|=_,we=B.alternate,we!==null&&(we.lanes|=_),Dh(B.return,_,d),ae.lanes|=_;break}we=we.next}}else if(B.tag===10)X=B.type===d.type?null:B.child;else if(B.tag===18){if(X=B.return,X===null)throw Error(o(341));X.lanes|=_,ae=X.alternate,ae!==null&&(ae.lanes|=_),Dh(X,_,d),X=B.sibling}else X=B.child;if(X!==null)X.return=B;else for(X=B;X!==null;){if(X===d){X=null;break}if(B=X.sibling,B!==null){B.return=X.return,X=B;break}X=X.return}B=X}tr(f,d,b.children,_),d=d.child}return d;case 9:return b=d.type,T=d.pendingProps.children,nl(d,_),b=Hn(b),T=T(b),d.flags|=1,tr(f,d,T,_),d.child;case 14:return T=d.type,b=Gr(T,d.pendingProps),b=Gr(T.type,b),ly(f,d,T,b,_);case 15:return uy(f,d,d.type,d.pendingProps,_);case 17:return T=d.type,b=d.pendingProps,b=d.elementType===T?b:Gr(T,b),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Yn(T)?(f=!0,ql(d)):f=!1,nl(d,_),Vv(d,T,b),iu(d,T,b,_),Rm(null,d,T,!0,f,_);case 19:return yy(f,d,_);case 22:return cy(f,d,_)}throw Error(o(156,d.tag))};function nd(f,d){return bh(f,d)}function aS(f,d,_,T){this.tag=f,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(f,d,_,T){return new aS(f,d,_,T)}function Qm(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Ry(f){if(typeof f=="function")return Qm(f)?1:0;if(f!=null){if(f=f.$$typeof,f===E)return 11;if(f===S)return 14}return 2}function Go(f,d){var _=f.alternate;return _===null?(_=ss(f.tag,d,f.key,f.mode),_.elementType=f.elementType,_.type=f.type,_.stateNode=f.stateNode,_.alternate=f,f.alternate=_):(_.pendingProps=d,_.type=f.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=f.flags&14680064,_.childLanes=f.childLanes,_.lanes=f.lanes,_.child=f.child,_.memoizedProps=f.memoizedProps,_.memoizedState=f.memoizedState,_.updateQueue=f.updateQueue,d=f.dependencies,_.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},_.sibling=f.sibling,_.index=f.index,_.ref=f.ref,_}function rd(f,d,_,T,b,B){var X=2;if(T=f,typeof f=="function")Qm(f)&&(X=1);else if(typeof f=="string")X=5;else e:switch(f){case h:return Ba(_.children,b,B,d);case p:X=8,b|=8;break;case g:return f=ss(12,_,d,b|2),f.elementType=g,f.lanes=B,f;case M:return f=ss(13,_,d,b),f.elementType=M,f.lanes=B,f;case y:return f=ss(19,_,d,b),f.elementType=y,f.lanes=B,f;case C:return uf(_,b,B,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case v:X=10;break e;case x:X=9;break e;case E:X=11;break e;case S:X=14;break e;case A:X=16,T=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return d=ss(X,_,d,b),d.elementType=f,d.type=T,d.lanes=B,d}function Ba(f,d,_,T){return f=ss(7,f,T,d),f.lanes=_,f}function uf(f,d,_,T){return f=ss(22,f,T,d),f.elementType=C,f.lanes=_,f.stateNode={},f}function oi(f,d,_){return f=ss(6,f,null,d),f.lanes=_,f}function os(f,d,_){return d=ss(4,f.children!==null?f.children:[],f.key,d),d.lanes=_,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function lS(f,d,_,T,b){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=et,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=T,this.onRecoverableError=b,De&&(this.mutableSourceEagerHydrationData=null)}function Py(f,d,_,T,b,B,X,ae,we){return f=new lS(f,d,_,ae,we),d===1?(d=1,B===!0&&(d|=8)):d=0,B=ss(3,null,null,d),f.current=B,B.stateNode=f,B.memoizedState={element:T,isDehydrated:_,cache:null,transitions:null},gm(B),f}function cf(f){if(!f)return Zr;f=f._reactInternals;e:{if(I(f)!==f||f.tag!==1)throw Error(o(170));var d=f;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Yn(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(f.tag===1){var _=f.type;if(Yn(_))return tl(f,_,d)}return d}function dl(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=ce(d),f===null?null:f.stateNode}function qm(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var _=f.retryLane;f.retryLane=_!==0&&_<d?_:d}}function id(f,d){qm(f,d),(f=f.alternate)&&qm(f,d)}function uS(f){return f=ce(f),f===null?null:f.stateNode}function Iy(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var d=ri();is(f,134217728,d),id(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=ri(),_=lo(f);is(f,_,d),id(f,_)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.current.memoizedState.isDehydrated){var _=Zs(d.pendingLanes);_!==0&&(fm(d,_|1),Ct(d,Lr()),!(Qt&6)&&(fl(),As()))}break;case 13:var T=ri();zi(function(){return is(f,1,T)}),id(f,1)}},n.batchedUpdates=function(f,d){var _=Qt;Qt|=1;try{return f(d)}finally{Qt=_,Qt===0&&(fl(),Ph&&As())}},n.createComponentSelector=function(f){return{$$typeof:xu,value:f}},n.createContainer=function(f,d,_,T,b,B,X){return Py(f,d,!1,null,_,T,b,B,X)},n.createHasPseudoClassSelector=function(f){return{$$typeof:tf,value:f}},n.createHydrationContainer=function(f,d,_,T,b,B,X,ae,we){return f=Py(_,T,!0,f,b,B,X,ae,we),f.context=cf(null),_=f.current,T=ri(),b=lo(_),B=$r(T,b),B.callback=d??null,Ss(_,B),f.current.lanes=b,tu(f,b,T),Ct(f,T),f},n.createPortal=function(f,d,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:f,containerInfo:d,implementation:_}},n.createRoleSelector=function(f){return{$$typeof:ki,value:f}},n.createTestNameSelector=function(f){return{$$typeof:_u,value:f}},n.createTextSelector=function(f){return{$$typeof:cl,value:f}},n.deferredUpdates=function(f){var d=vn,_=Un.transition;try{return Un.transition=null,vn=16,f()}finally{vn=d,Un.transition=_}},n.discreteUpdates=function(f,d,_,T,b){var B=vn,X=Un.transition;try{return Un.transition=null,vn=1,f(d,_,T,b)}finally{vn=B,Un.transition=X,Qt===0&&fl()}},n.findAllNodes=km,n.findBoundingRects=function(f,d){if(!gt)throw Error(o(363));d=km(f,d),f=[];for(var _=0;_<d.length;_++)f.push(fn(d[_]));for(d=f.length-1;0<d;d--){_=f[d];for(var T=_.x,b=T+_.width,B=_.y,X=B+_.height,ae=d-1;0<=ae;ae--)if(d!==ae){var we=f[ae],je=we.x,ft=je+we.width,Vt=we.y,wt=Vt+we.height;if(T>=je&&B>=Vt&&b<=ft&&X<=wt){f.splice(d,1);break}else if(T!==je||_.width!==we.width||wt<B||Vt>X){if(!(B!==Vt||_.height!==we.height||ft<T||je>b)){je>T&&(we.width+=je-T,we.x=T),ft<b&&(we.width=b-je),f.splice(d,1);break}}else{Vt>B&&(we.height+=Vt-B,we.y=B),wt<X&&(we.height=X-Vt),f.splice(d,1);break}}}return f},n.findHostInstance=dl,n.findHostInstanceWithNoPortals=function(f){return f=W(f),f=f!==null?Q(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return dl(f)},n.flushControlled=function(f){var d=Qt;Qt|=1;var _=Un.transition,T=vn;try{Un.transition=null,vn=1,f()}finally{vn=T,Un.transition=_,Qt=d,Qt===0&&(fl(),As())}},n.flushPassiveEffects=Ra,n.flushSync=zi,n.focusWithin=function(f,d){if(!gt)throw Error(o(363));for(f=Jh(f),d=My(f,d),d=Array.from(d),f=0;f<d.length;){var _=d[f++];if(!H(_)){if(_.tag===5&&We(_.stateNode))return!0;for(_=_.child;_!==null;)d.push(_),_=_.sibling}}return!1},n.getCurrentUpdatePriority=function(){return vn},n.getFindAllNodesFailureDescription=function(f,d){if(!gt)throw Error(o(363));var _=0,T=[];f=[Jh(f),0];for(var b=0;b<f.length;){var B=f[b++],X=f[b++],ae=d[X];if((B.tag!==5||!H(B))&&(jr(B,ae)&&(T.push(nf(ae)),X++,X>_&&(_=X)),X<d.length))for(B=B.child;B!==null;)f.push(B,X),B=B.sibling}if(_<d.length){for(f=[];_<d.length;_++)f.push(nf(d[_]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return de(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:uS,findFiberByHostInstance:f.findFiberByHostInstance||Iy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Rh=d.inject(f),$s=d}catch{}f=!!d.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,d,_,T){if(!gt)throw Error(o(363));f=km(f,d);var b=Ue(f,_,T).disconnect;return{disconnect:function(){b()}}},n.registerMutableSourceForHydration=function(f,d){var _=d._getVersion;_=_(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,_]:f.mutableSourceEagerHydrationData.push(d,_)},n.runWithPriority=function(f,d){var _=vn;try{return vn=f,d()}finally{vn=_}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,d,_,T){var b=d.current,B=ri(),X=lo(b);return _=cf(_),d.context===null?d.context=_:d.pendingContext=_,d=$r(B,X),d.payload={element:f},T=T===void 0?null:T,T!==null&&(d.callback=T),Ss(b,d),f=is(b,X,B),f!==null&&ru(f,b,X),X},n};Xk.exports=Nte;var Ute=Xk.exports;const kte=hh(Ute),Hte=t=>typeof t=="object"&&typeof t.then=="function",Vf=[];function Yk(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Qk(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Vf)if(Yk(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Vf.indexOf(i);s!==-1&&Vf.splice(s,1)},promise:(Hte(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Vf.push(i),!n)throw i.promise}const zte=(t,e,n)=>Qk(t,e,!1,n),Gte=(t,e,n)=>void Qk(t,e,!0,n),Vte=t=>{if(t===void 0||t.length===0)Vf.splice(0,Vf.length);else{const e=Vf.find(n=>Yk(t,n.keys,n.equal));e&&e.remove()}},MR={},Wte=t=>void Object.assign(MR,t);function jte(t,e){function n(h,{args:p=[],attach:g,...v},x){let E=`${h[0].toUpperCase()}${h.slice(1)}`,M;if(h==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=v.object;M=Od(y,{type:h,root:x,attach:g,primitive:!0})}else{const y=MR[E];if(!y)throw new Error(`R3F: ${E} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");M=Od(new y(...p),{type:h,root:x,attach:g,memoizedProps:{args:p}})}return M.__r3f.attach===void 0&&(M instanceof en?M.__r3f.attach="geometry":M instanceof Hr&&(M.__r3f.attach="material")),E!=="inject"&&$M(M,v),M}function r(h,p){let g=!1;if(p){var v,x;(v=p.__r3f)!=null&&v.attach?ZM(h,p,p.__r3f.attach):p.isObject3D&&h.isObject3D&&(h.add(p),g=!0),g||(x=h.__r3f)==null||x.objects.push(p),p.__r3f||Od(p,{}),p.__r3f.parent=h,LT(p),Nd(p)}}function i(h,p,g){let v=!1;if(p){var x,E;if((x=p.__r3f)!=null&&x.attach)ZM(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){p.parent=h,p.dispatchEvent({type:"added"});const M=h.children.filter(S=>S!==p),y=M.indexOf(g);h.children=[...M.slice(0,y),p,...M.slice(y)],v=!0}v||(E=h.__r3f)==null||E.objects.push(p),p.__r3f||Od(p,{}),p.__r3f.parent=h,LT(p),Nd(p)}}function s(h,p,g=!1){h&&[...h].forEach(v=>o(p,v,g))}function o(h,p,g){if(p){var v,x,E;if(p.__r3f&&(p.__r3f.parent=null),(v=h.__r3f)!=null&&v.objects&&(h.__r3f.objects=h.__r3f.objects.filter(C=>C!==p)),(x=p.__r3f)!=null&&x.attach)bL(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){var M;h.remove(p),(M=p.__r3f)!=null&&M.root&&$te(p.__r3f.root,p)}const S=(E=p.__r3f)==null?void 0:E.primitive,A=!S&&(g===void 0?p.dispose!==null:g);if(!S){var y;s((y=p.__r3f)==null?void 0:y.objects,p,A),s(p.children,p,A)}if(delete p.__r3f,A&&p.dispose&&p.type!=="Scene"){const C=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?IT.unstable_scheduleCallback(IT.unstable_IdlePriority,C):C()}Nd(h)}}function a(h,p,g,v){var x;const E=(x=h.__r3f)==null?void 0:x.parent;if(!E)return;const M=n(p,g,h.__r3f.root);if(h.children){for(const y of h.children)y.__r3f&&r(M,y);h.children=h.children.filter(y=>!y.__r3f)}h.__r3f.objects.forEach(y=>r(M,y)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(E,h),M.parent&&(M.__r3f.autoRemovedBeforeAppend=!0),r(E,M),M.raycast&&M.__r3f.eventCount&&M.__r3f.root.getState().internal.interaction.push(M),[v,v.alternate].forEach(y=>{y!==null&&(y.stateNode=M,y.ref&&(typeof y.ref=="function"?y.ref(M):y.ref.current=M))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:kte({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,p)=>{if(!p)return;const g=h.getState().scene;g.__r3f&&(g.__r3f.root=h,r(g,p))},removeChildFromContainer:(h,p)=>{p&&o(h.getState().scene,p)},insertInContainerBefore:(h,p,g)=>{if(!p||!g)return;const v=h.getState().scene;v.__r3f&&i(v,p,g)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var p;return!!((p=h==null?void 0:h.__r3f)!=null?p:{}).handlers},prepareUpdate(h,p,g,v){var x;if(((x=h==null?void 0:h.__r3f)!=null?x:{}).primitive&&v.object&&v.object!==h)return[!0];{const{args:M=[],children:y,...S}=v,{args:A=[],children:C,...P}=g;if(!Array.isArray(M))throw new Error("R3F: the args prop must be an array!");if(M.some((D,N)=>D!==A[N]))return[!0];const L=rH(h,S,P,!0);return L.changes.length?[!1,L]:null}},commitUpdate(h,[p,g],v,x,E,M){p?a(h,v,E,M):$M(h,g)},commitMount(h,p,g,v){var x;const E=(x=h.__r3f)!=null?x:{};h.raycast&&E.handlers&&E.eventCount&&h.__r3f.root.getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Od(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var p;const{attach:g,parent:v}=(p=h.__r3f)!=null?p:{};g&&v&&bL(v,h,g),h.isObject3D&&(h.visible=!1),Nd(h)},unhideInstance(h,p){var g;const{attach:v,parent:x}=(g=h.__r3f)!=null?g:{};v&&x&&ZM(x,h,v),(h.isObject3D&&p.visible==null||p.visible)&&(h.visible=!0),Nd(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ep.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&jn.fun(performance.now)?performance.now:jn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:jn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:jn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:$M}}var wL,EL;const qM=t=>"colorSpace"in t||"outputColorSpace"in t,qk=()=>{var t;return(t=MR.ColorManagement)!=null?t:null},Zk=t=>t&&t.isOrthographicCamera,Xte=t=>t&&t.hasOwnProperty("current"),bv=typeof window<"u"&&((wL=window.document)!=null&&wL.createElement||((EL=window.navigator)==null?void 0:EL.product)==="ReactNative")?U.useLayoutEffect:U.useEffect;function $k(t){const e=U.useRef(t);return bv(()=>void(e.current=t),[t]),e}function Jte({set:t}){return bv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}let eH=class extends U.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}};eH.getDerivedStateFromError=()=>({error:!0});const tH="__default",TL=new Map,Kte=t=>t&&!!t.memoized&&!!t.changes;function nH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Sg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()},jn={obj:t=>t===Object(t)&&!jn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(jn.str(t)||jn.num(t))return t===e;const s=jn.obj(t);if(s&&r==="reference")return t===e;const o=jn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!jn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(jn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Yte(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Qte(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Od(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function BT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const CL=/-\d+$/;function ZM(t,e,n){if(jn.str(n)){if(CL.test(n)){const s=n.replace(CL,""),{target:o,key:a}=BT(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=BT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function bL(t,e,n){var r,i;if(jn.str(n)){const{target:s,key:o}=BT(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function rH(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){var h;const p=(h=t==null?void 0:t.__r3f)!=null?h:{},g=Object.entries(i),v=[];if(u){const E=Object.keys(l);for(let M=0;M<E.length;M++)i.hasOwnProperty(E[M])||g.unshift([E[M],tH+"remove"])}g.forEach(([E,M])=>{var y;if((y=t.__r3f)!=null&&y.primitive&&E==="object"||jn.equ(M,l[E]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(E))return v.push([E,M,!0,[]]);let S=[];E.includes("-")&&(S=E.split("-")),v.push([E,M,!1,S]);for(const A in i){const C=i[A];A.startsWith(`${E}-`)&&v.push([A,C,!1,A.split("-")])}});const x={...i};return p.memoizedProps&&p.memoizedProps.args&&(x.args=p.memoizedProps.args),p.memoizedProps&&p.memoizedProps.attach&&(x.attach=p.memoizedProps.attach),{memoized:x,changes:v}}function $M(t,e){var n,r,i;const s=(n=t.__r3f)!=null?n:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:u}=Kte(e)?e:rH(t,e),h=s.eventCount;t.__r3f&&(t.__r3f.memoizedProps=l);for(let g=0;g<u.length;g++){let[v,x,E,M]=u[g];if(qM(t)){const C="srgb",P="srgb-linear";v==="encoding"?(v="colorSpace",x=x===3001?C:P):v==="outputEncoding"&&(v="outputColorSpace",x=x===3001?C:P)}let y=t,S=y[v];if(M.length&&(S=M.reduce((A,C)=>A[C],t),!(S&&S.set))){const[A,...C]=M.reverse();y=C.reverse().reduce((P,L)=>P[L],t),v=A}if(x===tH+"remove")if(y.constructor){let A=TL.get(y.constructor);A||(A=new y.constructor,TL.set(y.constructor,A)),x=A[v]}else x=0;if(E)x?s.handlers[v]=x:delete s.handlers[v],s.eventCount=Object.keys(s.handlers).length;else if(S&&S.set&&(S.copy||S instanceof qf)){if(Array.isArray(x))S.fromArray?S.fromArray(x):S.set(...x);else if(S.copy&&x&&x.constructor&&S.constructor===x.constructor)S.copy(x);else if(x!==void 0){const A=S instanceof $e;!A&&S.setScalar?S.setScalar(x):S instanceof qf&&x instanceof qf?S.mask=x.mask:S.set(x),!qk()&&!a.linear&&A&&S.convertSRGBToLinear()}}else if(y[v]=x,y[v]instanceof $n&&y[v].format===ms&&y[v].type===ja){const A=y[v];qM(A)&&qM(a.gl)?A.colorSpace=a.gl.outputColorSpace:A.encoding=a.gl.outputEncoding}Nd(t)}if(s.parent&&a.internal&&t.raycast&&h!==s.eventCount){const g=a.internal.interaction.indexOf(t);g>-1&&a.internal.interaction.splice(g,1),s.eventCount&&a.internal.interaction.push(t)}return!(u.length===1&&u[0][0]==="onUpdate")&&u.length&&(i=t.__r3f)!=null&&i.parent&&LT(t),t}function Nd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function LT(t){t.onUpdate==null||t.onUpdate(t)}function qte(t,e){t.manual||(Zk(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Yx(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Zte(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ep.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ep.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ep.ContinuousEventPriority;default:return ep.DefaultEventPriority}}function iH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function $te(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{iH(n.capturedMap,e,r,i)})}function ene(t){function e(l){const{internal:u}=t.getState(),h=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(l,u){const h=t.getState(),p=new Set,g=[],v=u?u(h.internal.interaction):h.internal.interaction;for(let y=0;y<v.length;y++){const S=Sg(v[y]);S&&(S.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function x(y){const S=Sg(y);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var A;S.events.compute==null||S.events.compute(l,S,(A=S.previousRoot)==null?void 0:A.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(y,!0):[]}let E=v.flatMap(x).sort((y,S)=>{const A=Sg(y.object),C=Sg(S.object);return!A||!C?y.distance-S.distance:C.events.priority-A.events.priority||y.distance-S.distance}).filter(y=>{const S=Yx(y);return p.has(S)?!1:(p.add(S),!0)});h.events.filter&&(E=h.events.filter(E,h));for(const y of E){let S=y.object;for(;S;){var M;(M=S.__r3f)!=null&&M.eventCount&&g.push({...y,eventObject:S}),S=S.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let y of h.internal.capturedMap.get(l.pointerId).values())p.has(Yx(y.intersection))||g.push(y.intersection);return g}function i(l,u,h,p){const g=t.getState();if(l.length){const v={stopped:!1};for(const x of l){const E=Sg(x.object)||g,{raycaster:M,pointer:y,camera:S,internal:A}=E,C=new G(y.x,y.y,0).unproject(S),P=F=>{var W,ce;return(W=(ce=A.capturedMap.get(F))==null?void 0:ce.has(x.eventObject))!=null?W:!1},L=F=>{const W={intersection:x,target:u.target};A.capturedMap.has(F)?A.capturedMap.get(F).set(x.eventObject,W):A.capturedMap.set(F,new Map([[x.eventObject,W]])),u.target.setPointerCapture(F)},D=F=>{const W=A.capturedMap.get(F);W&&iH(A.capturedMap,x.eventObject,W,F)};let N={};for(let F in u){let W=u[F];typeof W!="function"&&(N[F]=W)}let I={...x,...N,pointer:y,intersections:l,stopped:v.stopped,delta:h,unprojectedPoint:C,ray:M.ray,camera:S,stopPropagation(){const F="pointerId"in u&&A.capturedMap.get(u.pointerId);if((!F||F.has(x.eventObject))&&(I.stopped=v.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(W=>W.eventObject===x.eventObject))){const W=l.slice(0,l.indexOf(x));s([...W,x])}},target:{hasPointerCapture:P,setPointerCapture:L,releasePointerCapture:D},currentTarget:{hasPointerCapture:P,setPointerCapture:L,releasePointerCapture:D},nativeEvent:u};if(p(I),v.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const h of u.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const g=h.eventObject.__r3f,v=g==null?void 0:g.handlers;if(u.hovered.delete(Yx(h)),g!=null&&g.eventCount){const x={...h,intersections:l};v.onPointerOut==null||v.onPointerOut(x),v.onPointerLeave==null||v.onPointerLeave(x)}}}function o(l,u){for(let h=0;h<u.length;h++){const p=u[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=t.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:g}=t.getState();g.lastEvent.current=h;const v=l==="onPointerMove",x=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",M=r(h,v?n:void 0),y=x?e(h):0;l==="onPointerDown"&&(g.initialClick=[h.offsetX,h.offsetY],g.initialHits=M.map(A=>A.eventObject)),x&&!M.length&&y<=2&&(o(h,g.interaction),p&&p(h)),v&&s(M);function S(A){const C=A.eventObject,P=C.__r3f,L=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(v){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const D=Yx(A),N=g.hovered.get(D);N?N.stopped&&A.stopPropagation():(g.hovered.set(D,A),L.onPointerOver==null||L.onPointerOver(A),L.onPointerEnter==null||L.onPointerEnter(A))}L.onPointerMove==null||L.onPointerMove(A)}else{const D=L[l];D?(!x||g.initialHits.includes(C))&&(o(h,g.interaction.filter(N=>!g.initialHits.includes(N))),D(A)):x&&g.initialHits.includes(C)&&o(h,g.interaction.filter(N=>!g.initialHits.includes(N)))}}i(M,h,y,S)}}return{handlePointer:a}}const sH=t=>!!(t!=null&&t.render),oH=U.createContext(null),tne=(t,e)=>{const n=jk((a,l)=>{const u=new G,h=new G,p=new G;function g(y=l().camera,S=h,A=l().size){const{width:C,height:P,top:L,left:D}=A,N=C/P;S instanceof G?p.copy(S):p.set(...S);const I=y.getWorldPosition(u).distanceTo(p);if(Zk(y))return{width:C/y.zoom,height:P/y.zoom,top:L,left:D,factor:1,distance:I,aspect:N};{const F=y.fov*Math.PI/180,W=2*Math.tan(F/2)*I,ce=W*(C/P);return{width:ce,height:W,top:L,left:D,factor:C/ce,distance:I,aspect:N}}}let v;const x=y=>a(S=>({performance:{...S.performance,current:y}})),E=new Ie;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,S)=>e(y,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new xR,pointer:E,mouse:E,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();v&&clearTimeout(v),y.performance.current!==y.performance.min&&x(y.performance.min),v=setTimeout(()=>x(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:y=>a(S=>({...S,events:{...S.events,...y}})),setSize:(y,S,A,C,P)=>{const L=l().camera,D={width:y,height:S,top:C||0,left:P||0,updateStyle:A};a(N=>({size:D,viewport:{...N.viewport,...g(L,h,D)}}))},setDpr:y=>a(S=>{const A=nH(y);return{viewport:{...S.viewport,dpr:A,initialDpr:S.viewport.initialDpr||A}}}),setFrameloop:(y="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,y!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:U.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,S,A)=>{const C=l().internal;return C.priority=C.priority+(S>0?1:0),C.subscribers.push({ref:y,priority:S,store:A}),C.subscribers=C.subscribers.sort((P,L)=>P.priority-L.priority),()=>{const P=l().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(S>0?1:0),P.subscribers=P.subscribers.filter(L=>L.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:p}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var g;i=l,s=u.dpr,qte(a,l),h.setPixelRatio(u.dpr);const v=(g=l.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,v)}a!==o&&(o=a,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Qx,nne=new Set,rne=new Set,ine=new Set;function ew(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Mg(t,e){switch(t){case"before":return ew(nne,e);case"after":return ew(rne,e);case"tail":return ew(ine,e)}}let tw,nw;function rw(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),tw=e.internal.subscribers,Qx=0;Qx<tw.length;Qx++)nw=tw[Qx],nw.ref.current(nw.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function sne(t){let e=!1,n,r,i;function s(l){r=requestAnimationFrame(s),e=!0,n=0,Mg("before",l);for(const h of t.values()){var u;i=h.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((u=i.gl.xr)!=null&&u.isPresenting)&&(n+=rw(l,i))}if(Mg("after",l),n===0)return Mg("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,u=1){var h;if(!l)return t.forEach(p=>o(p.store.getState()),u);(h=l.gl.xr)!=null&&h.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+u),e||(e=!0,requestAnimationFrame(s)))}function a(l,u=!0,h,p){if(u&&Mg("before",l),h)rw(l,h,p);else for(const g of t.values())rw(l,g.store.getState());u&&Mg("after",l)}return{loop:s,invalidate:o,advance:a}}function aH(){const t=U.useContext(oH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Zo(t=n=>n,e){return aH()(t,e)}function om(t,e=0){const n=aH(),r=n.getState().internal.subscribe,i=$k(t);return bv(()=>r(i,e,n),[e,r,n]),null}const RL=new WeakMap;function lH(t,e){return function(n,...r){let i=RL.get(n);return i||(i=new n,RL.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Yte(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function Rv(t,e,n,r){const i=Array.isArray(e)?e:[e],s=zte(lH(n,r),[t,...i],{equal:jn.equ});return Array.isArray(e)?s:s[0]}Rv.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Gte(lH(n),[t,...r])};Rv.clear=function(t,e){const n=Array.isArray(e)?e:[e];return Vte([t,...n])};const Hp=new Map,{invalidate:PL,advance:IL}=sne(Hp),{reconciler:vA,applyProps:Ld}=jte(Hp,Zte),Dd={objects:"shallow",strict:!1},one=(t,e)=>{const n=typeof t=="function"?t(e):t;return sH(n)?n:new Qb({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function ane(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function lne(t){const e=Hp.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||tne(PL,IL),o=n||vA.createContainer(s,ep.ConcurrentRoot,null,!1,null,"",i,null);e||Hp.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:p,size:g,scene:v,events:x,onCreated:E,shadows:M=!1,linear:y=!1,flat:S=!1,legacy:A=!1,orthographic:C=!1,frameloop:P="always",dpr:L=[1,2],performance:D,raycaster:N,camera:I,onPointerMissed:F}=h,W=s.getState(),ce=W.gl;W.gl||W.set({gl:ce=one(p,t)});let re=W.raycaster;re||W.set({raycaster:re=new Gk});const{params:Q,...ee}=N||{};if(jn.equ(ee,re,Dd)||Ld(re,{...ee}),jn.equ(Q,re.params,Dd)||Ld(re,{params:{...re.params,...Q}}),!W.camera||W.camera===u&&!jn.equ(u,I,Dd)){u=I;const ne=I instanceof cv,ye=ne?I:C?new Co(0,0,0,0,.1,1e3):new Xn(75,0,.1,1e3);ne||(ye.position.z=5,I&&Ld(ye,I),!W.camera&&!(I!=null&&I.rotation)&&ye.lookAt(0,0,0)),W.set({camera:ye}),re.camera=ye}if(!W.scene){let ne;v instanceof gA?ne=v:(ne=new gA,v&&Ld(ne,v)),W.set({scene:Od(ne)})}if(!W.xr){var de;const ne=(Te,Le)=>{const Ge=s.getState();Ge.frameloop!=="never"&&IL(Te,!0,Ge,Le)},ye=()=>{const Te=s.getState();Te.gl.xr.enabled=Te.gl.xr.isPresenting,Te.gl.xr.setAnimationLoop(Te.gl.xr.isPresenting?ne:null),Te.gl.xr.isPresenting||PL(Te)},Me={connect(){const Te=s.getState().gl;Te.xr.addEventListener("sessionstart",ye),Te.xr.addEventListener("sessionend",ye)},disconnect(){const Te=s.getState().gl;Te.xr.removeEventListener("sessionstart",ye),Te.xr.removeEventListener("sessionend",ye)}};typeof((de=ce.xr)==null?void 0:de.addEventListener)=="function"&&Me.connect(),W.set({xr:Me})}if(ce.shadowMap){const ne=ce.shadowMap.enabled,ye=ce.shadowMap.type;if(ce.shadowMap.enabled=!!M,jn.boo(M))ce.shadowMap.type=Zg;else if(jn.str(M)){var le;const Me={basic:JN,percentage:A1,soft:Zg,variance:qo};ce.shadowMap.type=(le=Me[M])!=null?le:Zg}else jn.obj(M)&&Object.assign(ce.shadowMap,M);(ne!==ce.shadowMap.enabled||ye!==ce.shadowMap.type)&&(ce.shadowMap.needsUpdate=!0)}const V=qk();V&&("enabled"in V?V.enabled=!A:"legacyMode"in V&&(V.legacyMode=A)),Ld(ce,{outputEncoding:y?3e3:3001,toneMapping:S?la:Ib}),W.legacy!==A&&W.set(()=>({legacy:A})),W.linear!==y&&W.set(()=>({linear:y})),W.flat!==S&&W.set(()=>({flat:S})),p&&!jn.fun(p)&&!sH(p)&&!jn.equ(p,ce,Dd)&&Ld(ce,p),x&&!W.events.handlers&&W.set({events:x(s)});const he=ane(t,g);return jn.equ(he,W.size,Dd)||W.setSize(he.width,he.height,he.updateStyle,he.top,he.left),L&&W.viewport.dpr!==nH(L)&&W.setDpr(L),W.frameloop!==P&&W.setFrameloop(P),W.onPointerMissed||W.set({onPointerMissed:F}),D&&!jn.equ(D,W.performance,Dd)&&W.set(ne=>({performance:{...ne.performance,...D}})),a=E,l=!0,this},render(h){return l||this.configure(),vA.updateContainer(U.createElement(une,{store:s,children:h,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){uH(t)}}}function une({store:t,children:e,onCreated:n,rootElement:r}){return bv(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),U.createElement(oH.Provider,{value:t},e)}function uH(t,e){const n=Hp.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),vA.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Qte(i),Hp.delete(t)}catch{}},500)})}}vA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:U.version});function DT(t,e,n){var r,i,s,o,a;e==null&&(e=100);function l(){var h=Date.now()-o;h<e&&h>=0?r=setTimeout(l,e-h):(r=null,n||(a=t.apply(s,i),s=i=null))}var u=function(){s=this,i=arguments,o=Date.now();var h=n&&!r;return r||(r=setTimeout(l,e)),h&&(a=t.apply(s,i),s=i=null),a};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(a=t.apply(s,i),s=i=null,clearTimeout(r),r=null)},u}DT.debounce=DT;var cne=DT;const BL=hh(cne);function fne(t){let{debounce:e,scroll:n,polyfill:r,offsetSize:i}=t===void 0?{debounce:0,scroll:!1,offsetSize:!1}:t;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=U.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=U.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),u=e?typeof e=="number"?e:e.scroll:null,h=e?typeof e=="number"?e:e.resize:null,p=U.useRef(!1);U.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,x]=U.useMemo(()=>{const S=()=>{if(!l.current.element)return;const{left:A,top:C,width:P,height:L,bottom:D,right:N,x:I,y:F}=l.current.element.getBoundingClientRect(),W={left:A,top:C,width:P,height:L,bottom:D,right:N,x:I,y:F};l.current.element instanceof HTMLElement&&i&&(W.height=l.current.element.offsetHeight,W.width=l.current.element.offsetWidth),Object.freeze(W),p.current&&!mne(l.current.lastBounds,W)&&a(l.current.lastBounds=W)};return[S,h?BL(S,h):S,u?BL(S,u):S]},[a,i,u,h]);function E(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",x,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function M(){l.current.element&&(l.current.resizeObserver=new s(x),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(S=>S.addEventListener("scroll",x,{capture:!0,passive:!0})))}const y=S=>{!S||S===l.current.element||(E(),l.current.element=S,l.current.scrollContainers=cH(S),M())};return dne(x,!!n),hne(v),U.useEffect(()=>{E(),M()},[n,x,v]),U.useEffect(()=>E,[]),[y,o,g]}function hne(t){U.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function dne(t,e){U.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function cH(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...cH(t.parentElement)]}const pne=["x","y","top","bottom","left","right","width","height"],mne=(t,e)=>pne.every(n=>t[n]===e[n]);var gne=Object.defineProperty,vne=Object.defineProperties,yne=Object.getOwnPropertyDescriptors,LL=Object.getOwnPropertySymbols,xne=Object.prototype.hasOwnProperty,_ne=Object.prototype.propertyIsEnumerable,DL=(t,e,n)=>e in t?gne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FL=(t,e)=>{for(var n in e||(e={}))xne.call(e,n)&&DL(t,n,e[n]);if(LL)for(var n of LL(e))_ne.call(e,n)&&DL(t,n,e[n]);return t},Ane=(t,e)=>vne(t,yne(e));function fH(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=fH(r,e,n);if(i)return i;r=r.sibling}}function hH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const wR=hH(U.createContext(null));class dH extends U.Component{render(){return U.createElement(wR.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:OL,ReactCurrentDispatcher:NL}=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Sne(){const t=U.useContext(wR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=U.useId();return U.useMemo(()=>{for(const r of[OL==null?void 0:OL.current,t,t==null?void 0:t.alternate]){if(!r)continue;const i=fH(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Mne(){var t,e;const n=Sne(),[r]=U.useState(()=>new Map);r.clear();let i=n;for(;i;){const s=(t=i.type)==null?void 0:t._context;s&&s!==wR&&!r.has(s)&&r.set(s,(e=NL==null?void 0:NL.current)==null?void 0:e.readContext(hH(s))),i=i.return}return r}function wne(){const t=Mne();return U.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>U.createElement(e,null,U.createElement(n.Provider,Ane(FL({},r),{value:t.get(n)}))),e=>U.createElement(dH,FL({},e))),[t])}const iw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ene(t){const{handlePointer:e}=ene(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(iw).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=iw[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=iw[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}const Tne=U.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=Ene,eventSource:a,eventPrefix:l,shadows:u,linear:h,flat:p,legacy:g,orthographic:v,frameloop:x,dpr:E,performance:M,raycaster:y,camera:S,scene:A,onPointerMissed:C,onCreated:P,...L},D){U.useMemo(()=>Wte(Dte),[]);const N=wne(),[I,F]=fne({scroll:!0,debounce:{scroll:50,resize:0},...r}),W=U.useRef(null),ce=U.useRef(null);U.useImperativeHandle(D,()=>W.current);const re=$k(C),[Q,ee]=U.useState(!1),[de,le]=U.useState(!1);if(Q)throw Q;if(de)throw de;const V=U.useRef(null);bv(()=>{const ie=W.current;F.width>0&&F.height>0&&ie&&(V.current||(V.current=lne(ie)),V.current.configure({gl:s,events:o,shadows:u,linear:h,flat:p,legacy:g,orthographic:v,frameloop:x,dpr:E,performance:M,raycaster:y,camera:S,scene:A,size:F,onPointerMissed:(...he)=>re.current==null?void 0:re.current(...he),onCreated:he=>{he.events.connect==null||he.events.connect(a?Xte(a)?a.current:a:ce.current),l&&he.setEvents({compute:(ne,ye)=>{const Me=ne[l+"X"],Te=ne[l+"Y"];ye.pointer.set(Me/ye.size.width*2-1,-(Te/ye.size.height)*2+1),ye.raycaster.setFromCamera(ye.pointer,ye.camera)}}),P==null||P(he)}}),V.current.render(U.createElement(N,null,U.createElement(eH,{set:le},U.createElement(U.Suspense,{fallback:U.createElement(Jte,{set:ee})},e)))))}),U.useEffect(()=>{const ie=W.current;if(ie)return()=>uH(ie)},[]);const te=a?"none":"auto";return U.createElement("div",sh({ref:ce,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:te,...i}},L),U.createElement("div",{ref:I,style:{width:"100%",height:"100%"}},U.createElement("canvas",{ref:W,style:{display:"block"}},n)))}),ER=U.forwardRef(function(e,n){return U.createElement(dH,null,U.createElement(Tne,sh({},e,{ref:n})))}),Pv=new G,TR=new G,Cne=new G;function bne(t,e,n){const r=Pv.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Rne(t,e){const n=Pv.setFromMatrixPosition(t.matrixWorld),r=TR.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(Cne);return i.angleTo(s)>Math.PI/2}function Pne(t,e,n,r){const i=Pv.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),n.setFromCamera(s,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function Ine(t,e){if(e instanceof Co)return e.zoom;if(e instanceof Xn){const n=Pv.setFromMatrixPosition(t.matrixWorld),r=TR.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Bne(t,e,n){if(e instanceof Xn||e instanceof Co){const r=Pv.setFromMatrixPosition(t.matrixWorld),i=TR.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const FT=t=>Math.abs(t)<1e-10?0:t;function pH(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=FT(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Lne=(t=>e=>pH(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Dne=(t=>(e,n)=>pH(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Fne(t){return t&&typeof t=="object"&&"current"in t}const One=U.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:u=!1,transform:h=!1,occlude:p,onOcclude:g,castShadow:v,receiveShadow:x,material:E,geometry:M,zIndexRange:y=[16777271,0],calculatePosition:S=bne,as:A="div",wrapperClass:C,pointerEvents:P="auto",...L},D)=>{const{gl:N,camera:I,scene:F,size:W,raycaster:ce,events:re,viewport:Q}=Zo(),[ee]=U.useState(()=>document.createElement(A)),de=U.useRef(),le=U.useRef(null),V=U.useRef(0),te=U.useRef([0,0]),ie=U.useRef(null),he=U.useRef(null),ne=(a==null?void 0:a.current)||re.connected||N.domElement.parentNode,ye=U.useRef(null),Me=U.useRef(!1),Te=U.useMemo(()=>p&&p!=="blending"||Array.isArray(p)&&p.length&&Fne(p[0]),[p]);U.useLayoutEffect(()=>{const mt=N.domElement;p&&p==="blending"?(mt.style.zIndex=`${Math.floor(y[0]/2)}`,mt.style.position="absolute",mt.style.pointerEvents="none"):(mt.style.zIndex=null,mt.style.position=null,mt.style.pointerEvents=null)},[p]),U.useLayoutEffect(()=>{if(le.current){const mt=de.current=gO(ee);if(F.updateMatrixWorld(),h)ee.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const He=S(le.current,I,W);ee.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${He[0]}px,${He[1]}px,0);transform-origin:0 0;`}return ne&&(i?ne.prepend(ee):ne.appendChild(ee)),()=>{ne&&ne.removeChild(ee),mt.unmount()}}},[ne,h]),U.useLayoutEffect(()=>{C&&(ee.className=C)},[C]);const Le=U.useMemo(()=>h?{position:"absolute",top:0,left:0,width:W.width,height:W.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-W.height/2,left:-W.width/2,width:W.width,height:W.height},...n},[n,s,o,W,h]),Ge=U.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);U.useLayoutEffect(()=>{if(Me.current=!1,h){var mt;(mt=de.current)==null||mt.render(U.createElement("div",{ref:ie,style:Le},U.createElement("div",{ref:he,style:Ge},U.createElement("div",{ref:D,className:r,style:n,children:t}))))}else{var He;(He=de.current)==null||He.render(U.createElement("div",{ref:D,style:Le,className:r,children:t}))}});const ut=U.useRef(!0);om(mt=>{if(le.current){I.updateMatrixWorld(),le.current.updateWorldMatrix(!0,!1);const He=h?te.current:S(le.current,I,W);if(h||Math.abs(V.current-I.zoom)>e||Math.abs(te.current[0]-He[0])>e||Math.abs(te.current[1]-He[1])>e){const K=Rne(le.current,I);let De=!1;Te&&(Array.isArray(p)?De=p.map(Ke=>Ke.current):p!=="blending"&&(De=[F]));const Se=ut.current;if(De){const Ke=Pne(le.current,I,ce,De);ut.current=Ke&&!K}else ut.current=!K;Se!==ut.current&&(g?g(!ut.current):ee.style.display=ut.current?"block":"none");const Ne=Math.floor(y[0]/2),Be=p?Te?[y[0],Ne]:[Ne-1,0]:y;if(ee.style.zIndex=`${Bne(le.current,I,Be)}`,h){const[Ke,qe]=[W.width/2,W.height/2],rt=I.projectionMatrix.elements[5]*qe,{isOrthographicCamera:gt,top:Et,left:fn,bottom:J,right:H}=I,Ae=Lne(I.matrixWorldInverse),We=gt?`scale(${rt})translate(${FT(-(H+fn)/2)}px,${FT((Et+J)/2)}px)`:`translateZ(${rt}px)`;let Ue=le.current.matrixWorld;u&&(Ue=I.matrixWorldInverse.clone().transpose().copyPosition(Ue).scale(le.current.scale),Ue.elements[3]=Ue.elements[7]=Ue.elements[11]=0,Ue.elements[15]=1),ee.style.width=W.width+"px",ee.style.height=W.height+"px",ee.style.perspective=gt?"":`${rt}px`,ie.current&&he.current&&(ie.current.style.transform=`${We}${Ae}translate(${Ke}px,${qe}px)`,he.current.style.transform=Dne(Ue,1/((l||10)/400)))}else{const Ke=l===void 0?1:Ine(le.current,I)*l;ee.style.transform=`translate3d(${He[0]}px,${He[1]}px,0) scale(${Ke})`}te.current=He,V.current=I.zoom}}if(!Te&&ye.current&&!Me.current)if(h){if(ie.current){const He=ie.current.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const{isOrthographicCamera:K}=I;if(K||M)L.scale&&(Array.isArray(L.scale)?L.scale instanceof G?ye.current.scale.copy(L.scale.clone().divideScalar(1)):ye.current.scale.set(1/L.scale[0],1/L.scale[1],1/L.scale[2]):ye.current.scale.setScalar(1/L.scale));else{const De=(l||10)/400,Se=He.clientWidth*De,Ne=He.clientHeight*De;ye.current.scale.set(Se,Ne,1)}Me.current=!0}}}else{const He=ee.children[0];if(He!=null&&He.clientWidth&&He!=null&&He.clientHeight){const K=1/Q.factor,De=He.clientWidth*K,Se=He.clientHeight*K;ye.current.scale.set(De,Se,1),Me.current=!0}ye.current.lookAt(mt.camera.position)}});const et=U.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return U.createElement("group",sh({},L,{ref:le}),p&&!Te&&U.createElement("mesh",{castShadow:v,receiveShadow:x,ref:ye},M||U.createElement("planeGeometry",null),E||U.createElement("shaderMaterial",{side:Eo,vertexShader:et.vertexShader,fragmentShader:et.fragmentShader})))});let wg=0;const Nne=jk(t=>($d.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-wg)/(r-wg)*100})},$d.onLoad=()=>{t({active:!1})},$d.onError=e=>t(n=>({errors:[...n.errors,e]})),$d.onProgress=(e,n,r)=>{n===r&&(wg=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-wg)/(r-wg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function UL(t,e){if(e===IU)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===dA||e===kb){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===dA)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}const Une=parseInt(Zp.replace(/\D+/g,""));var kne=Object.defineProperty,Hne=(t,e,n)=>e in t?kne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>(Hne(t,typeof e!="symbol"?e+"":e,n),n);const qx=new mh,kL=new bl,zne=Math.cos(70*(Math.PI/180)),HL=(t,e)=>(t%e+e)%e;let Gne=class extends $a{constructor(e,n){super(),Ht(this,"object"),Ht(this,"domElement"),Ht(this,"enabled",!0),Ht(this,"target",new G),Ht(this,"minDistance",0),Ht(this,"maxDistance",1/0),Ht(this,"minZoom",0),Ht(this,"maxZoom",1/0),Ht(this,"minPolarAngle",0),Ht(this,"maxPolarAngle",Math.PI),Ht(this,"minAzimuthAngle",-1/0),Ht(this,"maxAzimuthAngle",1/0),Ht(this,"enableDamping",!1),Ht(this,"dampingFactor",.05),Ht(this,"enableZoom",!0),Ht(this,"zoomSpeed",1),Ht(this,"enableRotate",!0),Ht(this,"rotateSpeed",1),Ht(this,"enablePan",!0),Ht(this,"panSpeed",1),Ht(this,"screenSpacePanning",!0),Ht(this,"keyPanSpeed",7),Ht(this,"zoomToCursor",!1),Ht(this,"autoRotate",!1),Ht(this,"autoRotateSpeed",2),Ht(this,"reverseOrbit",!1),Ht(this,"reverseHorizontalOrbit",!1),Ht(this,"reverseVerticalOrbit",!1),Ht(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ht(this,"mouseButtons",{LEFT:bf.ROTATE,MIDDLE:bf.DOLLY,RIGHT:bf.PAN}),Ht(this,"touches",{ONE:Rf.ROTATE,TWO:Rf.DOLLY_PAN}),Ht(this,"target0"),Ht(this,"position0"),Ht(this,"zoom0"),Ht(this,"_domElementKeyEvents",null),Ht(this,"getPolarAngle"),Ht(this,"getAzimuthalAngle"),Ht(this,"setPolarAngle"),Ht(this,"setAzimuthalAngle"),Ht(this,"getDistance"),Ht(this,"listenToKeyEvents"),Ht(this,"stopListenToKeyEvents"),Ht(this,"saveState"),Ht(this,"reset"),Ht(this,"update"),Ht(this,"connect"),Ht(this,"dispose"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=Z=>{let Pe=HL(Z,2*Math.PI),tt=h.phi;tt<0&&(tt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let $=Math.abs(Pe-tt);2*Math.PI-$<$&&(Pe<tt?Pe+=2*Math.PI:tt+=2*Math.PI),p.phi=Pe-tt,r.update()},this.setAzimuthalAngle=Z=>{let Pe=HL(Z,2*Math.PI),tt=h.theta;tt<0&&(tt+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let $=Math.abs(Pe-tt);2*Math.PI-$<$&&(Pe<tt?Pe+=2*Math.PI:tt+=2*Math.PI),p.theta=Pe-tt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Z=>{Z.addEventListener("keydown",Ye),this._domElementKeyEvents=Z},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ye),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Z=new G,Pe=new G(0,1,0),tt=new Yr().setFromUnitVectors(e.up,Pe),$=tt.clone().invert(),Ve=new G,ve=new Yr,Je=2*Math.PI;return function(){const rn=r.object.position;tt.setFromUnitVectors(e.up,Pe),$.copy(tt).invert(),Z.copy(rn).sub(r.target),Z.applyQuaternion(tt),h.setFromVector3(Z),r.autoRotate&&l===a.NONE&&Q(ce()),r.enableDamping?(h.theta+=p.theta*r.dampingFactor,h.phi+=p.phi*r.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);let un=r.minAzimuthAngle,gn=r.maxAzimuthAngle;isFinite(un)&&isFinite(gn)&&(un<-Math.PI?un+=Je:un>Math.PI&&(un-=Je),gn<-Math.PI?gn+=Je:gn>Math.PI&&(gn-=Je),un<=gn?h.theta=Math.max(un,Math.min(gn,h.theta)):h.theta=h.theta>(un+gn)/2?Math.max(un,h.theta):Math.min(gn,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&I||r.object.isOrthographicCamera?h.radius=ne(h.radius):h.radius=ne(h.radius*g),Z.setFromSpherical(h),Z.applyQuaternion($),rn.copy(r.target).add(Z),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),v.set(0,0,0));let zr=!1;if(r.zoomToCursor&&I){let _n=null;if(r.object instanceof Xn&&r.object.isPerspectiveCamera){const Sr=Z.length();_n=ne(Sr*g);const Kn=Sr-_n;r.object.position.addScaledVector(D,Kn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Sr=new G(N.x,N.y,0);Sr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix(),zr=!0;const Kn=new G(N.x,N.y,0);Kn.unproject(r.object),r.object.position.sub(Kn).add(Sr),r.object.updateMatrixWorld(),_n=Z.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;_n!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(_n).add(r.object.position):(qx.origin.copy(r.object.position),qx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(qx.direction))<zne?e.lookAt(r.target):(kL.setFromNormalAndCoplanarPoint(r.object.up,r.target),qx.intersectPlane(kL,r.target))))}else r.object instanceof Co&&r.object.isOrthographicCamera&&(zr=g!==1,zr&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix()));return g=1,I=!1,zr||Ve.distanceToSquared(r.object.position)>u||8*(1-ve.dot(r.object.quaternion))>u?(r.dispatchEvent(i),Ve.copy(r.object.position),ve.copy(r.object.quaternion),zr=!1,!0):!1}})(),this.connect=Z=>{Z===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Z,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Ce),r.domElement.addEventListener("pointerdown",Et),r.domElement.addEventListener("pointercancel",H),r.domElement.addEventListener("wheel",Ue)},this.dispose=()=>{var Z,Pe,tt,$,Ve,ve;(Z=r.domElement)==null||Z.removeEventListener("contextmenu",Ce),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",Et),(tt=r.domElement)==null||tt.removeEventListener("pointercancel",H),($=r.domElement)==null||$.removeEventListener("wheel",Ue),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",fn),(ve=r.domElement)==null||ve.ownerDocument.removeEventListener("pointerup",J),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ye)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,h=new PT,p=new PT;let g=1;const v=new G,x=new Ie,E=new Ie,M=new Ie,y=new Ie,S=new Ie,A=new Ie,C=new Ie,P=new Ie,L=new Ie,D=new G,N=new Ie;let I=!1;const F=[],W={};function ce(){return 2*Math.PI/60/60*r.autoRotateSpeed}function re(){return Math.pow(.95,r.zoomSpeed)}function Q(Z){r.reverseOrbit||r.reverseHorizontalOrbit?p.theta+=Z:p.theta-=Z}function ee(Z){r.reverseOrbit||r.reverseVerticalOrbit?p.phi+=Z:p.phi-=Z}const de=(()=>{const Z=new G;return function(tt,$){Z.setFromMatrixColumn($,0),Z.multiplyScalar(-tt),v.add(Z)}})(),le=(()=>{const Z=new G;return function(tt,$){r.screenSpacePanning===!0?Z.setFromMatrixColumn($,1):(Z.setFromMatrixColumn($,0),Z.crossVectors(r.object.up,Z)),Z.multiplyScalar(tt),v.add(Z)}})(),V=(()=>{const Z=new G;return function(tt,$){const Ve=r.domElement;if(Ve&&r.object instanceof Xn&&r.object.isPerspectiveCamera){const ve=r.object.position;Z.copy(ve).sub(r.target);let Je=Z.length();Je*=Math.tan(r.object.fov/2*Math.PI/180),de(2*tt*Je/Ve.clientHeight,r.object.matrix),le(2*$*Je/Ve.clientHeight,r.object.matrix)}else Ve&&r.object instanceof Co&&r.object.isOrthographicCamera?(de(tt*(r.object.right-r.object.left)/r.object.zoom/Ve.clientWidth,r.object.matrix),le($*(r.object.top-r.object.bottom)/r.object.zoom/Ve.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function te(Z){r.object instanceof Xn&&r.object.isPerspectiveCamera||r.object instanceof Co&&r.object.isOrthographicCamera?g/=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ie(Z){r.object instanceof Xn&&r.object.isPerspectiveCamera||r.object instanceof Co&&r.object.isOrthographicCamera?g*=Z:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function he(Z){if(!r.zoomToCursor||!r.domElement)return;I=!0;const Pe=r.domElement.getBoundingClientRect(),tt=Z.clientX-Pe.left,$=Z.clientY-Pe.top,Ve=Pe.width,ve=Pe.height;N.x=tt/Ve*2-1,N.y=-($/ve)*2+1,D.set(N.x,N.y,1).unproject(r.object).sub(r.object.position).normalize()}function ne(Z){return Math.max(r.minDistance,Math.min(r.maxDistance,Z))}function ye(Z){x.set(Z.clientX,Z.clientY)}function Me(Z){he(Z),C.set(Z.clientX,Z.clientY)}function Te(Z){y.set(Z.clientX,Z.clientY)}function Le(Z){E.set(Z.clientX,Z.clientY),M.subVectors(E,x).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(Q(2*Math.PI*M.x/Pe.clientHeight),ee(2*Math.PI*M.y/Pe.clientHeight)),x.copy(E),r.update()}function Ge(Z){P.set(Z.clientX,Z.clientY),L.subVectors(P,C),L.y>0?te(re()):L.y<0&&ie(re()),C.copy(P),r.update()}function ut(Z){S.set(Z.clientX,Z.clientY),A.subVectors(S,y).multiplyScalar(r.panSpeed),V(A.x,A.y),y.copy(S),r.update()}function et(Z){he(Z),Z.deltaY<0?ie(re()):Z.deltaY>0&&te(re()),r.update()}function mt(Z){let Pe=!1;switch(Z.code){case r.keys.UP:V(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(Z.preventDefault(),r.update())}function He(){if(F.length==1)x.set(F[0].pageX,F[0].pageY);else{const Z=.5*(F[0].pageX+F[1].pageX),Pe=.5*(F[0].pageY+F[1].pageY);x.set(Z,Pe)}}function K(){if(F.length==1)y.set(F[0].pageX,F[0].pageY);else{const Z=.5*(F[0].pageX+F[1].pageX),Pe=.5*(F[0].pageY+F[1].pageY);y.set(Z,Pe)}}function De(){const Z=F[0].pageX-F[1].pageX,Pe=F[0].pageY-F[1].pageY,tt=Math.sqrt(Z*Z+Pe*Pe);C.set(0,tt)}function Se(){r.enableZoom&&De(),r.enablePan&&K()}function Ne(){r.enableZoom&&De(),r.enableRotate&&He()}function Be(Z){if(F.length==1)E.set(Z.pageX,Z.pageY);else{const tt=lt(Z),$=.5*(Z.pageX+tt.x),Ve=.5*(Z.pageY+tt.y);E.set($,Ve)}M.subVectors(E,x).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(Q(2*Math.PI*M.x/Pe.clientHeight),ee(2*Math.PI*M.y/Pe.clientHeight)),x.copy(E)}function Ke(Z){if(F.length==1)S.set(Z.pageX,Z.pageY);else{const Pe=lt(Z),tt=.5*(Z.pageX+Pe.x),$=.5*(Z.pageY+Pe.y);S.set(tt,$)}A.subVectors(S,y).multiplyScalar(r.panSpeed),V(A.x,A.y),y.copy(S)}function qe(Z){const Pe=lt(Z),tt=Z.pageX-Pe.x,$=Z.pageY-Pe.y,Ve=Math.sqrt(tt*tt+$*$);P.set(0,Ve),L.set(0,Math.pow(P.y/C.y,r.zoomSpeed)),te(L.y),C.copy(P)}function rt(Z){r.enableZoom&&qe(Z),r.enablePan&&Ke(Z)}function gt(Z){r.enableZoom&&qe(Z),r.enableRotate&&Be(Z)}function Et(Z){var Pe,tt;r.enabled!==!1&&(F.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",fn),(tt=r.domElement)==null||tt.ownerDocument.addEventListener("pointerup",J)),St(Z),Z.pointerType==="touch"?dt(Z):Ae(Z))}function fn(Z){r.enabled!==!1&&(Z.pointerType==="touch"?Qe(Z):We(Z))}function J(Z){var Pe,tt,$;At(Z),F.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(Z.pointerId),(tt=r.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",fn),($=r.domElement)==null||$.ownerDocument.removeEventListener("pointerup",J)),r.dispatchEvent(o),l=a.NONE}function H(Z){At(Z)}function Ae(Z){let Pe;switch(Z.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case bf.DOLLY:if(r.enableZoom===!1)return;Me(Z),l=a.DOLLY;break;case bf.ROTATE:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enablePan===!1)return;Te(Z),l=a.PAN}else{if(r.enableRotate===!1)return;ye(Z),l=a.ROTATE}break;case bf.PAN:if(Z.ctrlKey||Z.metaKey||Z.shiftKey){if(r.enableRotate===!1)return;ye(Z),l=a.ROTATE}else{if(r.enablePan===!1)return;Te(Z),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function We(Z){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Le(Z);break;case a.DOLLY:if(r.enableZoom===!1)return;Ge(Z);break;case a.PAN:if(r.enablePan===!1)return;ut(Z);break}}function Ue(Z){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Z.preventDefault(),r.dispatchEvent(s),et(Z),r.dispatchEvent(o))}function Ye(Z){r.enabled===!1||r.enablePan===!1||mt(Z)}function dt(Z){switch(Mt(Z),F.length){case 1:switch(r.touches.ONE){case Rf.ROTATE:if(r.enableRotate===!1)return;He(),l=a.TOUCH_ROTATE;break;case Rf.PAN:if(r.enablePan===!1)return;K(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Rf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Se(),l=a.TOUCH_DOLLY_PAN;break;case Rf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ne(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Qe(Z){switch(Mt(Z),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;Be(Z),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ke(Z),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;rt(Z),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;gt(Z),r.update();break;default:l=a.NONE}}function Ce(Z){r.enabled!==!1&&Z.preventDefault()}function St(Z){F.push(Z)}function At(Z){delete W[Z.pointerId];for(let Pe=0;Pe<F.length;Pe++)if(F[Pe].pointerId==Z.pointerId){F.splice(Pe,1);return}}function Mt(Z){let Pe=W[Z.pointerId];Pe===void 0&&(Pe=new Ie,W[Z.pointerId]=Pe),Pe.set(Z.pageX,Z.pageY)}function lt(Z){const Pe=Z.pointerId===F[0].pointerId?F[1]:F[0];return W[Pe.pointerId]}n!==void 0&&this.connect(n),this.update()}};class CR extends es{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Jne(n)}),this.register(function(n){return new tre(n)}),this.register(function(n){return new nre(n)}),this.register(function(n){return new rre(n)}),this.register(function(n){return new Yne(n)}),this.register(function(n){return new Qne(n)}),this.register(function(n){return new qne(n)}),this.register(function(n){return new Zne(n)}),this.register(function(n){return new Xne(n)}),this.register(function(n){return new $ne(n)}),this.register(function(n){return new Kne(n)}),this.register(function(n){return new ere(n)}),this.register(function(n){return new Wne(n)}),this.register(function(n){return new ire(n)}),this.register(function(n){return new sre(n)})}load(e,n,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=Ja.extractUrlBase(e),this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new Xs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(h){n(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Ja.decodeText(new Uint8Array(e.slice(0,4)))===mH){try{o[mn.KHR_BINARY_GLTF]=new ore(e)}catch(h){i&&i(h);return}s=JSON.parse(o[mn.KHR_BINARY_GLTF].content)}else s=JSON.parse(Ja.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new xre(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],p=s.extensionsRequired||[];switch(h){case mn.KHR_MATERIALS_UNLIT:o[h]=new jne;break;case mn.KHR_DRACO_MESH_COMPRESSION:o[h]=new are(s,this.dracoLoader);break;case mn.KHR_TEXTURE_TRANSFORM:o[h]=new lre;break;case mn.KHR_MESH_QUANTIZATION:o[h]=new ure;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Vne(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const mn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Wne{constructor(e){this.parser=e,this.name=mn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const h=new $e(16777215);l.color!==void 0&&h.fromArray(l.color);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new vR(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new gR(h),u.distance=p;break;case"spot":u=new mR(h),u.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Hu(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class jne{constructor(){this.name=mn.KHR_MATERIALS_UNLIT}getMaterialType(){return zs}extendParams(e,n,r){const i=[];e.color=new $e(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class Xne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Jne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ie(a,a)}return Promise.all(s)}}class Kne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Yne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new $e(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&n.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Qne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class qne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new $e(a[0],a[1],a[2]),Promise.all(s)}}class Zne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class $ne{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new $e(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class ere{constructor(e){this.parser=e,this.name=mn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:el}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class tre{constructor(e){this.parser=e,this.name=mn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class nre{constructor(e){this.parser=e,this.name=mn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rre{constructor(e){this.parser=e,this.name=mn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class ire{constructor(e){this.name=mn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,h=i.count,p=i.byteStride,g=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,p,g,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(h*p);return o.decodeGltfBuffer(new Uint8Array(v),h,p,g,i.mode,i.filter),v})})}else return null}}class sre{constructor(e){this.name=mn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==yo.TRIANGLES&&u.mode!==yo.TRIANGLE_STRIP&&u.mode!==yo.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(h=>(l[u]=h,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const h=u.pop(),p=h.isGroup?h.children:[h],g=u[0].count,v=[];for(const x of p){const E=new Gt,M=new G,y=new Yr,S=new G(1,1,1),A=new $b(x.geometry,x.material,g);for(let C=0;C<g;C++)l.TRANSLATION&&M.fromBufferAttribute(l.TRANSLATION,C),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,C),l.SCALE&&S.fromBufferAttribute(l.SCALE,C),A.setMatrixAt(C,E.compose(M,y,S));for(const C in l)C!=="TRANSLATION"&&C!=="ROTATION"&&C!=="SCALE"&&x.geometry.setAttribute(C,l[C]);xn.prototype.copy.call(A,x),this.parser.assignFinalMaterial(A),v.push(A)}return h.isGroup?(h.clear(),h.add(...v),h):v[0]}))}}const mH="glTF",Eg=12,zL={JSON:1313821514,BIN:5130562};class ore{constructor(e){this.name=mn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Eg);if(this.header={magic:Ja.decodeText(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==mH)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Eg,i=new DataView(e,Eg);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===zL.JSON){const l=new Uint8Array(e,Eg+s,o);this.content=Ja.decodeText(l)}else if(a===zL.BIN){const l=Eg+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class are{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=mn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const h in o){const p=OT[h]||h.toLowerCase();a[p]=o[h]}for(const h in e.attributes){const p=OT[h]||h.toLowerCase();if(o[h]!==void 0){const g=r.accessors[e.attributes[h]],v=yp[g.componentType];u[p]=v.name,l[p]=g.normalized===!0}}return n.getDependency("bufferView",s).then(function(h){return new Promise(function(p){i.decodeDracoFile(h,function(g){for(const v in g.attributes){const x=g.attributes[v],E=l[v];E!==void 0&&(x.normalized=E)}p(g)},a,u)})})}}class lre{constructor(){this.name=mn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class ure{constructor(){this.name=mn.KHR_MESH_QUANTIZATION}}class gH extends sm{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,h=i-n,p=(r-n)/h,g=p*p,v=g*p,x=e*u,E=x-u,M=-2*v+3*g,y=v-g,S=1-M,A=y-g+p;for(let C=0;C!==a;C++){const P=o[E+C+a],L=o[E+C+l]*h,D=o[x+C+a],N=o[x+C]*h;s[C]=S*P+A*L+M*D+y*N}return s}}const cre=new Yr;class fre extends gH{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return cre.fromArray(s).normalize().toArray(s),s}}const yo={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},yp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},GL={9728:_r,9729:or,9984:H0,9985:M1,9986:mp,9987:qa},VL={33071:yi,33648:Ip,10497:Ac},sw={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},OT={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...Une>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Ou={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},hre={CUBICSPLINE:void 0,LINEAR:uh,STEP:Lp},ow={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function dre(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Cv({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Qa})),t.DefaultMaterial}function Mf(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Hu(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function pre(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const p=e[u];if(p.POSITION!==void 0&&(r=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,h=e.length;u<h;u++){const p=e[u];if(r){const g=p.POSITION!==void 0?n.getDependency("accessor",p.POSITION):t.attributes.position;o.push(g)}if(i){const g=p.NORMAL!==void 0?n.getDependency("accessor",p.NORMAL):t.attributes.normal;a.push(g)}if(s){const g=p.COLOR_0!==void 0?n.getDependency("accessor",p.COLOR_0):t.attributes.color;l.push(g)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],p=u[1],g=u[2];return r&&(t.morphAttributes.position=h),i&&(t.morphAttributes.normal=p),s&&(t.morphAttributes.color=g),t.morphTargetsRelative=!0,t})}function mre(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function gre(t){let e;const n=t.extensions&&t.extensions[mn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+aw(n.attributes):e=t.indices+":"+aw(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+aw(t.targets[r]);return e}function aw(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function NT(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function vre(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const yre=new Gt;class xre{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Vne,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new Ik(this.options.manager):this.textureLoader=new Uk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Xs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Mf(s,a,i),Hu(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,h]of o.children.entries())s(h,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[mn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(Ja.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=sw[i.type],a=yp[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new Mn(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=sw[i.type],u=yp[i.componentType],h=u.BYTES_PER_ELEMENT,p=h*l,g=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,x=i.normalized===!0;let E,M;if(v&&v!==p){const y=Math.floor(g/v),S="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let A=n.cache.get(S);A||(E=new u(a,y*v,i.count*v/h),A=new hv(E,v/h),n.cache.add(S,A)),M=new Sc(A,l,g%v/h,x)}else a===null?E=new u(i.count*l):E=new u(a,g,i.count*l),M=new Mn(E,l,x);if(i.sparse!==void 0){const y=sw.SCALAR,S=yp[i.sparse.indices.componentType],A=i.sparse.indices.byteOffset||0,C=i.sparse.values.byteOffset||0,P=new S(o[1],A,i.sparse.count*y),L=new u(o[2],C,i.sparse.count*l);a!==null&&(M=new Mn(M.array.slice(),M.itemSize,M.normalized));for(let D=0,N=P.length;D<N;D++){const I=P[D];if(M.setX(I,L[D*l]),l>=2&&M.setY(I,L[D*l+1]),l>=3&&M.setZ(I,L[D*l+2]),l>=4&&M.setW(I,L[D*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return M})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const g=(s.samplers||{})[o.sampler]||{};return h.magFilter=GL[g.magFilter]||or,h.minFilter=GL[g.minFilter]||qa,h.wrapS=VL[g.wrapS]||Ac,h.wrapT=VL[g.wrapT]||Ac,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(p){u=!0;const g=new Blob([p],{type:o.mimeType});return l=a.createObjectURL(g),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(p){return new Promise(function(g,v){let x=g;n.isImageBitmapLoader===!0&&(x=function(E){const M=new $n(E);M.needsUpdate=!0,g(M)}),n.load(Ja.resolveURL(p,s.path),x,void 0,v)})}).then(function(p){return u===!0&&a.revokeObjectURL(l),p.userData.mimeType=o.mimeType||vre(o.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=h,h}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[mn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[mn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[mn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new pv,Hr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Fi,Hr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Cv}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[mn.KHR_MATERIALS_UNLIT]){const p=i[mn.KHR_MATERIALS_UNLIT];o=p.getMaterialType(),u.push(p.extendParams(a,s,n))}else{const p=s.pbrMetallicRoughness||{};if(a.color=new $e(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){const g=p.baseColorFactor;a.color.fromArray(g),a.opacity=g[3]}p.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",p.baseColorTexture,3001)),a.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,a.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),o=this._invokeOne(function(g){return g.getMaterialType&&g.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(g){return g.extendMaterialParams&&g.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Eo);const h=s.alphaMode||ow.OPAQUE;if(h===ow.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===ow.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==zs&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Ie(1,1),s.normalTexture.scale!==void 0)){const p=s.normalTexture.scale;a.normalScale.set(p,p)}return s.occlusionTexture!==void 0&&o!==zs&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==zs&&(a.emissive=new $e().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==zs&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(u).then(function(){const p=new o(a);return s.name&&(p.name=s.name),Hu(p,s),n.associations.set(p,{materials:e}),s.extensions&&Mf(i,p,s),p})}createUniqueName(e){const n=yn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[mn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return WL(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=gre(u),p=i[h];if(p)o.push(p.promise);else{let g;u.extensions&&u.extensions[mn.KHR_DRACO_MESH_COMPRESSION]?g=s(u):g=WL(new en,u,n),i[h]={primitive:u,promise:g},o.push(g)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const h=o[l].material===void 0?dre(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),h=l[l.length-1],p=[];for(let v=0,x=h.length;v<x;v++){const E=h[v],M=o[v];let y;const S=u[v];if(M.mode===yo.TRIANGLES||M.mode===yo.TRIANGLE_STRIP||M.mode===yo.TRIANGLE_FAN||M.mode===void 0)y=s.isSkinnedMesh===!0?new Zb(E,S):new fi(E,S),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),M.mode===yo.TRIANGLE_STRIP?y.geometry=UL(y.geometry,kb):M.mode===yo.TRIANGLE_FAN&&(y.geometry=UL(y.geometry,dA));else if(M.mode===yo.LINES)y=new pa(E,S);else if(M.mode===yo.LINE_STRIP)y=new jl(E,S);else if(M.mode===yo.LINE_LOOP)y=new eR(E,S);else if(M.mode===yo.POINTS)y=new tR(E,S);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+M.mode);Object.keys(y.geometry.morphAttributes).length>0&&mre(y,s),y.name=n.createUniqueName(s.name||"mesh_"+e),Hu(y,s),M.extensions&&Mf(i,y,M),n.assignFinalMaterial(y),p.push(y)}for(let v=0,x=p.length;v<x;v++)n.associations.set(p[v],{meshes:e,primitives:v});if(p.length===1)return s.extensions&&Mf(i,p[0],s),p[0];const g=new Dl;s.extensions&&Mf(i,g,s),n.associations.set(g,{meshes:e});for(let v=0,x=p.length;v<x;v++)g.add(p[v]);return g})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Xn(Rl.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Co(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Hu(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,h=o.length;u<h;u++){const p=o[u];if(p){a.push(p);const g=new Gt;s!==null&&g.fromArray(s.array,u*16),l.push(g)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new dv(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],u=[];for(let h=0,p=r.channels.length;h<p;h++){const g=r.channels[h],v=r.samplers[g.sampler],x=g.target,E=x.node,M=r.parameters!==void 0?r.parameters[v.input]:v.input,y=r.parameters!==void 0?r.parameters[v.output]:v.output;x.node!==void 0&&(s.push(this.getDependency("node",E)),o.push(this.getDependency("accessor",M)),a.push(this.getDependency("accessor",y)),l.push(v),u.push(x))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u)]).then(function(h){const p=h[0],g=h[1],v=h[2],x=h[3],E=h[4],M=[];for(let y=0,S=p.length;y<S;y++){const A=p[y],C=g[y],P=v[y],L=x[y],D=E[y];if(A===void 0)continue;A.updateMatrix();let N;switch(Ou[D.path]){case Ou.weights:N=Np;break;case Ou.rotation:N=Mc;break;case Ou.position:case Ou.scale:default:N=Up;break}const I=A.name?A.name:A.uuid,F=L.interpolation!==void 0?hre[L.interpolation]:uh,W=[];Ou[D.path]===Ou.weights?A.traverse(function(re){re.morphTargetInfluences&&W.push(re.name?re.name:re.uuid)}):W.push(I);let ce=P.array;if(P.normalized){const re=NT(ce.constructor),Q=new Float32Array(ce.length);for(let ee=0,de=ce.length;ee<de;ee++)Q[ee]=ce[ee]*re;ce=Q}for(let re=0,Q=W.length;re<Q;re++){const ee=new N(W[re]+"."+Ou[D.path],C.array,ce,F);L.interpolation==="CUBICSPLINE"&&(ee.createInterpolant=function(le){const V=this instanceof Mc?fre:gH;return new V(this.times,this.values,this.getValueSize()/3,le)},ee.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),M.push(ee)}}return new kp(i,void 0,M)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,h=a.length;u<h;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const h=u[0],p=u[1],g=u[2];g!==null&&h.traverse(function(v){v.isSkinnedMesh&&v.bind(g,yre)});for(let v=0,x=p.length;v<x;v++)h.add(p[v]);return h})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let h;if(s.isBone===!0?h=new I1:u.length>1?h=new Dl:u.length===1?h=u[0]:h=new xn,h!==u[0])for(let p=0,g=u.length;p<g;p++)h.add(u[p]);if(s.name&&(h.userData.name=s.name,h.name=o),Hu(h,s),s.extensions&&Mf(r,h,s),s.matrix!==void 0){const p=new Gt;p.fromArray(s.matrix),h.applyMatrix4(p)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Dl;r.name&&(s.name=i.createUniqueName(r.name)),Hu(s,r),r.extensions&&Mf(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,p=l.length;h<p;h++)s.add(l[h]);const u=h=>{const p=new Map;for(const[g,v]of i.associations)(g instanceof Hr||g instanceof $n)&&p.set(g,v);return h.traverse(g=>{const v=i.associations.get(g);v!=null&&p.set(g,v)}),p};return i.associations=u(s),s})}}function _re(t,e,n){const r=e.attributes,i=new da;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new G(l[0],l[1],l[2]),new G(u[0],u[1],u[2])),a.normalized){const h=NT(yp[a.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new G,l=new G;for(let u=0,h=s.length;u<h;u++){const p=s[u];if(p.POSITION!==void 0){const g=n.json.accessors[p.POSITION],v=g.min,x=g.max;if(v!==void 0&&x!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(x[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(x[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(x[2]))),g.normalized){const E=NT(yp[g.componentType]);l.multiplyScalar(E)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Lo;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function WL(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=OT[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Hu(t,e),_re(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?pre(t,e.targets,n):t})}const lw=new WeakMap;class Are extends es{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Xs(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(lw.has(e)){const l=lw.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,h)=>{i._callbacks[s]={resolve:u,reject:h},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),lw.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new en;e.index&&n.setIndex(new Mn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new Mn(o,a))}return n}_loadLibrary(e,n){const r=new Xs(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Sre.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Sre(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(h){t.onModuleLoaded=function(p){h({draco:p})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(h=>{const p=h.draco,g=new p.Decoder,v=new p.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const x=n(p,g,v,u),E=x.attributes.map(M=>M.array.buffer);x.index&&E.push(x.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:x},E)}catch(x){console.error(x),self.postMessage({type:"error",id:a.id,error:x.message})}finally{p.destroy(v),p.destroy(g)}});break}};function n(o,a,l,u){const h=u.attributeIDs,p=u.attributeTypes;let g,v;const x=a.GetEncodedGeometryType(l);if(x===o.TRIANGULAR_MESH)g=new o.Mesh,v=a.DecodeBufferToMesh(l,g);else if(x===o.POINT_CLOUD)g=new o.PointCloud,v=a.DecodeBufferToPointCloud(l,g);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||g.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const E={index:null,attributes:[]};for(const M in h){const y=self[p[M]];let S,A;if(u.useUniqueIDs)A=h[M],S=a.GetAttributeByUniqueId(g,A);else{if(A=a.GetAttributeId(g,o[h[M]]),A===-1)continue;S=a.GetAttribute(g,A)}E.attributes.push(i(o,a,g,M,y,S))}return x===o.TRIANGULAR_MESH&&(E.index=r(o,a,g)),o.destroy(g),E}function r(o,a,l){const h=l.num_faces()*3,p=h*4,g=o._malloc(p);a.GetTrianglesUInt32Array(l,p,g);const v=new Uint32Array(o.HEAPF32.buffer,g,h).slice();return o._free(g),{array:v,itemSize:1}}function i(o,a,l,u,h,p){const g=p.num_components(),x=l.num_points()*g,E=x*h.BYTES_PER_ELEMENT,M=s(o,h),y=o._malloc(E);a.GetAttributeDataArrayForAllPoints(l,p,M,E,y);const S=new h(o.HEAPF32.buffer,y,x).slice();return o._free(y),{name:u,array:S,itemSize:g}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Zx;const uw=()=>{if(Zx)return Zx;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(p=>{s=p.instance,s.exports.__wasm_call_ctors()});function a(p){const g=new Uint8Array(p.length);for(let x=0;x<p.length;++x){const E=p.charCodeAt(x);g[x]=E>96?E-71:E>64?E-65:E>47?E+4:E>46?63:62}let v=0;for(let x=0;x<p.length;++x)g[v++]=g[x]<60?r[g[x]]:(g[x]-60)*64+g[++x];return g.buffer.slice(0,v)}function l(p,g,v,x,E,M){const y=s.exports.sbrk,S=v+3&-4,A=y(S*x),C=y(E.length),P=new Uint8Array(s.exports.memory.buffer);P.set(E,C);const L=p(A,v,x,C,E.length);if(L===0&&M&&M(A,S,x),g.set(P.subarray(A,A+v*x)),y(A-y(0)),L!==0)throw new Error(`Malformed buffer data: ${L}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Zx={ready:o,supported:!0,decodeVertexBuffer(p,g,v,x,E){l(s.exports.meshopt_decodeVertexBuffer,p,g,v,x,s.exports[u[E]])},decodeIndexBuffer(p,g,v,x){l(s.exports.meshopt_decodeIndexBuffer,p,g,v,x)},decodeIndexSequence(p,g,v,x){l(s.exports.meshopt_decodeIndexSequence,p,g,v,x)},decodeGltfBuffer(p,g,v,x,E,M){l(s.exports[h[E]],p,g,v,x,s.exports[u[M]])}},Zx},Mre=()=>parseInt(Zp.replace(/\D+/g,"")),vH=Mre();let $x=null,yH="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function xH(t,e,n){return r=>{n&&n(r),t&&($x||($x=new Are),$x.setDecoderPath(typeof t=="string"?t:yH),r.setDRACOLoader($x)),e&&r.setMeshoptDecoder(typeof uw=="function"?uw():uw)}}function _h(t,e=!0,n=!0,r){return Rv(CR,t,xH(e,n,r))}_h.preload=(t,e=!0,n=!0,r)=>Rv.preload(CR,t,xH(e,n,r));_h.clear=t=>Rv.clear(CR,t);_h.setDecoderPath=t=>{yH=t};const _H=U.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const p=Zo(L=>L.invalidate),g=Zo(L=>L.camera),v=Zo(L=>L.gl),x=Zo(L=>L.events),E=Zo(L=>L.setEvents),M=Zo(L=>L.set),y=Zo(L=>L.get),S=Zo(L=>L.performance),A=e||g,C=r||x.connected||v.domElement,P=U.useMemo(()=>new Gne(A),[A]);return om(()=>{P.enabled&&P.update()},-1),U.useEffect(()=>(s&&P.connect(s===!0?C:s),P.connect(C),()=>void P.dispose()),[s,C,n,P,p]),U.useEffect(()=>{const L=I=>{p(),n&&S.regress(),o&&o(I)},D=I=>{a&&a(I)},N=I=>{l&&l(I)};return P.addEventListener("change",L),P.addEventListener("start",D),P.addEventListener("end",N),()=>{P.removeEventListener("start",D),P.removeEventListener("end",N),P.removeEventListener("change",L)}},[o,a,l,P,p,E]),U.useEffect(()=>{if(t){const L=y().controls;return M({controls:P}),()=>M({controls:L})}},[t,P]),U.createElement("primitive",sh({ref:h,object:P,enableDamping:i},u))}),cw=vH>=154?"opaque_fragment":"output_fragment";class wre extends pv{constructor(e){super(e),this.onBeforeCompile=(n,r)=>{const{isWebGL2:i}=r.capabilities;n.fragmentShader=n.fragmentShader.replace(`#include <${cw}>`,`
        ${i?`#include <${cw}>`:`#extension GL_OES_standard_derivatives : enable
#include <${cw}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${vH>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}const Ere=U.forwardRef((t,e)=>{const[n]=U.useState(()=>new wre(null));return U.createElement("primitive",sh({},t,{object:n,ref:e,attach:"material"}))});function oce(t){return qp({attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M7 3.34a10 10 0 1 1 -4.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 4.995 -8.336z",strokeWidth:"0",fill:"currentColor"}}]})(t)}function Tre(t){return qp({attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}},{tag:"path",attr:{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2"}},{tag:"path",attr:{d:"M19 12h2l-9 -9l-9 9h2v7a2 2 0 0 0 2 2h5.5"}},{tag:"path",attr:{d:"M16 19h6"}},{tag:"path",attr:{d:"M19 16l3 3l-3 3"}}]})(t)}const Cre=[{id:0,name:"PersonalInfo",title:"Personal Info",background:"rgb(0 0 0 / 50%)",size:[130,450],top:180,adjustTop:-30,adjustViewport:-40,adjustHeight:0,fixed:!0,Rand:Math.random(),list:[]},{id:1,name:"Affiliation",title:"Affiliation",background:"rgb(0 0 0 / 40%)",size:[130,450],fixed:!0,top:330,adjustTop:-30,adjustHeight:0,adjustViewport:-40,Rand:Math.random(),list:[],isCalc:!1},{id:2,name:"ResearchInterests",title:"Research Interests",background:"rgb(0 0 0 / 40%)",size:[75,450],fixed:!0,top:460,adjustTop:-30,adjustHeight:0,adjustViewport:-40,Rand:Math.random(),list:G7,isCalc:!1},{id:3,name:"Skills",explanation:"Achieved proficiency in various technical skills",title:"Skill & Software",background:"rgb(0 0 0 / 20%)",size:[140,450],top:1025,adjustTop:-510,adjustHeight:-10,adjustViewport:-40,fixed:!1,Rand:Math.random(),list:V7,isCalc:!1},{id:4,name:"Qualifications",explanation:"Achieved educational credentials",title:"Qualifications",background:"rgb(0 0 0 / 30%)",size:[190,450],top:605,adjustTop:-545,adjustHeight:-20,adjustViewport:-40,fixed:!1,Rand:Math.random(),list:U7,isCalc:!1},{id:5,name:"Published Papers",explanation:"Peer-reviewed research contributions",title:"Published Papers",background:"rgb(0 0 0 / 30%)",size:[210,450],top:805,adjustTop:-565,adjustHeight:-20,adjustViewport:-40,fixed:!1,Rand:Math.random(),list:z7,isCalc:!1},{id:6,name:"Conference",explanation:"Participation in Scholarly Conferences and Workshops",title:"Workshops & Conferences",background:"rgb(0 0 0 / 30%)",size:[120,450],top:1175,adjustTop:-735,adjustHeight:-20,adjustViewport:-40,fixed:!1,Rand:Math.random(),list:H7,isCalc:!0},{id:7,name:"Awards",explanation:"Acknowledgement of  Professional Achievement",title:"Awards & Certifications",background:"rgb(0 0 0 / 30%)",size:[100,450],top:1305,adjustTop:-755,adjustHeight:-5,adjustViewport:-40,fixed:!1,Rand:Math.random(),list:k7,isCalc:!1},{id:8,name:"Teaching",explanation:"Involvement in Teaching and Professional Work Experiences",title:"Teach & work experiences",background:"rgb(0 0 0 / 30%)",size:[100,450],top:1305,adjustTop:-755,adjustHeight:-5,adjustViewport:-40,fixed:!1,Rand:Math.random(),list:W7,isCalc:!0}];function bre(t,e){const n=window.innerWidth,r=t*.6,i=Math.floor(n/r),s=[];for(let a=0;a<e.length;a+=i)s.push(e.slice(a,a+i));return s.length}const Rre=(t,e,n,r)=>{let s=0,o=0,a=0,l=!0;const u=(p,g)=>r[2]||r[3]?a:p+g>e.height?a+1:a;return[...t].sort((p,g)=>n.indexOf(p.id)-n.indexOf(g.id)).map(p=>{const g=(N,I,F)=>r[N]&&p.id===I?F:0,v={exception_0T:[{h:2,t:0,v:10}],exception_3H:[{h:2,t:4,v:45},{h:2,t:5,v:25},{h:2,t:3,v:20}],exception_3T:[{h:2,t:2,v:45},{h:2,t:3,v:25},{h:2,t:8,v:20}],exception_4H:[{h:3,t:5,v:25},{h:3,t:3,v:20}],exception_4T:[{h:3,t:0,v:10},{h:3,t:3,v:25},{h:3,t:8,v:20}]},x=N=>N.reduce((I,{h:F,t:W,v:ce})=>I+g(F,W,ce),0);let E=0;if(p.isCalc){const F=p.list[0][Object.keys(p.list[0])[1]];E=Math.max(bre(11,F)*16,r[2]?40:r[3]?20:0),p.size[0]===0&&(p.size[0]=p.size[0]+E)}const M=x([...v.exception_3H,...v.exception_4H])+E,y=x([...v.exception_0T,...v.exception_3T,...v.exception_4T]),S=u(s,p.size[0]);S>a&&(o=n.indexOf(p.id),a=S,s=0);const A=n.indexOf(p.id),C=p.fixed?5:0,P=n.indexOf(p.id)===o?s+C+y:s+C+10+y;let L=!1,D="center";return A>n.length-3?(L=!0,l?(D="left",l=!1):(D="right",l=!0)):(s=P+p.size[0],E>0&&(s=s+M)),{...p,height:p.size[0]+M,width:p.size[1],top:p.top,iniRL:S,seqId:A,widthSplit:L,direction:D}})},Pre=t=>U.useMemo(()=>t[2]||t[3]||t[1]?[0,1,2,4,5,3,6,7,8]:t[0]?[0,1,2,3,4,5,6,7,8]:[0,1,2,3,4,5,6,7,8],[t]),Ire=({stages:t})=>{const[e,n]=U.useState(!1),r=500,i=Li(a=>a.data.academicElementSize);U.useEffect(()=>{const a=setTimeout(()=>{n(!0)},r);return()=>clearTimeout(a)},[i]);const s=Pre(t);return U.useMemo(()=>e&&i.height>0?Rre(Cre,i,s,t):[],[e,t])};var yA={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */yA.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",p=1,g=2,v=4,x=1,E=2,M=1,y=2,S=4,A=8,C=16,P=32,L=64,D=128,N=256,I=512,F=30,W="...",ce=800,re=16,Q=1,ee=2,de=3,le=1/0,V=9007199254740991,te=17976931348623157e292,ie=NaN,he=4294967295,ne=he-1,ye=he>>>1,Me=[["ary",D],["bind",M],["bindKey",y],["curry",A],["curryRight",C],["flip",I],["partial",P],["partialRight",L],["rearg",N]],Te="[object Arguments]",Le="[object Array]",Ge="[object AsyncFunction]",ut="[object Boolean]",et="[object Date]",mt="[object DOMException]",He="[object Error]",K="[object Function]",De="[object GeneratorFunction]",Se="[object Map]",Ne="[object Number]",Be="[object Null]",Ke="[object Object]",qe="[object Promise]",rt="[object Proxy]",gt="[object RegExp]",Et="[object Set]",fn="[object String]",J="[object Symbol]",H="[object Undefined]",Ae="[object WeakMap]",We="[object WeakSet]",Ue="[object ArrayBuffer]",Ye="[object DataView]",dt="[object Float32Array]",Qe="[object Float64Array]",Ce="[object Int8Array]",St="[object Int16Array]",At="[object Int32Array]",Mt="[object Uint8Array]",lt="[object Uint8ClampedArray]",Z="[object Uint16Array]",Pe="[object Uint32Array]",tt=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,Ve=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,it=RegExp(ve.source),rn=RegExp(Je.source),un=/<%-([\s\S]+?)%>/g,gn=/<%([\s\S]+?)%>/g,zr=/<%=([\s\S]+?)%>/g,_n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sr=/^\w*$/,Kn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yl=/[\\^$.*+?()[\]{}|]/g,Mh=RegExp(Yl.source),Ql=/^\s+/,va=/\s/,wh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,qs=/\{\n\/\* \[wrapped with (.+)\] \*/,Eh=/,? & /,am=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lm=/[()=,{}\[\]\/\s]/,um=/\\(\\)?/g,j=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,be=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,Re=/^\[object .+?Constructor\]$/,ct=/^0o[0-7]+$/i,Tt=/^(?:0|[1-9]\d*)$/,Ft=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Rt=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,Pt="\\ud800-\\udfff",Ut="\\u0300-\\u036f",wn="\\ufe20-\\ufe2f",Dn="\\u20d0-\\u20ff",Ai=Ut+wn+Dn,Si="\\u2700-\\u27bf",Tn="a-z\\xdf-\\xf6\\xf8-\\xff",jt="\\xac\\xb1\\xd7\\xf7",En="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kt="\\u2000-\\u206f",Zr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hr="A-Z\\xc0-\\xd6\\xd8-\\xde",er="\\ufe0e\\ufe0f",ts=jt+En+kt+Zr,kn="[']",Yn="["+Pt+"]",Do="["+ts+"]",Mr="["+Ai+"]",tl="\\d+",ql="["+Si+"]",Zl="["+Tn+"]",ns="[^"+Pt+ts+tl+Si+Tn+hr+"]",cm="\\ud83c[\\udffb-\\udfff]",j1="(?:"+Mr+"|"+cm+")",Fv="[^"+Pt+"]",$l="(?:\\ud83c[\\udde6-\\uddff]){2}",eu="[\\ud800-\\udbff][\\udc00-\\udfff]",Zs="["+hr+"]",Lc="\\u200d",Ov="(?:"+Zl+"|"+ns+")",X1="(?:"+Zs+"|"+ns+")",Th="(?:"+kn+"(?:d|ll|m|re|s|t|ve))?",Ch="(?:"+kn+"(?:D|LL|M|RE|S|T|VE))?",tu=j1+"?",Nv="["+er+"]?",fm="(?:"+Lc+"(?:"+[Fv,$l,eu].join("|")+")"+Nv+tu+")*",vn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Uv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",bh=Nv+tu+fm,kv="(?:"+[ql,$l,eu].join("|")+")"+bh,J1="(?:"+[Fv+Mr+"?",Mr,$l,eu,Yn].join("|")+")",K1=RegExp(kn,"g"),Lr=RegExp(Mr,"g"),Dc=RegExp(cm+"(?="+cm+")|"+J1+bh,"g"),Y1=RegExp([Zs+"?"+Zl+"+"+Th+"(?="+[Do,Zs,"$"].join("|")+")",X1+"+"+Ch+"(?="+[Do,Zs+Ov,"$"].join("|")+")",Zs+"?"+Ov+"+"+Th,Zs+"+"+Ch,Uv,vn,tl,kv].join("|"),"g"),hm=RegExp("["+Lc+Pt+Ai+er+"]"),Q1=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$s=-1,Fn={};Fn[dt]=Fn[Qe]=Fn[Ce]=Fn[St]=Fn[At]=Fn[Mt]=Fn[lt]=Fn[Z]=Fn[Pe]=!0,Fn[Te]=Fn[Le]=Fn[Ue]=Fn[ut]=Fn[Ye]=Fn[et]=Fn[He]=Fn[K]=Fn[Se]=Fn[Ne]=Fn[Ke]=Fn[gt]=Fn[Et]=Fn[fn]=Fn[Ae]=!1;var Bn={};Bn[Te]=Bn[Le]=Bn[Ue]=Bn[Ye]=Bn[ut]=Bn[et]=Bn[dt]=Bn[Qe]=Bn[Ce]=Bn[St]=Bn[At]=Bn[Se]=Bn[Ne]=Bn[Ke]=Bn[gt]=Bn[Et]=Bn[fn]=Bn[J]=Bn[Mt]=Bn[lt]=Bn[Z]=Bn[Pe]=!0,Bn[He]=Bn[K]=Bn[Ae]=!1;var eo={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},Fo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ph={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hv=parseFloat,q1=parseInt,As=typeof Ua=="object"&&Ua&&Ua.Object===Object&&Ua,Z1=typeof self=="object"&&self&&self.Object===Object&&self,dr=As||Z1||Function("return this")(),pm=e&&!e.nodeType&&e,Gr=pm&&!0&&t&&!t.nodeType&&t,Fc=Gr&&Gr.exports===pm,nu=Fc&&As.process,Vr=function(){try{var oe=Gr&&Gr.require&&Gr.require("util").types;return oe||nu&&nu.binding&&nu.binding("util")}catch{}}(),Ih=Vr&&Vr.isArrayBuffer,Bh=Vr&&Vr.isDate,mm=Vr&&Vr.isMap,Lh=Vr&&Vr.isRegExp,Dh=Vr&&Vr.isSet,nl=Vr&&Vr.isTypedArray;function Hn(oe,Ee,xe){switch(xe.length){case 0:return oe.call(Ee);case 1:return oe.call(Ee,xe[0]);case 2:return oe.call(Ee,xe[0],xe[1]);case 3:return oe.call(Ee,xe[0],xe[1],xe[2])}return oe.apply(Ee,xe)}function to(oe,Ee,xe,at){for(var Ot=-1,Jt=oe==null?0:oe.length;++Ot<Jt;){var zn=oe[Ot];Ee(at,zn,xe(zn),oe)}return at}function wr(oe,Ee){for(var xe=-1,at=oe==null?0:oe.length;++xe<at&&Ee(oe[xe],xe,oe)!==!1;);return oe}function gm(oe,Ee){for(var xe=oe==null?0:oe.length;xe--&&Ee(oe[xe],xe,oe)!==!1;);return oe}function vm(oe,Ee){for(var xe=-1,at=oe==null?0:oe.length;++xe<at;)if(!Ee(oe[xe],xe,oe))return!1;return!0}function $r(oe,Ee){for(var xe=-1,at=oe==null?0:oe.length,Ot=0,Jt=[];++xe<at;){var zn=oe[xe];Ee(zn,xe,oe)&&(Jt[Ot++]=zn)}return Jt}function Ss(oe,Ee){var xe=oe==null?0:oe.length;return!!xe&&ws(oe,Ee,0)>-1}function ru(oe,Ee,xe){for(var at=-1,Ot=oe==null?0:oe.length;++at<Ot;)if(xe(Ee,oe[at]))return!0;return!1}function On(oe,Ee){for(var xe=-1,at=oe==null?0:oe.length,Ot=Array(at);++xe<at;)Ot[xe]=Ee(oe[xe],xe,oe);return Ot}function Ms(oe,Ee){for(var xe=-1,at=Ee.length,Ot=oe.length;++xe<at;)oe[Ot+xe]=Ee[xe];return oe}function Fh(oe,Ee,xe,at){var Ot=-1,Jt=oe==null?0:oe.length;for(at&&Jt&&(xe=oe[++Ot]);++Ot<Jt;)xe=Ee(xe,oe[Ot],Ot,oe);return xe}function zv(oe,Ee,xe,at){var Ot=oe==null?0:oe.length;for(at&&Ot&&(xe=oe[--Ot]);Ot--;)xe=Ee(xe,oe[Ot],Ot,oe);return xe}function Oc(oe,Ee){for(var xe=-1,at=oe==null?0:oe.length;++xe<at;)if(Ee(oe[xe],xe,oe))return!0;return!1}var Oh=Mi("length");function Gv(oe){return oe.split("")}function Vv(oe){return oe.match(am)||[]}function ym(oe,Ee,xe){var at;return xe(oe,function(Ot,Jt,zn){if(Ee(Ot,Jt,zn))return at=Jt,!1}),at}function iu(oe,Ee,xe,at){for(var Ot=oe.length,Jt=xe+(at?1:-1);at?Jt--:++Jt<Ot;)if(Ee(oe[Jt],Jt,oe))return Jt;return-1}function ws(oe,Ee,xe){return Ee===Ee?uu(oe,Ee,xe):iu(oe,Nc,xe)}function su(oe,Ee,xe,at){for(var Ot=xe-1,Jt=oe.length;++Ot<Jt;)if(at(oe[Ot],Ee))return Ot;return-1}function Nc(oe){return oe!==oe}function Uc(oe,Ee){var xe=oe==null?0:oe.length;return xe?Es(oe,Ee)/xe:ie}function Mi(oe){return function(Ee){return Ee==null?n:Ee[oe]}}function wi(oe){return function(Ee){return oe==null?n:oe[Ee]}}function ya(oe,Ee,xe,at,Ot){return Ot(oe,function(Jt,zn,Bt){xe=at?(at=!1,Jt):Ee(xe,Jt,zn,Bt)}),xe}function Oo(oe,Ee){var xe=oe.length;for(oe.sort(Ee);xe--;)oe[xe]=oe[xe].value;return oe}function Es(oe,Ee){for(var xe,at=-1,Ot=oe.length;++at<Ot;){var Jt=Ee(oe[at]);Jt!==n&&(xe=xe===n?Jt:xe+Jt)}return xe}function No(oe,Ee){for(var xe=-1,at=Array(oe);++xe<oe;)at[xe]=Ee(xe);return at}function Wv(oe,Ee){return On(Ee,function(xe){return[xe,oe[xe]]})}function Nh(oe){return oe&&oe.slice(0,cu(oe)+1).replace(Ql,"")}function pi(oe){return function(Ee){return oe(Ee)}}function mi(oe,Ee){return On(Ee,function(xe){return oe[xe]})}function Wr(oe,Ee){return oe.has(Ee)}function Nn(oe,Ee){for(var xe=-1,at=oe.length;++xe<at&&ws(Ee,oe[xe],0)>-1;);return xe}function ou(oe,Ee){for(var xe=oe.length;xe--&&ws(Ee,oe[xe],0)>-1;);return xe}function Ts(oe,Ee){for(var xe=oe.length,at=0;xe--;)oe[xe]===Ee&&++at;return at}var jv=wi(eo),Xv=wi(Fo);function xm(oe){return"\\"+dm[oe]}function _m(oe,Ee){return oe==null?n:oe[Ee]}function rl(oe){return hm.test(oe)}function kc(oe){return Q1.test(oe)}function au(oe){for(var Ee,xe=[];!(Ee=oe.next()).done;)xe.push(Ee.value);return xe}function Hc(oe){var Ee=-1,xe=Array(oe.size);return oe.forEach(function(at,Ot){xe[++Ee]=[Ot,at]}),xe}function lu(oe,Ee){return function(xe){return oe(Ee(xe))}}function Cs(oe,Ee){for(var xe=-1,at=oe.length,Ot=0,Jt=[];++xe<at;){var zn=oe[xe];(zn===Ee||zn===h)&&(oe[xe]=h,Jt[Ot++]=xe)}return Jt}function zc(oe){var Ee=-1,xe=Array(oe.size);return oe.forEach(function(at){xe[++Ee]=at}),xe}function Jv(oe){var Ee=-1,xe=Array(oe.size);return oe.forEach(function(at){xe[++Ee]=[at,at]}),xe}function uu(oe,Ee,xe){for(var at=xe-1,Ot=oe.length;++at<Ot;)if(oe[at]===Ee)return at;return-1}function Kv(oe,Ee,xe){for(var at=xe+1;at--;)if(oe[at]===Ee)return at;return at}function no(oe){return rl(oe)?ro(oe):Oh(oe)}function Qn(oe){return rl(oe)?Am(oe):Gv(oe)}function cu(oe){for(var Ee=oe.length;Ee--&&va.test(oe.charAt(Ee)););return Ee}var fu=wi(Ph);function ro(oe){for(var Ee=Dc.lastIndex=0;Dc.test(oe);)++Ee;return Ee}function Am(oe){return oe.match(Dc)||[]}function hu(oe){return oe.match(Y1)||[]}var Yv=function oe(Ee){Ee=Ee==null?dr:xa.defaults(dr.Object(),Ee,xa.pick(dr,Rh));var xe=Ee.Array,at=Ee.Date,Ot=Ee.Error,Jt=Ee.Function,zn=Ee.Math,Bt=Ee.Object,Dr=Ee.RegExp,Fr=Ee.String,gi=Ee.TypeError,_a=xe.prototype,Gc=Jt.prototype,du=Bt.prototype,Er=Ee["__core-js_shared__"],pu=Gc.toString,An=du.hasOwnProperty,Sm=0,io=function(){var c=/[^.]+$/.exec(Er&&Er.keys&&Er.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Oi=du.toString,il=pu.call(Bt),Uh=dr._,kh=Dr("^"+pu.call(An).replace(Yl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vc=Fc?Ee.Buffer:n,Uo=Ee.Symbol,Wc=Ee.Uint8Array,Mm=Vc?Vc.allocUnsafe:n,jc=lu(Bt.getPrototypeOf,Bt),wm=Bt.create,Hh=du.propertyIsEnumerable,Aa=_a.splice,Em=Uo?Uo.isConcatSpreadable:n,Sa=Uo?Uo.iterator:n,so=Uo?Uo.toStringTag:n,mu=function(){try{var c=ff(Bt,"defineProperty");return c({},"",{}),c}catch{}}(),Xc=Ee.clearTimeout!==dr.clearTimeout&&Ee.clearTimeout,Qv=at&&at.now!==dr.Date.now&&at.now,qv=Ee.setTimeout!==dr.setTimeout&&Ee.setTimeout,Jc=zn.ceil,Kc=zn.floor,Yc=Bt.getOwnPropertySymbols,Zv=Vc?Vc.isBuffer:n,Tm=Ee.isFinite,$1=_a.join,$v=lu(Bt.keys,Bt),Tr=zn.max,ei=zn.min,ey=at.now,ty=Ee.parseInt,Cm=zn.random,ny=_a.reverse,gu=ff(Ee,"DataView"),Qc=ff(Ee,"Map"),bm=ff(Ee,"Promise"),vu=ff(Ee,"Set"),sl=ff(Ee,"WeakMap"),ol=ff(Bt,"create"),zh=sl&&new sl,al={},ry=hf(gu),iy=hf(Qc),sy=hf(bm),oy=hf(vu),oo=hf(sl),qc=Uo?Uo.prototype:n,ko=qc?qc.valueOf:n,yu=qc?qc.toString:n;function k(c){if(vr(c)&&!Kt(c)&&!(c instanceof bt)){if(c instanceof ti)return c;if(An.call(c,"__wrapped__"))return uP(c)}return new ti(c)}var Ho=function(){function c(){}return function(m){if(!ir(m))return{};if(wm)return wm(m);c.prototype=m;var w=new c;return c.prototype=n,w}}();function Zc(){}function ti(c,m){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}k.templateSettings={escape:un,evaluate:gn,interpolate:zr,variable:"",imports:{_:k}},k.prototype=Zc.prototype,k.prototype.constructor=k,ti.prototype=Ho(Zc.prototype),ti.prototype.constructor=ti;function bt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=he,this.__views__=[]}function eS(){var c=new bt(this.__wrapped__);return c.__actions__=oi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=oi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=oi(this.__views__),c}function tS(){if(this.__filtered__){var c=new bt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function Ni(){var c=this.__wrapped__.value(),m=this.__dir__,w=Kt(c),R=m<0,O=w?c.length:0,z=iz(0,O,this.__views__),Y=z.start,se=z.end,fe=se-Y,Fe=R?se:Y-1,Oe=this.__iteratees__,ke=Oe.length,st=0,_t=ei(fe,this.__takeCount__);if(!w||!R&&O==fe&&_t==fe)return ba(c,this.__actions__);var Lt=[];e:for(;fe--&&st<_t;){Fe+=m;for(var sn=-1,Dt=c[Fe];++sn<ke;){var cn=Oe[sn],pn=cn.iteratee,Ds=cn.type,Wi=pn(Dt);if(Ds==ee)Dt=Wi;else if(!Wi){if(Ds==Q)continue e;break e}}Lt[st++]=Dt}return Lt}bt.prototype=Ho(Zc.prototype),bt.prototype.constructor=bt;function tr(c){var m=-1,w=c==null?0:c.length;for(this.clear();++m<w;){var R=c[m];this.set(R[0],R[1])}}function ay(){this.__data__=ol?ol(null):{},this.size=0}function ly(c){var m=this.has(c)&&delete this.__data__[c];return this.size-=m?1:0,m}function uy(c){var m=this.__data__;if(ol){var w=m[c];return w===l?n:w}return An.call(m,c)?m[c]:n}function cy(c){var m=this.__data__;return ol?m[c]!==n:An.call(m,c)}function fy(c,m){var w=this.__data__;return this.size+=this.has(c)?0:1,w[c]=ol&&m===n?l:m,this}tr.prototype.clear=ay,tr.prototype.delete=ly,tr.prototype.get=uy,tr.prototype.has=cy,tr.prototype.set=fy;function bs(c){var m=-1,w=c==null?0:c.length;for(this.clear();++m<w;){var R=c[m];this.set(R[0],R[1])}}function hy(){this.__data__=[],this.size=0}function Rm(c){var m=this.__data__,w=wa(m,c);if(w<0)return!1;var R=m.length-1;return w==R?m.pop():Aa.call(m,w,1),--this.size,!0}function dy(c){var m=this.__data__,w=wa(m,c);return w<0?n:m[w][1]}function py(c){return wa(this.__data__,c)>-1}function Gh(c,m){var w=this.__data__,R=wa(w,c);return R<0?(++this.size,w.push([c,m])):w[R][1]=m,this}bs.prototype.clear=hy,bs.prototype.delete=Rm,bs.prototype.get=dy,bs.prototype.has=py,bs.prototype.set=Gh;function rs(c){var m=-1,w=c==null?0:c.length;for(this.clear();++m<w;){var R=c[m];this.set(R[0],R[1])}}function my(){this.size=0,this.__data__={hash:new tr,map:new(Qc||bs),string:new tr}}function Pm(c){var m=By(this,c).delete(c);return this.size-=m?1:0,m}function gy(c){return By(this,c).get(c)}function vy(c){return By(this,c).has(c)}function Vh(c,m){var w=By(this,c),R=w.size;return w.set(c,m),this.size+=w.size==R?0:1,this}rs.prototype.clear=my,rs.prototype.delete=Pm,rs.prototype.get=gy,rs.prototype.has=vy,rs.prototype.set=Vh;function Ma(c){var m=-1,w=c==null?0:c.length;for(this.__data__=new rs;++m<w;)this.add(c[m])}function Im(c){return this.__data__.set(c,l),this}function yy(c){return this.__data__.has(c)}Ma.prototype.add=Ma.prototype.push=Im,Ma.prototype.has=yy;function Cr(c){var m=this.__data__=new bs(c);this.size=m.size}function nS(){this.__data__=new bs,this.size=0}function rS(c){var m=this.__data__,w=m.delete(c);return this.size=m.size,w}function Wh(c){return this.__data__.get(c)}function ll(c){return this.__data__.has(c)}function iS(c,m){var w=this.__data__;if(w instanceof bs){var R=w.__data__;if(!Qc||R.length<i-1)return R.push([c,m]),this.size=++w.size,this;w=this.__data__=new rs(R)}return w.set(c,m),this.size=w.size,this}Cr.prototype.clear=nS,Cr.prototype.delete=rS,Cr.prototype.get=Wh,Cr.prototype.has=ll,Cr.prototype.set=iS;function nt(c,m){var w=Kt(c),R=!w&&df(c),O=!w&&!R&&bu(c),z=!w&&!R&&!O&&ad(c),Y=w||R||O||z,se=Y?No(c.length,Fr):[],fe=se.length;for(var Fe in c)(m||An.call(c,Fe))&&!(Y&&(Fe=="length"||O&&(Fe=="offset"||Fe=="parent")||z&&(Fe=="buffer"||Fe=="byteLength"||Fe=="byteOffset")||pl(Fe,fe)))&&se.push(Fe);return se}function $c(c){var m=c.length;return m?c[lo(0,m-1)]:n}function Bm(c,m){return Ly(oi(c),Ea(m,0,c.length))}function xy(c){return Ly(oi(c))}function Lm(c,m,w){(w!==n&&!Vo(c[m],w)||w===n&&!(m in c))&&ao(c,m,w)}function Rs(c,m,w){var R=c[m];(!(An.call(c,m)&&Vo(R,w))||w===n&&!(m in c))&&ao(c,m,w)}function wa(c,m){for(var w=c.length;w--;)if(Vo(c[w][0],m))return w;return-1}function Dm(c,m,w,R){return Ps(c,function(O,z,Y){m(R,O,w(O),Y)}),R}function Fm(c,m){return c&&os(m,li(m),c)}function _y(c,m){return c&&os(m,ls(m),c)}function ao(c,m,w){m=="__proto__"&&mu?mu(c,m,{configurable:!0,enumerable:!0,value:w,writable:!0}):c[m]=w}function jh(c,m){for(var w=-1,R=m.length,O=xe(R),z=c==null;++w<R;)O[w]=z?n:SS(c,m[w]);return O}function Ea(c,m,w){return c===c&&(w!==n&&(c=c<=w?c:w),m!==n&&(c=c>=m?c:m)),c}function Ui(c,m,w,R,O,z){var Y,se=m&p,fe=m&g,Fe=m&v;if(w&&(Y=O?w(c,R,O,z):w(c)),Y!==n)return Y;if(!ir(c))return c;var Oe=Kt(c);if(Oe){if(Y=oz(c),!se)return oi(c,Y)}else{var ke=Ei(c),st=ke==K||ke==De;if(bu(c))return Ym(c,se);if(ke==Ke||ke==Te||st&&!O){if(Y=fe||st?{}:eP(c),!se)return fe?Py(c,_y(Y,c)):lS(c,Fm(Y,c))}else{if(!Bn[ke])return O?c:{};Y=az(c,ke,se)}}z||(z=new Cr);var _t=z.get(c);if(_t)return _t;z.set(c,Y),RP(c)?c.forEach(function(Dt){Y.add(Ui(Dt,m,w,Dt,c,z))}):CP(c)&&c.forEach(function(Dt,cn){Y.set(cn,Ui(Dt,m,w,cn,c,z))});var Lt=Fe?fe?hn:gr:fe?ls:li,sn=Oe?n:Lt(c);return wr(sn||c,function(Dt,cn){sn&&(cn=Dt,Dt=c[cn]),Rs(Y,cn,Ui(Dt,m,w,cn,c,z))}),Y}function Om(c){var m=li(c);return function(w){return Xh(w,c,m)}}function Xh(c,m,w){var R=w.length;if(c==null)return!R;for(c=Bt(c);R--;){var O=w[R],z=m[O],Y=c[O];if(Y===n&&!(O in c)||!z(Y))return!1}return!0}function Nm(c,m,w){if(typeof c!="function")throw new gi(o);return $m(function(){c.apply(n,w)},m)}function ul(c,m,w,R){var O=-1,z=Ss,Y=!0,se=c.length,fe=[],Fe=m.length;if(!se)return fe;w&&(m=On(m,pi(w))),R?(z=ru,Y=!1):m.length>=i&&(z=Wr,Y=!1,m=new Ma(m));e:for(;++O<se;){var Oe=c[O],ke=w==null?Oe:w(Oe);if(Oe=R||Oe!==0?Oe:0,Y&&ke===ke){for(var st=Fe;st--;)if(m[st]===ke)continue e;fe.push(Oe)}else z(m,ke,R)||fe.push(Oe)}return fe}var Ps=qm(ki),Ay=qm(_u,!0);function sS(c,m){var w=!0;return Ps(c,function(R,O,z){return w=!!m(R,O,z),w}),w}function ef(c,m,w){for(var R=-1,O=c.length;++R<O;){var z=c[R],Y=m(z);if(Y!=null&&(se===n?Y===Y&&!Ls(Y):w(Y,se)))var se=Y,fe=z}return fe}function Sy(c,m,w,R){var O=c.length;for(w=nn(w),w<0&&(w=-w>O?0:O+w),R=R===n||R>O?O:nn(R),R<0&&(R+=O),R=w>R?0:IP(R);w<R;)c[w++]=m;return c}function Um(c,m){var w=[];return Ps(c,function(R,O,z){m(R,O,z)&&w.push(R)}),w}function Or(c,m,w,R,O){var z=-1,Y=c.length;for(w||(w=uz),O||(O=[]);++z<Y;){var se=c[z];m>0&&w(se)?m>1?Or(se,m-1,w,R,O):Ms(O,se):R||(O[O.length]=se)}return O}var xu=id(),tf=id(!0);function ki(c,m){return c&&xu(c,m,li)}function _u(c,m){return c&&tf(c,m,li)}function cl(c,m){return $r(m,function(w){return ml(c[w])})}function Is(c,m){m=Pa(m,c);for(var w=0,R=m.length;c!=null&&w<R;)c=c[La(m[w++])];return w&&w==R?c:n}function Jh(c,m,w){var R=m(c);return Kt(c)?R:Ms(R,w(c))}function jr(c){return c==null?c===n?H:Be:so&&so in Bt(c)?rz(c):gz(c)}function nf(c,m){return c>m}function My(c,m){return c!=null&&An.call(c,m)}function km(c,m){return c!=null&&m in Bt(c)}function oS(c,m,w){return c>=ei(m,w)&&c<Tr(m,w)}function Au(c,m,w){for(var R=w?ru:Ss,O=c[0].length,z=c.length,Y=z,se=xe(z),fe=1/0,Fe=[];Y--;){var Oe=c[Y];Y&&m&&(Oe=On(Oe,pi(m))),fe=ei(Oe.length,fe),se[Y]=!w&&(m||O>=120&&Oe.length>=120)?new Ma(Y&&Oe):n}Oe=c[0];var ke=-1,st=se[0];e:for(;++ke<O&&Fe.length<fe;){var _t=Oe[ke],Lt=m?m(_t):_t;if(_t=w||_t!==0?_t:0,!(st?Wr(st,Lt):R(Fe,Lt,w))){for(Y=z;--Y;){var sn=se[Y];if(!(sn?Wr(sn,Lt):R(c[Y],Lt,w)))continue e}st&&st.push(Lt),Fe.push(_t)}}return Fe}function Hm(c,m,w,R){return ki(c,function(O,z,Y){m(R,w(O),z,Y)}),R}function Un(c,m,w){m=Pa(m,c),c=iP(c,m);var R=c==null?c:c[La(fo(m))];return R==null?n:Hn(R,c,w)}function Qt(c){return vr(c)&&jr(c)==Te}function pr(c){return vr(c)&&jr(c)==Ue}function mr(c){return vr(c)&&jr(c)==et}function nr(c,m,w,R,O){return c===m?!0:c==null||m==null||!vr(c)&&!vr(m)?c!==c&&m!==m:Hi(c,m,w,R,nr,O)}function Hi(c,m,w,R,O,z){var Y=Kt(c),se=Kt(m),fe=Y?Le:Ei(c),Fe=se?Le:Ei(m);fe=fe==Te?Ke:fe,Fe=Fe==Te?Ke:Fe;var Oe=fe==Ke,ke=Fe==Ke,st=fe==Fe;if(st&&bu(c)){if(!bu(m))return!1;Y=!0,Oe=!1}if(st&&!Oe)return z||(z=new Cr),Y||ad(c)?yt(c,m,w,R,O,z):qt(c,m,fe,w,R,O,z);if(!(w&x)){var _t=Oe&&An.call(c,"__wrapped__"),Lt=ke&&An.call(m,"__wrapped__");if(_t||Lt){var sn=_t?c.value():c,Dt=Lt?m.value():m;return z||(z=new Cr),O(sn,Dt,w,R,z)}}return st?(z||(z=new Cr),Xt(c,m,w,R,O,z)):!1}function Su(c){return vr(c)&&Ei(c)==Se}function rr(c,m,w,R){var O=w.length,z=O,Y=!R;if(c==null)return!z;for(c=Bt(c);O--;){var se=w[O];if(Y&&se[2]?se[1]!==c[se[0]]:!(se[0]in c))return!1}for(;++O<z;){se=w[O];var fe=se[0],Fe=c[fe],Oe=se[1];if(Y&&se[2]){if(Fe===n&&!(fe in c))return!1}else{var ke=new Cr;if(R)var st=R(Fe,Oe,fe,c,m,ke);if(!(st===n?nr(Oe,Fe,x|E,R,ke):st))return!1}}return!0}function Mu(c){if(!ir(c)||fz(c))return!1;var m=ml(c)?kh:Re;return m.test(hf(c))}function wu(c){return vr(c)&&jr(c)==gt}function Kh(c){return vr(c)&&Ei(c)==Et}function zm(c){return vr(c)&&ky(c.length)&&!!Fn[jr(c)]}function Eu(c){return typeof c=="function"?c:c==null?us:typeof c=="object"?Kt(c)?Yh(c[0],c[1]):sf(c):GP(c)}function ni(c){if(!Zm(c))return $v(c);var m=[];for(var w in Bt(c))An.call(c,w)&&w!="constructor"&&m.push(w);return m}function Gm(c){if(!ir(c))return mz(c);var m=Zm(c),w=[];for(var R in c)R=="constructor"&&(m||!An.call(c,R))||w.push(R);return w}function rf(c,m){return c<m}function fl(c,m){var w=-1,R=as(c)?xe(c.length):[];return Ps(c,function(O,z,Y){R[++w]=m(O,z,Y)}),R}function sf(c){var m=cS(c);return m.length==1&&m[0][2]?nP(m[0][0],m[0][1]):function(w){return w===c||rr(w,c,m)}}function Yh(c,m){return hS(c)&&tP(m)?nP(La(c),m):function(w){var R=SS(w,c);return R===n&&R===m?MS(w,c):nr(m,R,x|E)}}function Bs(c,m,w,R,O){c!==m&&xu(m,function(z,Y){if(O||(O=new Cr),ir(z))Qh(c,m,Y,w,Bs,R,O);else{var se=R?R(pS(c,Y),z,Y+"",c,m,O):n;se===n&&(se=z),Lm(c,Y,se)}},ls)}function Qh(c,m,w,R,O,z,Y){var se=pS(c,w),fe=pS(m,w),Fe=Y.get(fe);if(Fe){Lm(c,w,Fe);return}var Oe=z?z(se,fe,w+"",c,m,Y):n,ke=Oe===n;if(ke){var st=Kt(fe),_t=!st&&bu(fe),Lt=!st&&!_t&&ad(fe);Oe=fe,st||_t||Lt?Kt(se)?Oe=se:br(se)?Oe=oi(se):_t?(ke=!1,Oe=Ym(fe,!0)):Lt?(ke=!1,Oe=Ry(fe,!0)):Oe=[]:eg(fe)||df(fe)?(Oe=se,df(se)?Oe=BP(se):(!ir(se)||ml(se))&&(Oe=eP(fe))):ke=!1}ke&&(Y.set(fe,Oe),O(Oe,fe,R,z,Y),Y.delete(fe)),Lm(c,w,Oe)}function zo(c,m){var w=c.length;if(w)return m+=m<0?w:0,pl(m,w)?c[m]:n}function of(c,m,w){m.length?m=On(m,function(z){return Kt(z)?function(Y){return Is(Y,z.length===1?z[0]:z)}:z}):m=[us];var R=-1;m=On(m,pi(It()));var O=fl(c,function(z,Y,se){var fe=On(m,function(Fe){return Fe(z)});return{criteria:fe,index:++R,value:z}});return Oo(O,function(z,Y){return rd(z,Y,w)})}function af(c,m){return qh(c,m,function(w,R){return MS(c,R)})}function qh(c,m,w){for(var R=-1,O=m.length,z={};++R<O;){var Y=m[R],se=Is(c,Y);w(se,Y)&&hl(z,Pa(Y,c),se)}return z}function Zh(c){return function(m){return Is(m,c)}}function Tu(c,m,w,R){var O=R?su:ws,z=-1,Y=m.length,se=c;for(c===m&&(m=oi(m)),w&&(se=On(c,pi(w)));++z<Y;)for(var fe=0,Fe=m[z],Oe=w?w(Fe):Fe;(fe=O(se,Oe,fe,R))>-1;)se!==c&&Aa.call(se,fe,1),Aa.call(c,fe,1);return c}function ri(c,m){for(var w=c?m.length:0,R=w-1;w--;){var O=m[w];if(w==R||O!==z){var z=O;pl(O)?Aa.call(c,O,1):Xm(c,O)}}return c}function lo(c,m){return c+Kc(Cm()*(m-c+1))}function is(c,m,w,R){for(var O=-1,z=Tr(Jc((m-c)/(w||1)),0),Y=xe(z);z--;)Y[R?z:++O]=c,c+=w;return Y}function Cu(c,m){var w="";if(!c||m<1||m>V)return w;do m%2&&(w+=c),m=Kc(m/2),m&&(c+=c);while(m);return w}function Ct(c,m){return mS(rP(c,m,us),c+"")}function wy(c){return $c(ld(c))}function Vm(c,m){var w=ld(c);return Ly(w,Ea(m,0,w.length))}function hl(c,m,w,R){if(!ir(c))return c;m=Pa(m,c);for(var O=-1,z=m.length,Y=z-1,se=c;se!=null&&++O<z;){var fe=La(m[O]),Fe=w;if(fe==="__proto__"||fe==="constructor"||fe==="prototype")return c;if(O!=Y){var Oe=se[fe];Fe=R?R(Oe,fe,se):n,Fe===n&&(Fe=ir(Oe)?Oe:pl(m[O+1])?[]:{})}Rs(se,fe,Fe),se=se[fe]}return c}var Ey=zh?function(c,m){return zh.set(c,m),c}:us,Ta=mu?function(c,m){return mu(c,"toString",{configurable:!0,enumerable:!1,value:ES(m),writable:!0})}:us;function Ty(c){return Ly(ld(c))}function zi(c,m,w){var R=-1,O=c.length;m<0&&(m=-m>O?0:O+m),w=w>O?O:w,w<0&&(w+=O),O=m>w?0:w-m>>>0,m>>>=0;for(var z=xe(O);++R<O;)z[R]=c[R+m];return z}function Wm(c,m){var w;return Ps(c,function(R,O,z){return w=m(R,O,z),!w}),!!w}function uo(c,m,w){var R=0,O=c==null?R:c.length;if(typeof m=="number"&&m===m&&O<=ye){for(;R<O;){var z=R+O>>>1,Y=c[z];Y!==null&&!Ls(Y)&&(w?Y<=m:Y<m)?R=z+1:O=z}return O}return $h(c,m,us,w)}function $h(c,m,w,R){var O=0,z=c==null?0:c.length;if(z===0)return 0;m=w(m);for(var Y=m!==m,se=m===null,fe=Ls(m),Fe=m===n;O<z;){var Oe=Kc((O+z)/2),ke=w(c[Oe]),st=ke!==n,_t=ke===null,Lt=ke===ke,sn=Ls(ke);if(Y)var Dt=R||Lt;else Fe?Dt=Lt&&(R||st):se?Dt=Lt&&st&&(R||!_t):fe?Dt=Lt&&st&&!_t&&(R||!sn):_t||sn?Dt=!1:Dt=R?ke<=m:ke<m;Dt?O=Oe+1:z=Oe}return ei(z,ne)}function jm(c,m){for(var w=-1,R=c.length,O=0,z=[];++w<R;){var Y=c[w],se=m?m(Y):Y;if(!w||!Vo(se,fe)){var fe=se;z[O++]=Y===0?0:Y}}return z}function ed(c){return typeof c=="number"?c:Ls(c)?ie:+c}function ii(c){if(typeof c=="string")return c;if(Kt(c))return On(c,ii)+"";if(Ls(c))return yu?yu.call(c):"";var m=c+"";return m=="0"&&1/c==-le?"-0":m}function Ca(c,m,w){var R=-1,O=Ss,z=c.length,Y=!0,se=[],fe=se;if(w)Y=!1,O=ru;else if(z>=i){var Fe=m?null:ai(c);if(Fe)return zc(Fe);Y=!1,O=Wr,fe=new Ma}else fe=m?[]:se;e:for(;++R<z;){var Oe=c[R],ke=m?m(Oe):Oe;if(Oe=w||Oe!==0?Oe:0,Y&&ke===ke){for(var st=fe.length;st--;)if(fe[st]===ke)continue e;m&&fe.push(ke),se.push(Oe)}else O(fe,ke,w)||(fe!==se&&fe.push(ke),se.push(Oe))}return se}function Xm(c,m){return m=Pa(m,c),c=iP(c,m),c==null||delete c[La(fo(m))]}function Jm(c,m,w,R){return hl(c,m,w(Is(c,m)),R)}function lf(c,m,w,R){for(var O=c.length,z=R?O:-1;(R?z--:++z<O)&&m(c[z],z,c););return w?zi(c,R?0:z,R?z+1:O):zi(c,R?z+1:0,R?O:z)}function ba(c,m){var w=c;return w instanceof bt&&(w=w.value()),Fh(m,function(R,O){return O.func.apply(O.thisArg,Ms([R],O.args))},w)}function Km(c,m,w){var R=c.length;if(R<2)return R?Ca(c[0]):[];for(var O=-1,z=xe(R);++O<R;)for(var Y=c[O],se=-1;++se<R;)se!=O&&(z[O]=ul(z[O]||Y,c[se],m,w));return Ca(Or(z,1),m,w)}function Ra(c,m,w){for(var R=-1,O=c.length,z=m.length,Y={};++R<O;){var se=R<z?m[R]:n;w(Y,c[R],se)}return Y}function td(c){return br(c)?c:[]}function si(c){return typeof c=="function"?c:us}function Pa(c,m){return Kt(c)?c:hS(c,m)?[c]:lP(bn(c))}var Cy=Ct;function Ia(c,m,w){var R=c.length;return w=w===n?R:w,!m&&w>=R?c:zi(c,m,w)}var by=Xc||function(c){return dr.clearTimeout(c)};function Ym(c,m){if(m)return c.slice();var w=c.length,R=Mm?Mm(w):new c.constructor(w);return c.copy(R),R}function nd(c){var m=new c.constructor(c.byteLength);return new Wc(m).set(new Wc(c)),m}function aS(c,m){var w=m?nd(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.byteLength)}function ss(c){var m=new c.constructor(c.source,ge.exec(c));return m.lastIndex=c.lastIndex,m}function Qm(c){return ko?Bt(ko.call(c)):{}}function Ry(c,m){var w=m?nd(c.buffer):c.buffer;return new c.constructor(w,c.byteOffset,c.length)}function Go(c,m){if(c!==m){var w=c!==n,R=c===null,O=c===c,z=Ls(c),Y=m!==n,se=m===null,fe=m===m,Fe=Ls(m);if(!se&&!Fe&&!z&&c>m||z&&Y&&fe&&!se&&!Fe||R&&Y&&fe||!w&&fe||!O)return 1;if(!R&&!z&&!Fe&&c<m||Fe&&w&&O&&!R&&!z||se&&w&&O||!Y&&O||!fe)return-1}return 0}function rd(c,m,w){for(var R=-1,O=c.criteria,z=m.criteria,Y=O.length,se=w.length;++R<Y;){var fe=Go(O[R],z[R]);if(fe){if(R>=se)return fe;var Fe=w[R];return fe*(Fe=="desc"?-1:1)}}return c.index-m.index}function Ba(c,m,w,R){for(var O=-1,z=c.length,Y=w.length,se=-1,fe=m.length,Fe=Tr(z-Y,0),Oe=xe(fe+Fe),ke=!R;++se<fe;)Oe[se]=m[se];for(;++O<Y;)(ke||O<z)&&(Oe[w[O]]=c[O]);for(;Fe--;)Oe[se++]=c[O++];return Oe}function uf(c,m,w,R){for(var O=-1,z=c.length,Y=-1,se=w.length,fe=-1,Fe=m.length,Oe=Tr(z-se,0),ke=xe(Oe+Fe),st=!R;++O<Oe;)ke[O]=c[O];for(var _t=O;++fe<Fe;)ke[_t+fe]=m[fe];for(;++Y<se;)(st||O<z)&&(ke[_t+w[Y]]=c[O++]);return ke}function oi(c,m){var w=-1,R=c.length;for(m||(m=xe(R));++w<R;)m[w]=c[w];return m}function os(c,m,w,R){var O=!w;w||(w={});for(var z=-1,Y=m.length;++z<Y;){var se=m[z],fe=R?R(w[se],c[se],se,w,c):n;fe===n&&(fe=c[se]),O?ao(w,se,fe):Rs(w,se,fe)}return w}function lS(c,m){return os(c,fS(c),m)}function Py(c,m){return os(c,ZR(c),m)}function cf(c,m){return function(w,R){var O=Kt(w)?to:Dm,z=m?m():{};return O(w,c,It(R,2),z)}}function dl(c){return Ct(function(m,w){var R=-1,O=w.length,z=O>1?w[O-1]:n,Y=O>2?w[2]:n;for(z=c.length>3&&typeof z=="function"?(O--,z):n,Y&&Vi(w[0],w[1],Y)&&(z=O<3?n:z,O=1),m=Bt(m);++R<O;){var se=w[R];se&&c(m,se,R,z)}return m})}function qm(c,m){return function(w,R){if(w==null)return w;if(!as(w))return c(w,R);for(var O=w.length,z=m?O:-1,Y=Bt(w);(m?z--:++z<O)&&R(Y[z],z,Y)!==!1;);return w}}function id(c){return function(m,w,R){for(var O=-1,z=Bt(m),Y=R(m),se=Y.length;se--;){var fe=Y[c?se:++O];if(w(z[fe],fe,z)===!1)break}return m}}function uS(c,m,w){var R=m&M,O=d(c);function z(){var Y=this&&this!==dr&&this instanceof z?O:c;return Y.apply(R?w:this,arguments)}return z}function Iy(c){return function(m){m=bn(m);var w=rl(m)?Qn(m):n,R=w?w[0]:m.charAt(0),O=w?Ia(w,1).join(""):m.slice(1);return R[c]()+O}}function f(c){return function(m){return Fh(HP(kP(m).replace(K1,"")),c,"")}}function d(c){return function(){var m=arguments;switch(m.length){case 0:return new c;case 1:return new c(m[0]);case 2:return new c(m[0],m[1]);case 3:return new c(m[0],m[1],m[2]);case 4:return new c(m[0],m[1],m[2],m[3]);case 5:return new c(m[0],m[1],m[2],m[3],m[4]);case 6:return new c(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new c(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var w=Ho(c.prototype),R=c.apply(w,m);return ir(R)?R:w}}function _(c,m,w){var R=d(c);function O(){for(var z=arguments.length,Y=xe(z),se=z,fe=od(O);se--;)Y[se]=arguments[se];var Fe=z<3&&Y[0]!==fe&&Y[z-1]!==fe?[]:Cs(Y,fe);if(z-=Fe.length,z<w)return Cn(c,m,B,O.placeholder,n,Y,Fe,n,n,w-z);var Oe=this&&this!==dr&&this instanceof O?R:c;return Hn(Oe,this,Y)}return O}function T(c){return function(m,w,R){var O=Bt(m);if(!as(m)){var z=It(w,3);m=li(m),w=function(se){return z(O[se],se,O)}}var Y=c(m,w,R);return Y>-1?O[z?m[Y]:Y]:n}}function b(c){return Zt(function(m){var w=m.length,R=w,O=ti.prototype.thru;for(c&&m.reverse();R--;){var z=m[R];if(typeof z!="function")throw new gi(o);if(O&&!Y&&sd(z)=="wrapper")var Y=new ti([],!0)}for(R=Y?R:w;++R<w;){z=m[R];var se=sd(z),fe=se=="wrapper"?co(z):n;fe&&dS(fe[0])&&fe[1]==(D|A|P|N)&&!fe[4].length&&fe[9]==1?Y=Y[sd(fe[0])].apply(Y,fe[3]):Y=z.length==1&&dS(z)?Y[se]():Y.thru(z)}return function(){var Fe=arguments,Oe=Fe[0];if(Y&&Fe.length==1&&Kt(Oe))return Y.plant(Oe).value();for(var ke=0,st=w?m[ke].apply(this,Fe):Oe;++ke<w;)st=m[ke].call(this,st);return st}})}function B(c,m,w,R,O,z,Y,se,fe,Fe){var Oe=m&D,ke=m&M,st=m&y,_t=m&(A|C),Lt=m&I,sn=st?n:d(c);function Dt(){for(var cn=arguments.length,pn=xe(cn),Ds=cn;Ds--;)pn[Ds]=arguments[Ds];if(_t)var Wi=od(Dt),Fs=Ts(pn,Wi);if(R&&(pn=Ba(pn,R,O,_t)),z&&(pn=uf(pn,z,Y,_t)),cn-=Fs,_t&&cn<Fe){var Rr=Cs(pn,Wi);return Cn(c,m,B,Dt.placeholder,w,pn,Rr,se,fe,Fe-cn)}var Wo=ke?w:this,vl=st?Wo[c]:c;return cn=pn.length,se?pn=vz(pn,se):Lt&&cn>1&&pn.reverse(),Oe&&fe<cn&&(pn.length=fe),this&&this!==dr&&this instanceof Dt&&(vl=sn||d(vl)),vl.apply(Wo,pn)}return Dt}function X(c,m){return function(w,R){return Hm(w,c,m(R),{})}}function ae(c,m){return function(w,R){var O;if(w===n&&R===n)return m;if(w!==n&&(O=w),R!==n){if(O===n)return R;typeof w=="string"||typeof R=="string"?(w=ii(w),R=ii(R)):(w=ed(w),R=ed(R)),O=c(w,R)}return O}}function we(c){return Zt(function(m){return m=On(m,pi(It())),Ct(function(w){var R=this;return c(m,function(O){return Hn(O,R,w)})})})}function je(c,m){m=m===n?" ":ii(m);var w=m.length;if(w<2)return w?Cu(m,c):m;var R=Cu(m,Jc(c/no(m)));return rl(m)?Ia(Qn(R),0,c).join(""):R.slice(0,c)}function ft(c,m,w,R){var O=m&M,z=d(c);function Y(){for(var se=-1,fe=arguments.length,Fe=-1,Oe=R.length,ke=xe(Oe+fe),st=this&&this!==dr&&this instanceof Y?z:c;++Fe<Oe;)ke[Fe]=R[Fe];for(;fe--;)ke[Fe++]=arguments[++se];return Hn(st,O?w:this,ke)}return Y}function Vt(c){return function(m,w,R){return R&&typeof R!="number"&&Vi(m,w,R)&&(w=R=n),m=gl(m),w===n?(w=m,m=0):w=gl(w),R=R===n?m<w?1:-1:gl(R),is(m,w,R,c)}}function wt(c){return function(m,w){return typeof m=="string"&&typeof w=="string"||(m=ho(m),w=ho(w)),c(m,w)}}function Cn(c,m,w,R,O,z,Y,se,fe,Fe){var Oe=m&A,ke=Oe?Y:n,st=Oe?n:Y,_t=Oe?z:n,Lt=Oe?n:z;m|=Oe?P:L,m&=~(Oe?L:P),m&S||(m&=-4);var sn=[c,m,O,_t,ke,Lt,st,se,fe,Fe],Dt=w.apply(n,sn);return dS(c)&&sP(Dt,sn),Dt.placeholder=R,oP(Dt,c,m)}function vt(c){var m=zn[c];return function(w,R){if(w=ho(w),R=R==null?0:ei(nn(R),292),R&&Tm(w)){var O=(bn(w)+"e").split("e"),z=m(O[0]+"e"+(+O[1]+R));return O=(bn(z)+"e").split("e"),+(O[0]+"e"+(+O[1]-R))}return m(w)}}var ai=vu&&1/zc(new vu([,-0]))[1]==le?function(c){return new vu(c)}:bS;function Gi(c){return function(m){var w=Ei(m);return w==Se?Hc(m):w==Et?Jv(m):Wv(m,c(m))}}function me(c,m,w,R,O,z,Y,se){var fe=m&y;if(!fe&&typeof c!="function")throw new gi(o);var Fe=R?R.length:0;if(Fe||(m&=-97,R=O=n),Y=Y===n?Y:Tr(nn(Y),0),se=se===n?se:nn(se),Fe-=O?O.length:0,m&L){var Oe=R,ke=O;R=O=n}var st=fe?n:co(c),_t=[c,m,w,R,O,Oe,ke,z,Y,se];if(st&&pz(_t,st),c=_t[0],m=_t[1],w=_t[2],R=_t[3],O=_t[4],se=_t[9]=_t[9]===n?fe?0:c.length:Tr(_t[9]-Fe,0),!se&&m&(A|C)&&(m&=-25),!m||m==M)var Lt=uS(c,m,w);else m==A||m==C?Lt=_(c,m,se):(m==P||m==(M|P))&&!O.length?Lt=ft(c,m,w,R):Lt=B.apply(n,_t);var sn=st?Ey:sP;return oP(sn(Lt,_t),c,m)}function ue(c,m,w,R){return c===n||Vo(c,du[w])&&!An.call(R,w)?m:c}function _e(c,m,w,R,O,z){return ir(c)&&ir(m)&&(z.set(m,c),Bs(c,m,n,_e,z),z.delete(m)),c}function ot(c){return eg(c)?n:c}function yt(c,m,w,R,O,z){var Y=w&x,se=c.length,fe=m.length;if(se!=fe&&!(Y&&fe>se))return!1;var Fe=z.get(c),Oe=z.get(m);if(Fe&&Oe)return Fe==m&&Oe==c;var ke=-1,st=!0,_t=w&E?new Ma:n;for(z.set(c,m),z.set(m,c);++ke<se;){var Lt=c[ke],sn=m[ke];if(R)var Dt=Y?R(sn,Lt,ke,m,c,z):R(Lt,sn,ke,c,m,z);if(Dt!==n){if(Dt)continue;st=!1;break}if(_t){if(!Oc(m,function(cn,pn){if(!Wr(_t,pn)&&(Lt===cn||O(Lt,cn,w,R,z)))return _t.push(pn)})){st=!1;break}}else if(!(Lt===sn||O(Lt,sn,w,R,z))){st=!1;break}}return z.delete(c),z.delete(m),st}function qt(c,m,w,R,O,z,Y){switch(w){case Ye:if(c.byteLength!=m.byteLength||c.byteOffset!=m.byteOffset)return!1;c=c.buffer,m=m.buffer;case Ue:return!(c.byteLength!=m.byteLength||!z(new Wc(c),new Wc(m)));case ut:case et:case Ne:return Vo(+c,+m);case He:return c.name==m.name&&c.message==m.message;case gt:case fn:return c==m+"";case Se:var se=Hc;case Et:var fe=R&x;if(se||(se=zc),c.size!=m.size&&!fe)return!1;var Fe=Y.get(c);if(Fe)return Fe==m;R|=E,Y.set(c,m);var Oe=yt(se(c),se(m),R,O,z,Y);return Y.delete(c),Oe;case J:if(ko)return ko.call(c)==ko.call(m)}return!1}function Xt(c,m,w,R,O,z){var Y=w&x,se=gr(c),fe=se.length,Fe=gr(m),Oe=Fe.length;if(fe!=Oe&&!Y)return!1;for(var ke=fe;ke--;){var st=se[ke];if(!(Y?st in m:An.call(m,st)))return!1}var _t=z.get(c),Lt=z.get(m);if(_t&&Lt)return _t==m&&Lt==c;var sn=!0;z.set(c,m),z.set(m,c);for(var Dt=Y;++ke<fe;){st=se[ke];var cn=c[st],pn=m[st];if(R)var Ds=Y?R(pn,cn,st,m,c,z):R(cn,pn,st,c,m,z);if(!(Ds===n?cn===pn||O(cn,pn,w,R,z):Ds)){sn=!1;break}Dt||(Dt=st=="constructor")}if(sn&&!Dt){var Wi=c.constructor,Fs=m.constructor;Wi!=Fs&&"constructor"in c&&"constructor"in m&&!(typeof Wi=="function"&&Wi instanceof Wi&&typeof Fs=="function"&&Fs instanceof Fs)&&(sn=!1)}return z.delete(c),z.delete(m),sn}function Zt(c){return mS(rP(c,n,hP),c+"")}function gr(c){return Jh(c,li,fS)}function hn(c){return Jh(c,ls,ZR)}var co=zh?function(c){return zh.get(c)}:bS;function sd(c){for(var m=c.name+"",w=al[m],R=An.call(al,m)?w.length:0;R--;){var O=w[R],z=O.func;if(z==null||z==c)return O.name}return m}function od(c){var m=An.call(k,"placeholder")?k:c;return m.placeholder}function It(){var c=k.iteratee||TS;return c=c===TS?Eu:c,arguments.length?c(arguments[0],arguments[1]):c}function By(c,m){var w=c.__data__;return cz(m)?w[typeof m=="string"?"string":"hash"]:w.map}function cS(c){for(var m=li(c),w=m.length;w--;){var R=m[w],O=c[R];m[w]=[R,O,tP(O)]}return m}function ff(c,m){var w=_m(c,m);return Mu(w)?w:n}function rz(c){var m=An.call(c,so),w=c[so];try{c[so]=n;var R=!0}catch{}var O=Oi.call(c);return R&&(m?c[so]=w:delete c[so]),O}var fS=Yc?function(c){return c==null?[]:(c=Bt(c),$r(Yc(c),function(m){return Hh.call(c,m)}))}:RS,ZR=Yc?function(c){for(var m=[];c;)Ms(m,fS(c)),c=jc(c);return m}:RS,Ei=jr;(gu&&Ei(new gu(new ArrayBuffer(1)))!=Ye||Qc&&Ei(new Qc)!=Se||bm&&Ei(bm.resolve())!=qe||vu&&Ei(new vu)!=Et||sl&&Ei(new sl)!=Ae)&&(Ei=function(c){var m=jr(c),w=m==Ke?c.constructor:n,R=w?hf(w):"";if(R)switch(R){case ry:return Ye;case iy:return Se;case sy:return qe;case oy:return Et;case oo:return Ae}return m});function iz(c,m,w){for(var R=-1,O=w.length;++R<O;){var z=w[R],Y=z.size;switch(z.type){case"drop":c+=Y;break;case"dropRight":m-=Y;break;case"take":m=ei(m,c+Y);break;case"takeRight":c=Tr(c,m-Y);break}}return{start:c,end:m}}function sz(c){var m=c.match(qs);return m?m[1].split(Eh):[]}function $R(c,m,w){m=Pa(m,c);for(var R=-1,O=m.length,z=!1;++R<O;){var Y=La(m[R]);if(!(z=c!=null&&w(c,Y)))break;c=c[Y]}return z||++R!=O?z:(O=c==null?0:c.length,!!O&&ky(O)&&pl(Y,O)&&(Kt(c)||df(c)))}function oz(c){var m=c.length,w=new c.constructor(m);return m&&typeof c[0]=="string"&&An.call(c,"index")&&(w.index=c.index,w.input=c.input),w}function eP(c){return typeof c.constructor=="function"&&!Zm(c)?Ho(jc(c)):{}}function az(c,m,w){var R=c.constructor;switch(m){case Ue:return nd(c);case ut:case et:return new R(+c);case Ye:return aS(c,w);case dt:case Qe:case Ce:case St:case At:case Mt:case lt:case Z:case Pe:return Ry(c,w);case Se:return new R;case Ne:case fn:return new R(c);case gt:return ss(c);case Et:return new R;case J:return Qm(c)}}function lz(c,m){var w=m.length;if(!w)return c;var R=w-1;return m[R]=(w>1?"& ":"")+m[R],m=m.join(w>2?", ":" "),c.replace(wh,`{
/* [wrapped with `+m+`] */
`)}function uz(c){return Kt(c)||df(c)||!!(Em&&c&&c[Em])}function pl(c,m){var w=typeof c;return m=m??V,!!m&&(w=="number"||w!="symbol"&&Tt.test(c))&&c>-1&&c%1==0&&c<m}function Vi(c,m,w){if(!ir(w))return!1;var R=typeof m;return(R=="number"?as(w)&&pl(m,w.length):R=="string"&&m in w)?Vo(w[m],c):!1}function hS(c,m){if(Kt(c))return!1;var w=typeof c;return w=="number"||w=="symbol"||w=="boolean"||c==null||Ls(c)?!0:Sr.test(c)||!_n.test(c)||m!=null&&c in Bt(m)}function cz(c){var m=typeof c;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?c!=="__proto__":c===null}function dS(c){var m=sd(c),w=k[m];if(typeof w!="function"||!(m in bt.prototype))return!1;if(c===w)return!0;var R=co(w);return!!R&&c===R[0]}function fz(c){return!!io&&io in c}var hz=Er?ml:PS;function Zm(c){var m=c&&c.constructor,w=typeof m=="function"&&m.prototype||du;return c===w}function tP(c){return c===c&&!ir(c)}function nP(c,m){return function(w){return w==null?!1:w[c]===m&&(m!==n||c in Bt(w))}}function dz(c){var m=Ny(c,function(R){return w.size===u&&w.clear(),R}),w=m.cache;return m}function pz(c,m){var w=c[1],R=m[1],O=w|R,z=O<(M|y|D),Y=R==D&&w==A||R==D&&w==N&&c[7].length<=m[8]||R==(D|N)&&m[7].length<=m[8]&&w==A;if(!(z||Y))return c;R&M&&(c[2]=m[2],O|=w&M?0:S);var se=m[3];if(se){var fe=c[3];c[3]=fe?Ba(fe,se,m[4]):se,c[4]=fe?Cs(c[3],h):m[4]}return se=m[5],se&&(fe=c[5],c[5]=fe?uf(fe,se,m[6]):se,c[6]=fe?Cs(c[5],h):m[6]),se=m[7],se&&(c[7]=se),R&D&&(c[8]=c[8]==null?m[8]:ei(c[8],m[8])),c[9]==null&&(c[9]=m[9]),c[0]=m[0],c[1]=O,c}function mz(c){var m=[];if(c!=null)for(var w in Bt(c))m.push(w);return m}function gz(c){return Oi.call(c)}function rP(c,m,w){return m=Tr(m===n?c.length-1:m,0),function(){for(var R=arguments,O=-1,z=Tr(R.length-m,0),Y=xe(z);++O<z;)Y[O]=R[m+O];O=-1;for(var se=xe(m+1);++O<m;)se[O]=R[O];return se[m]=w(Y),Hn(c,this,se)}}function iP(c,m){return m.length<2?c:Is(c,zi(m,0,-1))}function vz(c,m){for(var w=c.length,R=ei(m.length,w),O=oi(c);R--;){var z=m[R];c[R]=pl(z,w)?O[z]:n}return c}function pS(c,m){if(!(m==="constructor"&&typeof c[m]=="function")&&m!="__proto__")return c[m]}var sP=aP(Ey),$m=qv||function(c,m){return dr.setTimeout(c,m)},mS=aP(Ta);function oP(c,m,w){var R=m+"";return mS(c,lz(R,yz(sz(R),w)))}function aP(c){var m=0,w=0;return function(){var R=ey(),O=re-(R-w);if(w=R,O>0){if(++m>=ce)return arguments[0]}else m=0;return c.apply(n,arguments)}}function Ly(c,m){var w=-1,R=c.length,O=R-1;for(m=m===n?R:m;++w<m;){var z=lo(w,O),Y=c[z];c[z]=c[w],c[w]=Y}return c.length=m,c}var lP=dz(function(c){var m=[];return c.charCodeAt(0)===46&&m.push(""),c.replace(Kn,function(w,R,O,z){m.push(O?z.replace(um,"$1"):R||w)}),m});function La(c){if(typeof c=="string"||Ls(c))return c;var m=c+"";return m=="0"&&1/c==-le?"-0":m}function hf(c){if(c!=null){try{return pu.call(c)}catch{}try{return c+""}catch{}}return""}function yz(c,m){return wr(Me,function(w){var R="_."+w[0];m&w[1]&&!Ss(c,R)&&c.push(R)}),c.sort()}function uP(c){if(c instanceof bt)return c.clone();var m=new ti(c.__wrapped__,c.__chain__);return m.__actions__=oi(c.__actions__),m.__index__=c.__index__,m.__values__=c.__values__,m}function xz(c,m,w){(w?Vi(c,m,w):m===n)?m=1:m=Tr(nn(m),0);var R=c==null?0:c.length;if(!R||m<1)return[];for(var O=0,z=0,Y=xe(Jc(R/m));O<R;)Y[z++]=zi(c,O,O+=m);return Y}function _z(c){for(var m=-1,w=c==null?0:c.length,R=0,O=[];++m<w;){var z=c[m];z&&(O[R++]=z)}return O}function Az(){var c=arguments.length;if(!c)return[];for(var m=xe(c-1),w=arguments[0],R=c;R--;)m[R-1]=arguments[R];return Ms(Kt(w)?oi(w):[w],Or(m,1))}var Sz=Ct(function(c,m){return br(c)?ul(c,Or(m,1,br,!0)):[]}),Mz=Ct(function(c,m){var w=fo(m);return br(w)&&(w=n),br(c)?ul(c,Or(m,1,br,!0),It(w,2)):[]}),wz=Ct(function(c,m){var w=fo(m);return br(w)&&(w=n),br(c)?ul(c,Or(m,1,br,!0),n,w):[]});function Ez(c,m,w){var R=c==null?0:c.length;return R?(m=w||m===n?1:nn(m),zi(c,m<0?0:m,R)):[]}function Tz(c,m,w){var R=c==null?0:c.length;return R?(m=w||m===n?1:nn(m),m=R-m,zi(c,0,m<0?0:m)):[]}function Cz(c,m){return c&&c.length?lf(c,It(m,3),!0,!0):[]}function bz(c,m){return c&&c.length?lf(c,It(m,3),!0):[]}function Rz(c,m,w,R){var O=c==null?0:c.length;return O?(w&&typeof w!="number"&&Vi(c,m,w)&&(w=0,R=O),Sy(c,m,w,R)):[]}function cP(c,m,w){var R=c==null?0:c.length;if(!R)return-1;var O=w==null?0:nn(w);return O<0&&(O=Tr(R+O,0)),iu(c,It(m,3),O)}function fP(c,m,w){var R=c==null?0:c.length;if(!R)return-1;var O=R-1;return w!==n&&(O=nn(w),O=w<0?Tr(R+O,0):ei(O,R-1)),iu(c,It(m,3),O,!0)}function hP(c){var m=c==null?0:c.length;return m?Or(c,1):[]}function Pz(c){var m=c==null?0:c.length;return m?Or(c,le):[]}function Iz(c,m){var w=c==null?0:c.length;return w?(m=m===n?1:nn(m),Or(c,m)):[]}function Bz(c){for(var m=-1,w=c==null?0:c.length,R={};++m<w;){var O=c[m];R[O[0]]=O[1]}return R}function dP(c){return c&&c.length?c[0]:n}function Lz(c,m,w){var R=c==null?0:c.length;if(!R)return-1;var O=w==null?0:nn(w);return O<0&&(O=Tr(R+O,0)),ws(c,m,O)}function Dz(c){var m=c==null?0:c.length;return m?zi(c,0,-1):[]}var Fz=Ct(function(c){var m=On(c,td);return m.length&&m[0]===c[0]?Au(m):[]}),Oz=Ct(function(c){var m=fo(c),w=On(c,td);return m===fo(w)?m=n:w.pop(),w.length&&w[0]===c[0]?Au(w,It(m,2)):[]}),Nz=Ct(function(c){var m=fo(c),w=On(c,td);return m=typeof m=="function"?m:n,m&&w.pop(),w.length&&w[0]===c[0]?Au(w,n,m):[]});function Uz(c,m){return c==null?"":$1.call(c,m)}function fo(c){var m=c==null?0:c.length;return m?c[m-1]:n}function kz(c,m,w){var R=c==null?0:c.length;if(!R)return-1;var O=R;return w!==n&&(O=nn(w),O=O<0?Tr(R+O,0):ei(O,R-1)),m===m?Kv(c,m,O):iu(c,Nc,O,!0)}function Hz(c,m){return c&&c.length?zo(c,nn(m)):n}var zz=Ct(pP);function pP(c,m){return c&&c.length&&m&&m.length?Tu(c,m):c}function Gz(c,m,w){return c&&c.length&&m&&m.length?Tu(c,m,It(w,2)):c}function Vz(c,m,w){return c&&c.length&&m&&m.length?Tu(c,m,n,w):c}var Wz=Zt(function(c,m){var w=c==null?0:c.length,R=jh(c,m);return ri(c,On(m,function(O){return pl(O,w)?+O:O}).sort(Go)),R});function jz(c,m){var w=[];if(!(c&&c.length))return w;var R=-1,O=[],z=c.length;for(m=It(m,3);++R<z;){var Y=c[R];m(Y,R,c)&&(w.push(Y),O.push(R))}return ri(c,O),w}function gS(c){return c==null?c:ny.call(c)}function Xz(c,m,w){var R=c==null?0:c.length;return R?(w&&typeof w!="number"&&Vi(c,m,w)?(m=0,w=R):(m=m==null?0:nn(m),w=w===n?R:nn(w)),zi(c,m,w)):[]}function Jz(c,m){return uo(c,m)}function Kz(c,m,w){return $h(c,m,It(w,2))}function Yz(c,m){var w=c==null?0:c.length;if(w){var R=uo(c,m);if(R<w&&Vo(c[R],m))return R}return-1}function Qz(c,m){return uo(c,m,!0)}function qz(c,m,w){return $h(c,m,It(w,2),!0)}function Zz(c,m){var w=c==null?0:c.length;if(w){var R=uo(c,m,!0)-1;if(Vo(c[R],m))return R}return-1}function $z(c){return c&&c.length?jm(c):[]}function eG(c,m){return c&&c.length?jm(c,It(m,2)):[]}function tG(c){var m=c==null?0:c.length;return m?zi(c,1,m):[]}function nG(c,m,w){return c&&c.length?(m=w||m===n?1:nn(m),zi(c,0,m<0?0:m)):[]}function rG(c,m,w){var R=c==null?0:c.length;return R?(m=w||m===n?1:nn(m),m=R-m,zi(c,m<0?0:m,R)):[]}function iG(c,m){return c&&c.length?lf(c,It(m,3),!1,!0):[]}function sG(c,m){return c&&c.length?lf(c,It(m,3)):[]}var oG=Ct(function(c){return Ca(Or(c,1,br,!0))}),aG=Ct(function(c){var m=fo(c);return br(m)&&(m=n),Ca(Or(c,1,br,!0),It(m,2))}),lG=Ct(function(c){var m=fo(c);return m=typeof m=="function"?m:n,Ca(Or(c,1,br,!0),n,m)});function uG(c){return c&&c.length?Ca(c):[]}function cG(c,m){return c&&c.length?Ca(c,It(m,2)):[]}function fG(c,m){return m=typeof m=="function"?m:n,c&&c.length?Ca(c,n,m):[]}function vS(c){if(!(c&&c.length))return[];var m=0;return c=$r(c,function(w){if(br(w))return m=Tr(w.length,m),!0}),No(m,function(w){return On(c,Mi(w))})}function mP(c,m){if(!(c&&c.length))return[];var w=vS(c);return m==null?w:On(w,function(R){return Hn(m,n,R)})}var hG=Ct(function(c,m){return br(c)?ul(c,m):[]}),dG=Ct(function(c){return Km($r(c,br))}),pG=Ct(function(c){var m=fo(c);return br(m)&&(m=n),Km($r(c,br),It(m,2))}),mG=Ct(function(c){var m=fo(c);return m=typeof m=="function"?m:n,Km($r(c,br),n,m)}),gG=Ct(vS);function vG(c,m){return Ra(c||[],m||[],Rs)}function yG(c,m){return Ra(c||[],m||[],hl)}var xG=Ct(function(c){var m=c.length,w=m>1?c[m-1]:n;return w=typeof w=="function"?(c.pop(),w):n,mP(c,w)});function gP(c){var m=k(c);return m.__chain__=!0,m}function _G(c,m){return m(c),c}function Dy(c,m){return m(c)}var AG=Zt(function(c){var m=c.length,w=m?c[0]:0,R=this.__wrapped__,O=function(z){return jh(z,c)};return m>1||this.__actions__.length||!(R instanceof bt)||!pl(w)?this.thru(O):(R=R.slice(w,+w+(m?1:0)),R.__actions__.push({func:Dy,args:[O],thisArg:n}),new ti(R,this.__chain__).thru(function(z){return m&&!z.length&&z.push(n),z}))});function SG(){return gP(this)}function MG(){return new ti(this.value(),this.__chain__)}function wG(){this.__values__===n&&(this.__values__=PP(this.value()));var c=this.__index__>=this.__values__.length,m=c?n:this.__values__[this.__index__++];return{done:c,value:m}}function EG(){return this}function TG(c){for(var m,w=this;w instanceof Zc;){var R=uP(w);R.__index__=0,R.__values__=n,m?O.__wrapped__=R:m=R;var O=R;w=w.__wrapped__}return O.__wrapped__=c,m}function CG(){var c=this.__wrapped__;if(c instanceof bt){var m=c;return this.__actions__.length&&(m=new bt(this)),m=m.reverse(),m.__actions__.push({func:Dy,args:[gS],thisArg:n}),new ti(m,this.__chain__)}return this.thru(gS)}function bG(){return ba(this.__wrapped__,this.__actions__)}var RG=cf(function(c,m,w){An.call(c,w)?++c[w]:ao(c,w,1)});function PG(c,m,w){var R=Kt(c)?vm:sS;return w&&Vi(c,m,w)&&(m=n),R(c,It(m,3))}function IG(c,m){var w=Kt(c)?$r:Um;return w(c,It(m,3))}var BG=T(cP),LG=T(fP);function DG(c,m){return Or(Fy(c,m),1)}function FG(c,m){return Or(Fy(c,m),le)}function OG(c,m,w){return w=w===n?1:nn(w),Or(Fy(c,m),w)}function vP(c,m){var w=Kt(c)?wr:Ps;return w(c,It(m,3))}function yP(c,m){var w=Kt(c)?gm:Ay;return w(c,It(m,3))}var NG=cf(function(c,m,w){An.call(c,w)?c[w].push(m):ao(c,w,[m])});function UG(c,m,w,R){c=as(c)?c:ld(c),w=w&&!R?nn(w):0;var O=c.length;return w<0&&(w=Tr(O+w,0)),Hy(c)?w<=O&&c.indexOf(m,w)>-1:!!O&&ws(c,m,w)>-1}var kG=Ct(function(c,m,w){var R=-1,O=typeof m=="function",z=as(c)?xe(c.length):[];return Ps(c,function(Y){z[++R]=O?Hn(m,Y,w):Un(Y,m,w)}),z}),HG=cf(function(c,m,w){ao(c,w,m)});function Fy(c,m){var w=Kt(c)?On:fl;return w(c,It(m,3))}function zG(c,m,w,R){return c==null?[]:(Kt(m)||(m=m==null?[]:[m]),w=R?n:w,Kt(w)||(w=w==null?[]:[w]),of(c,m,w))}var GG=cf(function(c,m,w){c[w?0:1].push(m)},function(){return[[],[]]});function VG(c,m,w){var R=Kt(c)?Fh:ya,O=arguments.length<3;return R(c,It(m,4),w,O,Ps)}function WG(c,m,w){var R=Kt(c)?zv:ya,O=arguments.length<3;return R(c,It(m,4),w,O,Ay)}function jG(c,m){var w=Kt(c)?$r:Um;return w(c,Uy(It(m,3)))}function XG(c){var m=Kt(c)?$c:wy;return m(c)}function JG(c,m,w){(w?Vi(c,m,w):m===n)?m=1:m=nn(m);var R=Kt(c)?Bm:Vm;return R(c,m)}function KG(c){var m=Kt(c)?xy:Ty;return m(c)}function YG(c){if(c==null)return 0;if(as(c))return Hy(c)?no(c):c.length;var m=Ei(c);return m==Se||m==Et?c.size:ni(c).length}function QG(c,m,w){var R=Kt(c)?Oc:Wm;return w&&Vi(c,m,w)&&(m=n),R(c,It(m,3))}var qG=Ct(function(c,m){if(c==null)return[];var w=m.length;return w>1&&Vi(c,m[0],m[1])?m=[]:w>2&&Vi(m[0],m[1],m[2])&&(m=[m[0]]),of(c,Or(m,1),[])}),Oy=Qv||function(){return dr.Date.now()};function ZG(c,m){if(typeof m!="function")throw new gi(o);return c=nn(c),function(){if(--c<1)return m.apply(this,arguments)}}function xP(c,m,w){return m=w?n:m,m=c&&m==null?c.length:m,me(c,D,n,n,n,n,m)}function _P(c,m){var w;if(typeof m!="function")throw new gi(o);return c=nn(c),function(){return--c>0&&(w=m.apply(this,arguments)),c<=1&&(m=n),w}}var yS=Ct(function(c,m,w){var R=M;if(w.length){var O=Cs(w,od(yS));R|=P}return me(c,R,m,w,O)}),AP=Ct(function(c,m,w){var R=M|y;if(w.length){var O=Cs(w,od(AP));R|=P}return me(m,R,c,w,O)});function SP(c,m,w){m=w?n:m;var R=me(c,A,n,n,n,n,n,m);return R.placeholder=SP.placeholder,R}function MP(c,m,w){m=w?n:m;var R=me(c,C,n,n,n,n,n,m);return R.placeholder=MP.placeholder,R}function wP(c,m,w){var R,O,z,Y,se,fe,Fe=0,Oe=!1,ke=!1,st=!0;if(typeof c!="function")throw new gi(o);m=ho(m)||0,ir(w)&&(Oe=!!w.leading,ke="maxWait"in w,z=ke?Tr(ho(w.maxWait)||0,m):z,st="trailing"in w?!!w.trailing:st);function _t(Rr){var Wo=R,vl=O;return R=O=n,Fe=Rr,Y=c.apply(vl,Wo),Y}function Lt(Rr){return Fe=Rr,se=$m(cn,m),Oe?_t(Rr):Y}function sn(Rr){var Wo=Rr-fe,vl=Rr-Fe,VP=m-Wo;return ke?ei(VP,z-vl):VP}function Dt(Rr){var Wo=Rr-fe,vl=Rr-Fe;return fe===n||Wo>=m||Wo<0||ke&&vl>=z}function cn(){var Rr=Oy();if(Dt(Rr))return pn(Rr);se=$m(cn,sn(Rr))}function pn(Rr){return se=n,st&&R?_t(Rr):(R=O=n,Y)}function Ds(){se!==n&&by(se),Fe=0,R=fe=O=se=n}function Wi(){return se===n?Y:pn(Oy())}function Fs(){var Rr=Oy(),Wo=Dt(Rr);if(R=arguments,O=this,fe=Rr,Wo){if(se===n)return Lt(fe);if(ke)return by(se),se=$m(cn,m),_t(fe)}return se===n&&(se=$m(cn,m)),Y}return Fs.cancel=Ds,Fs.flush=Wi,Fs}var $G=Ct(function(c,m){return Nm(c,1,m)}),e5=Ct(function(c,m,w){return Nm(c,ho(m)||0,w)});function t5(c){return me(c,I)}function Ny(c,m){if(typeof c!="function"||m!=null&&typeof m!="function")throw new gi(o);var w=function(){var R=arguments,O=m?m.apply(this,R):R[0],z=w.cache;if(z.has(O))return z.get(O);var Y=c.apply(this,R);return w.cache=z.set(O,Y)||z,Y};return w.cache=new(Ny.Cache||rs),w}Ny.Cache=rs;function Uy(c){if(typeof c!="function")throw new gi(o);return function(){var m=arguments;switch(m.length){case 0:return!c.call(this);case 1:return!c.call(this,m[0]);case 2:return!c.call(this,m[0],m[1]);case 3:return!c.call(this,m[0],m[1],m[2])}return!c.apply(this,m)}}function n5(c){return _P(2,c)}var r5=Cy(function(c,m){m=m.length==1&&Kt(m[0])?On(m[0],pi(It())):On(Or(m,1),pi(It()));var w=m.length;return Ct(function(R){for(var O=-1,z=ei(R.length,w);++O<z;)R[O]=m[O].call(this,R[O]);return Hn(c,this,R)})}),xS=Ct(function(c,m){var w=Cs(m,od(xS));return me(c,P,n,m,w)}),EP=Ct(function(c,m){var w=Cs(m,od(EP));return me(c,L,n,m,w)}),i5=Zt(function(c,m){return me(c,N,n,n,n,m)});function s5(c,m){if(typeof c!="function")throw new gi(o);return m=m===n?m:nn(m),Ct(c,m)}function o5(c,m){if(typeof c!="function")throw new gi(o);return m=m==null?0:Tr(nn(m),0),Ct(function(w){var R=w[m],O=Ia(w,0,m);return R&&Ms(O,R),Hn(c,this,O)})}function a5(c,m,w){var R=!0,O=!0;if(typeof c!="function")throw new gi(o);return ir(w)&&(R="leading"in w?!!w.leading:R,O="trailing"in w?!!w.trailing:O),wP(c,m,{leading:R,maxWait:m,trailing:O})}function l5(c){return xP(c,1)}function u5(c,m){return xS(si(m),c)}function c5(){if(!arguments.length)return[];var c=arguments[0];return Kt(c)?c:[c]}function f5(c){return Ui(c,v)}function h5(c,m){return m=typeof m=="function"?m:n,Ui(c,v,m)}function d5(c){return Ui(c,p|v)}function p5(c,m){return m=typeof m=="function"?m:n,Ui(c,p|v,m)}function m5(c,m){return m==null||Xh(c,m,li(m))}function Vo(c,m){return c===m||c!==c&&m!==m}var g5=wt(nf),v5=wt(function(c,m){return c>=m}),df=Qt(function(){return arguments}())?Qt:function(c){return vr(c)&&An.call(c,"callee")&&!Hh.call(c,"callee")},Kt=xe.isArray,y5=Ih?pi(Ih):pr;function as(c){return c!=null&&ky(c.length)&&!ml(c)}function br(c){return vr(c)&&as(c)}function x5(c){return c===!0||c===!1||vr(c)&&jr(c)==ut}var bu=Zv||PS,_5=Bh?pi(Bh):mr;function A5(c){return vr(c)&&c.nodeType===1&&!eg(c)}function S5(c){if(c==null)return!0;if(as(c)&&(Kt(c)||typeof c=="string"||typeof c.splice=="function"||bu(c)||ad(c)||df(c)))return!c.length;var m=Ei(c);if(m==Se||m==Et)return!c.size;if(Zm(c))return!ni(c).length;for(var w in c)if(An.call(c,w))return!1;return!0}function M5(c,m){return nr(c,m)}function w5(c,m,w){w=typeof w=="function"?w:n;var R=w?w(c,m):n;return R===n?nr(c,m,n,w):!!R}function _S(c){if(!vr(c))return!1;var m=jr(c);return m==He||m==mt||typeof c.message=="string"&&typeof c.name=="string"&&!eg(c)}function E5(c){return typeof c=="number"&&Tm(c)}function ml(c){if(!ir(c))return!1;var m=jr(c);return m==K||m==De||m==Ge||m==rt}function TP(c){return typeof c=="number"&&c==nn(c)}function ky(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=V}function ir(c){var m=typeof c;return c!=null&&(m=="object"||m=="function")}function vr(c){return c!=null&&typeof c=="object"}var CP=mm?pi(mm):Su;function T5(c,m){return c===m||rr(c,m,cS(m))}function C5(c,m,w){return w=typeof w=="function"?w:n,rr(c,m,cS(m),w)}function b5(c){return bP(c)&&c!=+c}function R5(c){if(hz(c))throw new Ot(s);return Mu(c)}function P5(c){return c===null}function I5(c){return c==null}function bP(c){return typeof c=="number"||vr(c)&&jr(c)==Ne}function eg(c){if(!vr(c)||jr(c)!=Ke)return!1;var m=jc(c);if(m===null)return!0;var w=An.call(m,"constructor")&&m.constructor;return typeof w=="function"&&w instanceof w&&pu.call(w)==il}var AS=Lh?pi(Lh):wu;function B5(c){return TP(c)&&c>=-V&&c<=V}var RP=Dh?pi(Dh):Kh;function Hy(c){return typeof c=="string"||!Kt(c)&&vr(c)&&jr(c)==fn}function Ls(c){return typeof c=="symbol"||vr(c)&&jr(c)==J}var ad=nl?pi(nl):zm;function L5(c){return c===n}function D5(c){return vr(c)&&Ei(c)==Ae}function F5(c){return vr(c)&&jr(c)==We}var O5=wt(rf),N5=wt(function(c,m){return c<=m});function PP(c){if(!c)return[];if(as(c))return Hy(c)?Qn(c):oi(c);if(Sa&&c[Sa])return au(c[Sa]());var m=Ei(c),w=m==Se?Hc:m==Et?zc:ld;return w(c)}function gl(c){if(!c)return c===0?c:0;if(c=ho(c),c===le||c===-le){var m=c<0?-1:1;return m*te}return c===c?c:0}function nn(c){var m=gl(c),w=m%1;return m===m?w?m-w:m:0}function IP(c){return c?Ea(nn(c),0,he):0}function ho(c){if(typeof c=="number")return c;if(Ls(c))return ie;if(ir(c)){var m=typeof c.valueOf=="function"?c.valueOf():c;c=ir(m)?m+"":m}if(typeof c!="string")return c===0?c:+c;c=Nh(c);var w=pe.test(c);return w||ct.test(c)?q1(c.slice(2),w?2:8):be.test(c)?ie:+c}function BP(c){return os(c,ls(c))}function U5(c){return c?Ea(nn(c),-V,V):c===0?c:0}function bn(c){return c==null?"":ii(c)}var k5=dl(function(c,m){if(Zm(m)||as(m)){os(m,li(m),c);return}for(var w in m)An.call(m,w)&&Rs(c,w,m[w])}),LP=dl(function(c,m){os(m,ls(m),c)}),zy=dl(function(c,m,w,R){os(m,ls(m),c,R)}),H5=dl(function(c,m,w,R){os(m,li(m),c,R)}),z5=Zt(jh);function G5(c,m){var w=Ho(c);return m==null?w:Fm(w,m)}var V5=Ct(function(c,m){c=Bt(c);var w=-1,R=m.length,O=R>2?m[2]:n;for(O&&Vi(m[0],m[1],O)&&(R=1);++w<R;)for(var z=m[w],Y=ls(z),se=-1,fe=Y.length;++se<fe;){var Fe=Y[se],Oe=c[Fe];(Oe===n||Vo(Oe,du[Fe])&&!An.call(c,Fe))&&(c[Fe]=z[Fe])}return c}),W5=Ct(function(c){return c.push(n,_e),Hn(DP,n,c)});function j5(c,m){return ym(c,It(m,3),ki)}function X5(c,m){return ym(c,It(m,3),_u)}function J5(c,m){return c==null?c:xu(c,It(m,3),ls)}function K5(c,m){return c==null?c:tf(c,It(m,3),ls)}function Y5(c,m){return c&&ki(c,It(m,3))}function Q5(c,m){return c&&_u(c,It(m,3))}function q5(c){return c==null?[]:cl(c,li(c))}function Z5(c){return c==null?[]:cl(c,ls(c))}function SS(c,m,w){var R=c==null?n:Is(c,m);return R===n?w:R}function $5(c,m){return c!=null&&$R(c,m,My)}function MS(c,m){return c!=null&&$R(c,m,km)}var eV=X(function(c,m,w){m!=null&&typeof m.toString!="function"&&(m=Oi.call(m)),c[m]=w},ES(us)),tV=X(function(c,m,w){m!=null&&typeof m.toString!="function"&&(m=Oi.call(m)),An.call(c,m)?c[m].push(w):c[m]=[w]},It),nV=Ct(Un);function li(c){return as(c)?nt(c):ni(c)}function ls(c){return as(c)?nt(c,!0):Gm(c)}function rV(c,m){var w={};return m=It(m,3),ki(c,function(R,O,z){ao(w,m(R,O,z),R)}),w}function iV(c,m){var w={};return m=It(m,3),ki(c,function(R,O,z){ao(w,O,m(R,O,z))}),w}var sV=dl(function(c,m,w){Bs(c,m,w)}),DP=dl(function(c,m,w,R){Bs(c,m,w,R)}),oV=Zt(function(c,m){var w={};if(c==null)return w;var R=!1;m=On(m,function(z){return z=Pa(z,c),R||(R=z.length>1),z}),os(c,hn(c),w),R&&(w=Ui(w,p|g|v,ot));for(var O=m.length;O--;)Xm(w,m[O]);return w});function aV(c,m){return FP(c,Uy(It(m)))}var lV=Zt(function(c,m){return c==null?{}:af(c,m)});function FP(c,m){if(c==null)return{};var w=On(hn(c),function(R){return[R]});return m=It(m),qh(c,w,function(R,O){return m(R,O[0])})}function uV(c,m,w){m=Pa(m,c);var R=-1,O=m.length;for(O||(O=1,c=n);++R<O;){var z=c==null?n:c[La(m[R])];z===n&&(R=O,z=w),c=ml(z)?z.call(c):z}return c}function cV(c,m,w){return c==null?c:hl(c,m,w)}function fV(c,m,w,R){return R=typeof R=="function"?R:n,c==null?c:hl(c,m,w,R)}var OP=Gi(li),NP=Gi(ls);function hV(c,m,w){var R=Kt(c),O=R||bu(c)||ad(c);if(m=It(m,4),w==null){var z=c&&c.constructor;O?w=R?new z:[]:ir(c)?w=ml(z)?Ho(jc(c)):{}:w={}}return(O?wr:ki)(c,function(Y,se,fe){return m(w,Y,se,fe)}),w}function dV(c,m){return c==null?!0:Xm(c,m)}function pV(c,m,w){return c==null?c:Jm(c,m,si(w))}function mV(c,m,w,R){return R=typeof R=="function"?R:n,c==null?c:Jm(c,m,si(w),R)}function ld(c){return c==null?[]:mi(c,li(c))}function gV(c){return c==null?[]:mi(c,ls(c))}function vV(c,m,w){return w===n&&(w=m,m=n),w!==n&&(w=ho(w),w=w===w?w:0),m!==n&&(m=ho(m),m=m===m?m:0),Ea(ho(c),m,w)}function yV(c,m,w){return m=gl(m),w===n?(w=m,m=0):w=gl(w),c=ho(c),oS(c,m,w)}function xV(c,m,w){if(w&&typeof w!="boolean"&&Vi(c,m,w)&&(m=w=n),w===n&&(typeof m=="boolean"?(w=m,m=n):typeof c=="boolean"&&(w=c,c=n)),c===n&&m===n?(c=0,m=1):(c=gl(c),m===n?(m=c,c=0):m=gl(m)),c>m){var R=c;c=m,m=R}if(w||c%1||m%1){var O=Cm();return ei(c+O*(m-c+Hv("1e-"+((O+"").length-1))),m)}return lo(c,m)}var _V=f(function(c,m,w){return m=m.toLowerCase(),c+(w?UP(m):m)});function UP(c){return wS(bn(c).toLowerCase())}function kP(c){return c=bn(c),c&&c.replace(Ft,jv).replace(Lr,"")}function AV(c,m,w){c=bn(c),m=ii(m);var R=c.length;w=w===n?R:Ea(nn(w),0,R);var O=w;return w-=m.length,w>=0&&c.slice(w,O)==m}function SV(c){return c=bn(c),c&&rn.test(c)?c.replace(Je,Xv):c}function MV(c){return c=bn(c),c&&Mh.test(c)?c.replace(Yl,"\\$&"):c}var wV=f(function(c,m,w){return c+(w?"-":"")+m.toLowerCase()}),EV=f(function(c,m,w){return c+(w?" ":"")+m.toLowerCase()}),TV=Iy("toLowerCase");function CV(c,m,w){c=bn(c),m=nn(m);var R=m?no(c):0;if(!m||R>=m)return c;var O=(m-R)/2;return je(Kc(O),w)+c+je(Jc(O),w)}function bV(c,m,w){c=bn(c),m=nn(m);var R=m?no(c):0;return m&&R<m?c+je(m-R,w):c}function RV(c,m,w){c=bn(c),m=nn(m);var R=m?no(c):0;return m&&R<m?je(m-R,w)+c:c}function PV(c,m,w){return w||m==null?m=0:m&&(m=+m),ty(bn(c).replace(Ql,""),m||0)}function IV(c,m,w){return(w?Vi(c,m,w):m===n)?m=1:m=nn(m),Cu(bn(c),m)}function BV(){var c=arguments,m=bn(c[0]);return c.length<3?m:m.replace(c[1],c[2])}var LV=f(function(c,m,w){return c+(w?"_":"")+m.toLowerCase()});function DV(c,m,w){return w&&typeof w!="number"&&Vi(c,m,w)&&(m=w=n),w=w===n?he:w>>>0,w?(c=bn(c),c&&(typeof m=="string"||m!=null&&!AS(m))&&(m=ii(m),!m&&rl(c))?Ia(Qn(c),0,w):c.split(m,w)):[]}var FV=f(function(c,m,w){return c+(w?" ":"")+wS(m)});function OV(c,m,w){return c=bn(c),w=w==null?0:Ea(nn(w),0,c.length),m=ii(m),c.slice(w,w+m.length)==m}function NV(c,m,w){var R=k.templateSettings;w&&Vi(c,m,w)&&(m=n),c=bn(c),m=zy({},m,R,ue);var O=zy({},m.imports,R.imports,ue),z=li(O),Y=mi(O,z),se,fe,Fe=0,Oe=m.interpolate||Rt,ke="__p += '",st=Dr((m.escape||Rt).source+"|"+Oe.source+"|"+(Oe===zr?j:Rt).source+"|"+(m.evaluate||Rt).source+"|$","g"),_t="//# sourceURL="+(An.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$s+"]")+`
`;c.replace(st,function(Dt,cn,pn,Ds,Wi,Fs){return pn||(pn=Ds),ke+=c.slice(Fe,Fs).replace(tn,xm),cn&&(se=!0,ke+=`' +
__e(`+cn+`) +
'`),Wi&&(fe=!0,ke+=`';
`+Wi+`;
__p += '`),pn&&(ke+=`' +
((__t = (`+pn+`)) == null ? '' : __t) +
'`),Fe=Fs+Dt.length,Dt}),ke+=`';
`;var Lt=An.call(m,"variable")&&m.variable;if(!Lt)ke=`with (obj) {
`+ke+`
}
`;else if(lm.test(Lt))throw new Ot(a);ke=(fe?ke.replace(tt,""):ke).replace($,"$1").replace(Ve,"$1;"),ke="function("+(Lt||"obj")+`) {
`+(Lt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(se?", __e = _.escape":"")+(fe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var sn=zP(function(){return Jt(z,_t+"return "+ke).apply(n,Y)});if(sn.source=ke,_S(sn))throw sn;return sn}function UV(c){return bn(c).toLowerCase()}function kV(c){return bn(c).toUpperCase()}function HV(c,m,w){if(c=bn(c),c&&(w||m===n))return Nh(c);if(!c||!(m=ii(m)))return c;var R=Qn(c),O=Qn(m),z=Nn(R,O),Y=ou(R,O)+1;return Ia(R,z,Y).join("")}function zV(c,m,w){if(c=bn(c),c&&(w||m===n))return c.slice(0,cu(c)+1);if(!c||!(m=ii(m)))return c;var R=Qn(c),O=ou(R,Qn(m))+1;return Ia(R,0,O).join("")}function GV(c,m,w){if(c=bn(c),c&&(w||m===n))return c.replace(Ql,"");if(!c||!(m=ii(m)))return c;var R=Qn(c),O=Nn(R,Qn(m));return Ia(R,O).join("")}function VV(c,m){var w=F,R=W;if(ir(m)){var O="separator"in m?m.separator:O;w="length"in m?nn(m.length):w,R="omission"in m?ii(m.omission):R}c=bn(c);var z=c.length;if(rl(c)){var Y=Qn(c);z=Y.length}if(w>=z)return c;var se=w-no(R);if(se<1)return R;var fe=Y?Ia(Y,0,se).join(""):c.slice(0,se);if(O===n)return fe+R;if(Y&&(se+=fe.length-se),AS(O)){if(c.slice(se).search(O)){var Fe,Oe=fe;for(O.global||(O=Dr(O.source,bn(ge.exec(O))+"g")),O.lastIndex=0;Fe=O.exec(Oe);)var ke=Fe.index;fe=fe.slice(0,ke===n?se:ke)}}else if(c.indexOf(ii(O),se)!=se){var st=fe.lastIndexOf(O);st>-1&&(fe=fe.slice(0,st))}return fe+R}function WV(c){return c=bn(c),c&&it.test(c)?c.replace(ve,fu):c}var jV=f(function(c,m,w){return c+(w?" ":"")+m.toUpperCase()}),wS=Iy("toUpperCase");function HP(c,m,w){return c=bn(c),m=w?n:m,m===n?kc(c)?hu(c):Vv(c):c.match(m)||[]}var zP=Ct(function(c,m){try{return Hn(c,n,m)}catch(w){return _S(w)?w:new Ot(w)}}),XV=Zt(function(c,m){return wr(m,function(w){w=La(w),ao(c,w,yS(c[w],c))}),c});function JV(c){var m=c==null?0:c.length,w=It();return c=m?On(c,function(R){if(typeof R[1]!="function")throw new gi(o);return[w(R[0]),R[1]]}):[],Ct(function(R){for(var O=-1;++O<m;){var z=c[O];if(Hn(z[0],this,R))return Hn(z[1],this,R)}})}function KV(c){return Om(Ui(c,p))}function ES(c){return function(){return c}}function YV(c,m){return c==null||c!==c?m:c}var QV=b(),qV=b(!0);function us(c){return c}function TS(c){return Eu(typeof c=="function"?c:Ui(c,p))}function ZV(c){return sf(Ui(c,p))}function $V(c,m){return Yh(c,Ui(m,p))}var e9=Ct(function(c,m){return function(w){return Un(w,c,m)}}),t9=Ct(function(c,m){return function(w){return Un(c,w,m)}});function CS(c,m,w){var R=li(m),O=cl(m,R);w==null&&!(ir(m)&&(O.length||!R.length))&&(w=m,m=c,c=this,O=cl(m,li(m)));var z=!(ir(w)&&"chain"in w)||!!w.chain,Y=ml(c);return wr(O,function(se){var fe=m[se];c[se]=fe,Y&&(c.prototype[se]=function(){var Fe=this.__chain__;if(z||Fe){var Oe=c(this.__wrapped__),ke=Oe.__actions__=oi(this.__actions__);return ke.push({func:fe,args:arguments,thisArg:c}),Oe.__chain__=Fe,Oe}return fe.apply(c,Ms([this.value()],arguments))})}),c}function n9(){return dr._===this&&(dr._=Uh),this}function bS(){}function r9(c){return c=nn(c),Ct(function(m){return zo(m,c)})}var i9=we(On),s9=we(vm),o9=we(Oc);function GP(c){return hS(c)?Mi(La(c)):Zh(c)}function a9(c){return function(m){return c==null?n:Is(c,m)}}var l9=Vt(),u9=Vt(!0);function RS(){return[]}function PS(){return!1}function c9(){return{}}function f9(){return""}function h9(){return!0}function d9(c,m){if(c=nn(c),c<1||c>V)return[];var w=he,R=ei(c,he);m=It(m),c-=he;for(var O=No(R,m);++w<c;)m(w);return O}function p9(c){return Kt(c)?On(c,La):Ls(c)?[c]:oi(lP(bn(c)))}function m9(c){var m=++Sm;return bn(c)+m}var g9=ae(function(c,m){return c+m},0),v9=vt("ceil"),y9=ae(function(c,m){return c/m},1),x9=vt("floor");function _9(c){return c&&c.length?ef(c,us,nf):n}function A9(c,m){return c&&c.length?ef(c,It(m,2),nf):n}function S9(c){return Uc(c,us)}function M9(c,m){return Uc(c,It(m,2))}function w9(c){return c&&c.length?ef(c,us,rf):n}function E9(c,m){return c&&c.length?ef(c,It(m,2),rf):n}var T9=ae(function(c,m){return c*m},1),C9=vt("round"),b9=ae(function(c,m){return c-m},0);function R9(c){return c&&c.length?Es(c,us):0}function P9(c,m){return c&&c.length?Es(c,It(m,2)):0}return k.after=ZG,k.ary=xP,k.assign=k5,k.assignIn=LP,k.assignInWith=zy,k.assignWith=H5,k.at=z5,k.before=_P,k.bind=yS,k.bindAll=XV,k.bindKey=AP,k.castArray=c5,k.chain=gP,k.chunk=xz,k.compact=_z,k.concat=Az,k.cond=JV,k.conforms=KV,k.constant=ES,k.countBy=RG,k.create=G5,k.curry=SP,k.curryRight=MP,k.debounce=wP,k.defaults=V5,k.defaultsDeep=W5,k.defer=$G,k.delay=e5,k.difference=Sz,k.differenceBy=Mz,k.differenceWith=wz,k.drop=Ez,k.dropRight=Tz,k.dropRightWhile=Cz,k.dropWhile=bz,k.fill=Rz,k.filter=IG,k.flatMap=DG,k.flatMapDeep=FG,k.flatMapDepth=OG,k.flatten=hP,k.flattenDeep=Pz,k.flattenDepth=Iz,k.flip=t5,k.flow=QV,k.flowRight=qV,k.fromPairs=Bz,k.functions=q5,k.functionsIn=Z5,k.groupBy=NG,k.initial=Dz,k.intersection=Fz,k.intersectionBy=Oz,k.intersectionWith=Nz,k.invert=eV,k.invertBy=tV,k.invokeMap=kG,k.iteratee=TS,k.keyBy=HG,k.keys=li,k.keysIn=ls,k.map=Fy,k.mapKeys=rV,k.mapValues=iV,k.matches=ZV,k.matchesProperty=$V,k.memoize=Ny,k.merge=sV,k.mergeWith=DP,k.method=e9,k.methodOf=t9,k.mixin=CS,k.negate=Uy,k.nthArg=r9,k.omit=oV,k.omitBy=aV,k.once=n5,k.orderBy=zG,k.over=i9,k.overArgs=r5,k.overEvery=s9,k.overSome=o9,k.partial=xS,k.partialRight=EP,k.partition=GG,k.pick=lV,k.pickBy=FP,k.property=GP,k.propertyOf=a9,k.pull=zz,k.pullAll=pP,k.pullAllBy=Gz,k.pullAllWith=Vz,k.pullAt=Wz,k.range=l9,k.rangeRight=u9,k.rearg=i5,k.reject=jG,k.remove=jz,k.rest=s5,k.reverse=gS,k.sampleSize=JG,k.set=cV,k.setWith=fV,k.shuffle=KG,k.slice=Xz,k.sortBy=qG,k.sortedUniq=$z,k.sortedUniqBy=eG,k.split=DV,k.spread=o5,k.tail=tG,k.take=nG,k.takeRight=rG,k.takeRightWhile=iG,k.takeWhile=sG,k.tap=_G,k.throttle=a5,k.thru=Dy,k.toArray=PP,k.toPairs=OP,k.toPairsIn=NP,k.toPath=p9,k.toPlainObject=BP,k.transform=hV,k.unary=l5,k.union=oG,k.unionBy=aG,k.unionWith=lG,k.uniq=uG,k.uniqBy=cG,k.uniqWith=fG,k.unset=dV,k.unzip=vS,k.unzipWith=mP,k.update=pV,k.updateWith=mV,k.values=ld,k.valuesIn=gV,k.without=hG,k.words=HP,k.wrap=u5,k.xor=dG,k.xorBy=pG,k.xorWith=mG,k.zip=gG,k.zipObject=vG,k.zipObjectDeep=yG,k.zipWith=xG,k.entries=OP,k.entriesIn=NP,k.extend=LP,k.extendWith=zy,CS(k,k),k.add=g9,k.attempt=zP,k.camelCase=_V,k.capitalize=UP,k.ceil=v9,k.clamp=vV,k.clone=f5,k.cloneDeep=d5,k.cloneDeepWith=p5,k.cloneWith=h5,k.conformsTo=m5,k.deburr=kP,k.defaultTo=YV,k.divide=y9,k.endsWith=AV,k.eq=Vo,k.escape=SV,k.escapeRegExp=MV,k.every=PG,k.find=BG,k.findIndex=cP,k.findKey=j5,k.findLast=LG,k.findLastIndex=fP,k.findLastKey=X5,k.floor=x9,k.forEach=vP,k.forEachRight=yP,k.forIn=J5,k.forInRight=K5,k.forOwn=Y5,k.forOwnRight=Q5,k.get=SS,k.gt=g5,k.gte=v5,k.has=$5,k.hasIn=MS,k.head=dP,k.identity=us,k.includes=UG,k.indexOf=Lz,k.inRange=yV,k.invoke=nV,k.isArguments=df,k.isArray=Kt,k.isArrayBuffer=y5,k.isArrayLike=as,k.isArrayLikeObject=br,k.isBoolean=x5,k.isBuffer=bu,k.isDate=_5,k.isElement=A5,k.isEmpty=S5,k.isEqual=M5,k.isEqualWith=w5,k.isError=_S,k.isFinite=E5,k.isFunction=ml,k.isInteger=TP,k.isLength=ky,k.isMap=CP,k.isMatch=T5,k.isMatchWith=C5,k.isNaN=b5,k.isNative=R5,k.isNil=I5,k.isNull=P5,k.isNumber=bP,k.isObject=ir,k.isObjectLike=vr,k.isPlainObject=eg,k.isRegExp=AS,k.isSafeInteger=B5,k.isSet=RP,k.isString=Hy,k.isSymbol=Ls,k.isTypedArray=ad,k.isUndefined=L5,k.isWeakMap=D5,k.isWeakSet=F5,k.join=Uz,k.kebabCase=wV,k.last=fo,k.lastIndexOf=kz,k.lowerCase=EV,k.lowerFirst=TV,k.lt=O5,k.lte=N5,k.max=_9,k.maxBy=A9,k.mean=S9,k.meanBy=M9,k.min=w9,k.minBy=E9,k.stubArray=RS,k.stubFalse=PS,k.stubObject=c9,k.stubString=f9,k.stubTrue=h9,k.multiply=T9,k.nth=Hz,k.noConflict=n9,k.noop=bS,k.now=Oy,k.pad=CV,k.padEnd=bV,k.padStart=RV,k.parseInt=PV,k.random=xV,k.reduce=VG,k.reduceRight=WG,k.repeat=IV,k.replace=BV,k.result=uV,k.round=C9,k.runInContext=oe,k.sample=XG,k.size=YG,k.snakeCase=LV,k.some=QG,k.sortedIndex=Jz,k.sortedIndexBy=Kz,k.sortedIndexOf=Yz,k.sortedLastIndex=Qz,k.sortedLastIndexBy=qz,k.sortedLastIndexOf=Zz,k.startCase=FV,k.startsWith=OV,k.subtract=b9,k.sum=R9,k.sumBy=P9,k.template=NV,k.times=d9,k.toFinite=gl,k.toInteger=nn,k.toLength=IP,k.toLower=UV,k.toNumber=ho,k.toSafeInteger=U5,k.toString=bn,k.toUpper=kV,k.trim=HV,k.trimEnd=zV,k.trimStart=GV,k.truncate=VV,k.unescape=WV,k.uniqueId=m9,k.upperCase=jV,k.upperFirst=wS,k.each=vP,k.eachRight=yP,k.first=dP,CS(k,function(){var c={};return ki(k,function(m,w){An.call(k.prototype,w)||(c[w]=m)}),c}(),{chain:!1}),k.VERSION=r,wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){k[c].placeholder=k}),wr(["drop","take"],function(c,m){bt.prototype[c]=function(w){w=w===n?1:Tr(nn(w),0);var R=this.__filtered__&&!m?new bt(this):this.clone();return R.__filtered__?R.__takeCount__=ei(w,R.__takeCount__):R.__views__.push({size:ei(w,he),type:c+(R.__dir__<0?"Right":"")}),R},bt.prototype[c+"Right"]=function(w){return this.reverse()[c](w).reverse()}}),wr(["filter","map","takeWhile"],function(c,m){var w=m+1,R=w==Q||w==de;bt.prototype[c]=function(O){var z=this.clone();return z.__iteratees__.push({iteratee:It(O,3),type:w}),z.__filtered__=z.__filtered__||R,z}}),wr(["head","last"],function(c,m){var w="take"+(m?"Right":"");bt.prototype[c]=function(){return this[w](1).value()[0]}}),wr(["initial","tail"],function(c,m){var w="drop"+(m?"":"Right");bt.prototype[c]=function(){return this.__filtered__?new bt(this):this[w](1)}}),bt.prototype.compact=function(){return this.filter(us)},bt.prototype.find=function(c){return this.filter(c).head()},bt.prototype.findLast=function(c){return this.reverse().find(c)},bt.prototype.invokeMap=Ct(function(c,m){return typeof c=="function"?new bt(this):this.map(function(w){return Un(w,c,m)})}),bt.prototype.reject=function(c){return this.filter(Uy(It(c)))},bt.prototype.slice=function(c,m){c=nn(c);var w=this;return w.__filtered__&&(c>0||m<0)?new bt(w):(c<0?w=w.takeRight(-c):c&&(w=w.drop(c)),m!==n&&(m=nn(m),w=m<0?w.dropRight(-m):w.take(m-c)),w)},bt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},bt.prototype.toArray=function(){return this.take(he)},ki(bt.prototype,function(c,m){var w=/^(?:filter|find|map|reject)|While$/.test(m),R=/^(?:head|last)$/.test(m),O=k[R?"take"+(m=="last"?"Right":""):m],z=R||/^find/.test(m);O&&(k.prototype[m]=function(){var Y=this.__wrapped__,se=R?[1]:arguments,fe=Y instanceof bt,Fe=se[0],Oe=fe||Kt(Y),ke=function(cn){var pn=O.apply(k,Ms([cn],se));return R&&st?pn[0]:pn};Oe&&w&&typeof Fe=="function"&&Fe.length!=1&&(fe=Oe=!1);var st=this.__chain__,_t=!!this.__actions__.length,Lt=z&&!st,sn=fe&&!_t;if(!z&&Oe){Y=sn?Y:new bt(this);var Dt=c.apply(Y,se);return Dt.__actions__.push({func:Dy,args:[ke],thisArg:n}),new ti(Dt,st)}return Lt&&sn?c.apply(this,se):(Dt=this.thru(ke),Lt?R?Dt.value()[0]:Dt.value():Dt)})}),wr(["pop","push","shift","sort","splice","unshift"],function(c){var m=_a[c],w=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",R=/^(?:pop|shift)$/.test(c);k.prototype[c]=function(){var O=arguments;if(R&&!this.__chain__){var z=this.value();return m.apply(Kt(z)?z:[],O)}return this[w](function(Y){return m.apply(Kt(Y)?Y:[],O)})}}),ki(bt.prototype,function(c,m){var w=k[m];if(w){var R=w.name+"";An.call(al,R)||(al[R]=[]),al[R].push({name:m,func:w})}}),al[B(n,y).name]=[{name:"wrapper",func:n}],bt.prototype.clone=eS,bt.prototype.reverse=tS,bt.prototype.value=Ni,k.prototype.at=AG,k.prototype.chain=SG,k.prototype.commit=MG,k.prototype.next=wG,k.prototype.plant=TG,k.prototype.reverse=CG,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=bG,k.prototype.first=k.prototype.head,Sa&&(k.prototype[Sa]=EG),k},xa=Yv();Gr?((Gr.exports=xa)._=xa,pm._=xa):dr._=xa}).call(Ua)})(yA,yA.exports);var Bre=yA.exports;const Lre=()=>{const[t,e]=U.useState({width:window.innerWidth,height:window.innerHeight});return U.useEffect(()=>{const n=Bre.debounce(()=>{e({width:window.innerWidth,height:window.innerHeight})},200);return window.addEventListener("resize",n),()=>{n.cancel(),window.removeEventListener("resize",n)}},[]),t},Dre=()=>{const t=nb(),{width:e,height:n}=Lre(),r=e<970||/iPhone|Android/i.test(navigator.userAgent),i=e>=768&&e<=1024||window.devicePixelRatio>1&&Math.max(e,n)>=1024||/iPad|Tablet|Kindle/i.test(navigator.userAgent),s=i&&n>e,o=U.useMemo(()=>[!1,r,r&&!i&&!s,i&&s],[r,i,s]),a=Ire({stages:o}),l=U.useMemo(()=>({height:Math.min(n-70-90-75,830),width:Math.min(e,620)}),[e,n]);U.useEffect(()=>{t(zj(l))},[l,t]),U.useEffect(()=>{t(Hj(o))},[o,t]),U.useEffect(()=>{t(kj(a))},[a,t])},AH=U.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),N1=U.createContext({}),U1=U.createContext(null),k1=typeof document<"u",bR=k1?U.useLayoutEffect:U.useEffect,SH=U.createContext({strict:!1}),RR=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Fre="framerAppearId",MH="data-"+RR(Fre);function Ore(t,e,n,r){const{visualElement:i}=U.useContext(N1),s=U.useContext(SH),o=U.useContext(U1),a=U.useContext(AH).reducedMotion,l=U.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;U.useInsertionEffect(()=>{u&&u.update(n,o)});const h=U.useRef(!!(n[MH]&&!window.HandoffComplete));return bR(()=>{u&&(u.render(),h.current&&u.animationState&&u.animationState.animateChanges())}),U.useEffect(()=>{u&&(u.updateFeatures(),!h.current&&u.animationState&&u.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),u}function tp(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Nre(t,e,n){return U.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):tp(n)&&(n.current=r))},[e])}function Q0(t){return typeof t=="string"||Array.isArray(t)}function H1(t){return typeof t=="object"&&typeof t.start=="function"}const PR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IR=["initial",...PR];function z1(t){return H1(t.animate)||IR.some(e=>Q0(t[e]))}function wH(t){return!!(z1(t)||t.variants)}function Ure(t,e){if(z1(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Q0(n)?n:void 0,animate:Q0(r)?r:void 0}}return t.inherit!==!1?e:{}}function kre(t){const{initial:e,animate:n}=Ure(t,U.useContext(N1));return U.useMemo(()=>({initial:e,animate:n}),[jL(e),jL(n)])}function jL(t){return Array.isArray(t)?t.join(" "):t}const XL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},q0={};for(const t in XL)q0[t]={isEnabled:e=>XL[t].some(n=>!!e[n])};function Hre(t){for(const e in t)q0[e]={...q0[e],...t[e]}}const BR=U.createContext({}),EH=U.createContext({}),zre=Symbol.for("motionComponentSymbol");function Gre({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Hre(t);function s(a,l){let u;const h={...U.useContext(AH),...a,layoutId:Vre(a)},{isStatic:p}=h,g=kre(a),v=r(a,p);if(!p&&k1){g.visualElement=Ore(i,v,h,e);const x=U.useContext(EH),E=U.useContext(SH).strict;g.visualElement&&(u=g.visualElement.loadFeatures(h,E,t,x))}return U.createElement(N1.Provider,{value:g},u&&g.visualElement?U.createElement(u,{visualElement:g.visualElement,...h}):null,n(i,a,Nre(v,g.visualElement,l),v,p,g.visualElement))}const o=U.forwardRef(s);return o[zre]=i,o}function Vre({layoutId:t}){const e=U.useContext(BR).id;return e&&t!==void 0?e+"-"+t:t}function Wre(t){function e(r,i={}){return Gre(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const jre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LR(t){return typeof t!="string"||t.includes("-")?!1:!!(jre.indexOf(t)>-1||/[A-Z]/.test(t))}const xA={};function Xre(t){Object.assign(xA,t)}const Iv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ah=new Set(Iv);function TH(t,{layout:e,layoutId:n}){return Ah.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xA[t]||t==="opacity")}const _s=t=>!!(t&&t.getVelocity),Jre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kre=Iv.length;function Yre(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Kre;o++){const a=Iv[o];if(t[a]!==void 0){const l=Jre[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const CH=t=>e=>typeof e=="string"&&e.startsWith(t),bH=CH("--"),UT=CH("var(--"),Qre=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,qre=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wc=(t,e,n)=>Math.min(Math.max(n,t),e),Sh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},r0={...Sh,transform:t=>wc(0,1,t)},e_={...Sh,default:1},i0=t=>Math.round(t*1e5)/1e5,G1=/(-)?([\d]*\.?[\d])+/g,RH=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Zre=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Bv(t){return typeof t=="string"}const Lv=t=>({test:e=>Bv(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nu=Lv("deg"),Ka=Lv("%"),Nt=Lv("px"),$re=Lv("vh"),eie=Lv("vw"),JL={...Ka,parse:t=>Ka.parse(t)/100,transform:t=>Ka.transform(t*100)},KL={...Sh,transform:Math.round},PH={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,size:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,rotate:Nu,rotateX:Nu,rotateY:Nu,rotateZ:Nu,scale:e_,scaleX:e_,scaleY:e_,scaleZ:e_,skew:Nu,skewX:Nu,skewY:Nu,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:r0,originX:JL,originY:JL,originZ:Nt,zIndex:KL,fillOpacity:r0,strokeOpacity:r0,numOctaves:KL};function DR(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,h=!0;for(const p in e){const g=e[p];if(bH(p)){s[p]=g;continue}const v=PH[p],x=qre(g,v);if(Ah.has(p)){if(l=!0,o[p]=x,!h)continue;g!==(v.default||0)&&(h=!1)}else p.startsWith("origin")?(u=!0,a[p]=x):i[p]=x}if(e.transform||(l||r?i.transform=Yre(t.transform,n,h,r):i.transform&&(i.transform="none")),u){const{originX:p="50%",originY:g="50%",originZ:v=0}=a;i.transformOrigin=`${p} ${g} ${v}`}}const FR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function IH(t,e,n){for(const r in e)!_s(e[r])&&!TH(r,n)&&(t[r]=e[r])}function tie({transformTemplate:t},e,n){return U.useMemo(()=>{const r=FR();return DR(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function nie(t,e,n){const r=t.style||{},i={};return IH(i,r,t),Object.assign(i,tie(t,e,n)),t.transformValues?t.transformValues(i):i}function rie(t,e,n){const r={},i=nie(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const iie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function _A(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||iie.has(t)}let BH=t=>!_A(t);function sie(t){t&&(BH=e=>e.startsWith("on")?!_A(e):t(e))}try{sie(require("@emotion/is-prop-valid").default)}catch{}function oie(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(BH(i)||n===!0&&_A(i)||!e&&!_A(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function YL(t,e,n){return typeof t=="string"?t:Nt.transform(e+n*t)}function aie(t,e,n){const r=YL(e,t.x,t.width),i=YL(n,t.y,t.height);return`${r} ${i}`}const lie={offset:"stroke-dashoffset",array:"stroke-dasharray"},uie={offset:"strokeDashoffset",array:"strokeDasharray"};function cie(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?lie:uie;t[s.offset]=Nt.transform(-r);const o=Nt.transform(e),a=Nt.transform(n);t[s.array]=`${o} ${a}`}function OR(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},h,p,g){if(DR(t,u,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:x,dimensions:E}=t;v.transform&&(E&&(x.transform=v.transform),delete v.transform),E&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=aie(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),o!==void 0&&cie(v,o,a,l,!1)}const LH=()=>({...FR(),attrs:{}}),NR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function fie(t,e,n,r){const i=U.useMemo(()=>{const s=LH();return OR(s,e,{enableHardwareAcceleration:!1},NR(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};IH(s,t.style,t),i.style={...s,...i.style}}return i}function hie(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(LR(n)?fie:rie)(r,s,o,n),h={...oie(r,typeof n=="string",t),...l,ref:i},{children:p}=r,g=U.useMemo(()=>_s(p)?p.get():p,[p]);return U.createElement(n,{...h,children:g})}}function DH(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const FH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function OH(t,e,n,r){DH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(FH.has(i)?i:RR(i),e.attrs[i])}function UR(t,e){const{style:n}=t,r={};for(const i in n)(_s(n[i])||e.style&&_s(e.style[i])||TH(i,t))&&(r[i]=n[i]);return r}function NH(t,e){const n=UR(t,e);for(const r in t)if(_s(t[r])||_s(e[r])){const i=Iv.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function kR(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function UH(t){const e=U.useRef(null);return e.current===null&&(e.current=t()),e.current}const AA=t=>Array.isArray(t),die=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pie=t=>AA(t)?t[t.length-1]||0:t;function b_(t){const e=_s(t)?t.get():t;return die(e)?e.toValue():e}function mie({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:gie(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const kH=t=>(e,n)=>{const r=U.useContext(N1),i=U.useContext(U1),s=()=>mie(t,e,r,i);return n?s():UH(s)};function gie(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=b_(s[g]);let{initial:o,animate:a}=t;const l=z1(t),u=wH(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;return p&&typeof p!="boolean"&&!H1(p)&&(Array.isArray(p)?p:[p]).forEach(v=>{const x=kR(t,v);if(!x)return;const{transitionEnd:E,transition:M,...y}=x;for(const S in y){let A=y[S];if(Array.isArray(A)){const C=h?A.length-1:0;A=A[C]}A!==null&&(i[S]=A)}for(const S in E)i[S]=E[S]}),i}const Br=t=>t;class QL{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function vie(t){let e=new QL,n=new QL,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,h=!1)=>{const p=h&&i,g=p?e:n;return u&&o.add(l),g.add(l)&&p&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const h=e.order[u];h(l),o.has(h)&&(a.schedule(h),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const t_=["prepare","read","update","preRender","render","postRender"],yie=40;function xie(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=t_.reduce((p,g)=>(p[g]=vie(()=>n=!0),p),{}),o=p=>s[p].process(i),a=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,yie),1),i.timestamp=p,i.isProcessing=!0,t_.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:t_.reduce((p,g)=>{const v=s[g];return p[g]=(x,E=!1,M=!1)=>(n||l(),v.schedule(x,E,M)),p},{}),cancel:p=>t_.forEach(g=>s[g].cancel(p)),state:i,steps:s}}const{schedule:Vn,cancel:Xl,state:Ii,steps:fw}=xie(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),_ie={useVisualState:kH({scrapeMotionValuesFromProps:NH,createRenderState:LH,onMount:(t,e,{renderState:n,latestValues:r})=>{Vn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Vn.render(()=>{OR(n,r,{enableHardwareAcceleration:!1},NR(e.tagName),t.transformTemplate),OH(e,n)})}})},Aie={useVisualState:kH({scrapeMotionValuesFromProps:UR,createRenderState:FR})};function Sie(t,{forwardMotionProps:e=!1},n,r){return{...LR(t)?_ie:Aie,preloadedFeatures:n,useRender:hie(e),createVisualElement:r,Component:t}}function Fl(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const HH=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function V1(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Mie=t=>e=>HH(e)&&t(e,V1(e));function Ul(t,e,n,r){return Fl(t,e,Mie(n),r)}const wie=(t,e)=>n=>e(t(n)),pc=(...t)=>t.reduce(wie);function zH(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const qL=zH("dragHorizontal"),ZL=zH("dragVertical");function GH(t){let e=!1;if(t==="y")e=ZL();else if(t==="x")e=qL();else{const n=qL(),r=ZL();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function VH(){const t=GH(!0);return t?(t(),!1):!0}class Bc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function $L(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||VH())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Vn.update(()=>a[r](s,o))};return Ul(t.current,n,i,{passive:!t.getProps()[r]})}class Eie extends Bc{mount(){this.unmount=pc($L(this.node,!0),$L(this.node,!1))}unmount(){}}class Tie extends Bc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pc(Fl(this.node.current,"focus",()=>this.onFocus()),Fl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WH=(t,e)=>e?t===e?!0:WH(t,e.parentElement):!1;function hw(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,V1(n))}class Cie extends Bc{constructor(){super(...arguments),this.removeStartListeners=Br,this.removeEndListeners=Br,this.removeAccessibleListeners=Br,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Ul(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:h}=this.node.getProps();Vn.update(()=>{WH(this.node.current,a.target)?u&&u(a,l):h&&h(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ul(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pc(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||hw("up",(l,u)=>{const{onTap:h}=this.node.getProps();h&&Vn.update(()=>h(l,u))})};this.removeEndListeners(),this.removeEndListeners=Fl(this.node.current,"keyup",o),hw("down",(a,l)=>{this.startPress(a,l)})},n=Fl(this.node.current,"keydown",e),r=()=>{this.isPressing&&hw("cancel",(s,o)=>this.cancelPress(s,o))},i=Fl(this.node.current,"blur",r);this.removeAccessibleListeners=pc(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Vn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!VH()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Vn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ul(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Fl(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pc(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const kT=new WeakMap,dw=new WeakMap,bie=t=>{const e=kT.get(t.target);e&&e(t)},Rie=t=>{t.forEach(bie)};function Pie({root:t,...e}){const n=t||document;dw.has(n)||dw.set(n,{});const r=dw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Rie,{root:t,...e})),r[i]}function Iie(t,e,n){const r=Pie(e);return kT.set(t,n),r.observe(t),()=>{kT.delete(t),r.unobserve(t)}}const Bie={some:0,all:1};class Lie extends Bc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Bie[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=u?h:p;g&&g(l)};return Iie(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Die(e,n))&&this.startObserver()}unmount(){}}function Die({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fie={inView:{Feature:Lie},tap:{Feature:Cie},focus:{Feature:Tie},hover:{Feature:Eie}};function jH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Oie(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function Nie(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function W1(t,e,n){const r=t.getProps();return kR(r,e,n!==void 0?n:r.custom,Oie(t),Nie(t))}let HR=Br;const $f=t=>t*1e3,kl=t=>t/1e3,Uie={current:!1},XH=t=>Array.isArray(t)&&typeof t[0]=="number";function JH(t){return!!(!t||typeof t=="string"&&KH[t]||XH(t)||Array.isArray(t)&&t.every(JH))}const Ug=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,KH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ug([0,.65,.55,1]),circOut:Ug([.55,0,1,.45]),backIn:Ug([.31,.01,.66,-.59]),backOut:Ug([.33,1.53,.69,.99])};function YH(t){if(t)return XH(t)?Ug(t):Array.isArray(t)?t.map(YH):KH[t]}function kie(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const h=YH(a);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function Hie(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const QH=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,zie=1e-7,Gie=12;function Vie(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=QH(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>zie&&++a<Gie);return o}function Dv(t,e,n,r){if(t===e&&n===r)return Br;const i=s=>Vie(s,0,1,t,n);return s=>s===0||s===1?s:QH(i(s),e,r)}const Wie=Dv(.42,0,1,1),jie=Dv(0,0,.58,1),qH=Dv(.42,0,.58,1),Xie=t=>Array.isArray(t)&&typeof t[0]!="number",ZH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$H=t=>e=>1-t(1-e),zR=t=>1-Math.sin(Math.acos(t)),e4=$H(zR),Jie=ZH(zR),t4=Dv(.33,1.53,.69,.99),GR=$H(t4),Kie=ZH(GR),Yie=t=>(t*=2)<1?.5*GR(t):.5*(2-Math.pow(2,-10*(t-1))),Qie={linear:Br,easeIn:Wie,easeInOut:qH,easeOut:jie,circIn:zR,circInOut:Jie,circOut:e4,backIn:GR,backInOut:Kie,backOut:t4,anticipate:Yie},eD=t=>{if(Array.isArray(t)){HR(t.length===4);const[e,n,r,i]=t;return Dv(e,n,r,i)}else if(typeof t=="string")return Qie[t];return t},VR=(t,e)=>n=>!!(Bv(n)&&Zre.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),n4=(t,e,n)=>r=>{if(!Bv(r))return r;const[i,s,o,a]=r.match(G1);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},qie=t=>wc(0,255,t),pw={...Sh,transform:t=>Math.round(qie(t))},Wf={test:VR("rgb","red"),parse:n4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+pw.transform(t)+", "+pw.transform(e)+", "+pw.transform(n)+", "+i0(r0.transform(r))+")"};function Zie(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const HT={test:VR("#"),parse:Zie,transform:Wf.transform},np={test:VR("hsl","hue"),parse:n4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ka.transform(i0(e))+", "+Ka.transform(i0(n))+", "+i0(r0.transform(r))+")"},Ji={test:t=>Wf.test(t)||HT.test(t)||np.test(t),parse:t=>Wf.test(t)?Wf.parse(t):np.test(t)?np.parse(t):HT.parse(t),transform:t=>Bv(t)?t:t.hasOwnProperty("red")?Wf.transform(t):np.transform(t)},lr=(t,e,n)=>-n*t+n*e+t;function mw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function $ie({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=mw(l,a,t+1/3),s=mw(l,a,t),o=mw(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const gw=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},ese=[HT,Wf,np],tse=t=>ese.find(e=>e.test(t));function tD(t){const e=tse(t);let n=e.parse(t);return e===np&&(n=$ie(n)),n}const r4=(t,e)=>{const n=tD(t),r=tD(e),i={...n};return s=>(i.red=gw(n.red,r.red,s),i.green=gw(n.green,r.green,s),i.blue=gw(n.blue,r.blue,s),i.alpha=lr(n.alpha,r.alpha,s),Wf.transform(i))};function nse(t){var e,n;return isNaN(t)&&Bv(t)&&(((e=t.match(G1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(RH))===null||n===void 0?void 0:n.length)||0)>0}const i4={regex:Qre,countKey:"Vars",token:"${v}",parse:Br},s4={regex:RH,countKey:"Colors",token:"${c}",parse:Ji.parse},o4={regex:G1,countKey:"Numbers",token:"${n}",parse:Sh.parse};function vw(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function SA(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&vw(n,i4),vw(n,s4),vw(n,o4),n}function a4(t){return SA(t).values}function l4(t){const{values:e,numColors:n,numVars:r,tokenised:i}=SA(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(i4.token,o[l]):l<r+n?a=a.replace(s4.token,Ji.transform(o[l])):a=a.replace(o4.token,i0(o[l]));return a}}const rse=t=>typeof t=="number"?0:t;function ise(t){const e=a4(t);return l4(t)(e.map(rse))}const Ec={test:nse,parse:a4,createTransformer:l4,getAnimatableNone:ise},u4=(t,e)=>n=>`${n>0?e:t}`;function c4(t,e){return typeof t=="number"?n=>lr(t,e,n):Ji.test(t)?r4(t,e):t.startsWith("var(")?u4(t,e):h4(t,e)}const f4=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>c4(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},sse=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=c4(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},h4=(t,e)=>{const n=Ec.createTransformer(e),r=SA(t),i=SA(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?pc(f4(r.values,i.values),n):u4(t,e)},Z0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},nD=(t,e)=>n=>lr(t,e,n);function ose(t){return typeof t=="number"?nD:typeof t=="string"?Ji.test(t)?r4:h4:Array.isArray(t)?f4:typeof t=="object"?sse:nD}function ase(t,e,n){const r=[],i=n||ose(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Br:e;a=pc(l,a)}r.push(a)}return r}function d4(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(HR(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=ase(e,r,i),a=o.length,l=u=>{let h=0;if(a>1)for(;h<t.length-2&&!(u<t[h+1]);h++);const p=Z0(t[h],t[h+1],u);return o[h](p)};return n?u=>l(wc(t[0],t[s-1],u)):l}function lse(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Z0(0,e,r);t.push(lr(n,1,i))}}function use(t){const e=[0];return lse(e,t.length-1),e}function cse(t,e){return t.map(n=>n*e)}function fse(t,e){return t.map(()=>e||qH).splice(0,t.length-1)}function MA({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Xie(r)?r.map(eD):eD(r),s={done:!1,value:e[0]},o=cse(n&&n.length===e.length?n:use(e),t),a=d4(o,e,{ease:Array.isArray(i)?i:fse(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function p4(t,e){return e?t*(1e3/e):0}const hse=5;function m4(t,e,n){const r=Math.max(e-hse,0);return p4(n-t(r),e-r)}const yw=.001,dse=.01,pse=10,mse=.05,gse=1;function vse({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=wc(mse,gse,o),t=wc(dse,pse,kl(t)),o<1?(i=u=>{const h=u*o,p=h*t,g=h-n,v=zT(u,o),x=Math.exp(-p);return yw-g/v*x},s=u=>{const p=u*o*t,g=p*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,x=Math.exp(-p),E=zT(Math.pow(u,2),o);return(-i(u)+yw>0?-1:1)*((g-v)*x)/E}):(i=u=>{const h=Math.exp(-u*t),p=(u-n)*t+1;return-yw+h*p},s=u=>{const h=Math.exp(-u*t),p=(n-u)*(t*t);return h*p});const a=5/t,l=xse(i,s,a);if(t=$f(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const yse=12;function xse(t,e,n){let r=n;for(let i=1;i<yse;i++)r=r-t(r)/e(r);return r}function zT(t,e){return t*Math.sqrt(1-e*e)}const _se=["duration","bounce"],Ase=["stiffness","damping","mass"];function rD(t,e){return e.some(n=>t[n]!==void 0)}function Sse(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!rD(t,Ase)&&rD(t,_se)){const n=vse(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function g4({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,duration:h,velocity:p,isResolvedFromDuration:g}=Sse({...r,velocity:-kl(r.velocity||0)}),v=p||0,x=l/(2*Math.sqrt(a*u)),E=s-i,M=kl(Math.sqrt(a/u)),y=Math.abs(E)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let S;if(x<1){const A=zT(M,x);S=C=>{const P=Math.exp(-x*M*C);return s-P*((v+x*M*E)/A*Math.sin(A*C)+E*Math.cos(A*C))}}else if(x===1)S=A=>s-Math.exp(-M*A)*(E+(v+M*E)*A);else{const A=M*Math.sqrt(x*x-1);S=C=>{const P=Math.exp(-x*M*C),L=Math.min(A*C,300);return s-P*((v+x*M*E)*Math.sinh(L)+A*E*Math.cosh(L))/A}}return{calculatedDuration:g&&h||null,next:A=>{const C=S(A);if(g)o.done=A>=h;else{let P=v;A!==0&&(x<1?P=m4(S,A,C):P=0);const L=Math.abs(P)<=n,D=Math.abs(s-C)<=e;o.done=L&&D}return o.value=o.done?s:C,o}}}function iD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},v=N=>a!==void 0&&N<a||l!==void 0&&N>l,x=N=>a===void 0?l:l===void 0||Math.abs(a-N)<Math.abs(l-N)?a:l;let E=n*e;const M=p+E,y=o===void 0?M:o(M);y!==M&&(E=y-p);const S=N=>-E*Math.exp(-N/r),A=N=>y+S(N),C=N=>{const I=S(N),F=A(N);g.done=Math.abs(I)<=u,g.value=g.done?y:F};let P,L;const D=N=>{v(g.value)&&(P=N,L=g4({keyframes:[g.value,x(g.value)],velocity:m4(A,N,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return D(0),{calculatedDuration:null,next:N=>{let I=!1;return!L&&P===void 0&&(I=!0,C(N),D(N)),P!==void 0&&N>P?L.next(N-P):(!I&&C(N),g)}}}const Mse=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Vn.update(e,!0),stop:()=>Xl(e),now:()=>Ii.isProcessing?Ii.timestamp:performance.now()}},sD=2e4;function oD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sD;)e+=n,r=t.next(e);return e>=sD?1/0:e}const wse={decay:iD,inertia:iD,tween:MA,keyframes:MA,spring:g4};function wA({autoplay:t=!0,delay:e=0,driver:n=Mse,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:h,onUpdate:p,...g}){let v=1,x=!1,E,M;const y=()=>{M=new Promise(he=>{E=he})};y();let S;const A=wse[i]||MA;let C;A!==MA&&typeof r[0]!="number"&&(C=d4([0,100],r,{clamp:!1}),r=[0,100]);const P=A({...g,keyframes:r});let L;a==="mirror"&&(L=A({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let D="idle",N=null,I=null,F=null;P.calculatedDuration===null&&s&&(P.calculatedDuration=oD(P));const{calculatedDuration:W}=P;let ce=1/0,re=1/0;W!==null&&(ce=W+o,re=ce*(s+1)-o);let Q=0;const ee=he=>{if(I===null)return;v>0&&(I=Math.min(I,he)),v<0&&(I=Math.min(he-re/v,I)),N!==null?Q=N:Q=Math.round(he-I)*v;const ne=Q-e*(v>=0?1:-1),ye=v>=0?ne<0:ne>re;Q=Math.max(ne,0),D==="finished"&&N===null&&(Q=re);let Me=Q,Te=P;if(s){const et=Q/ce;let mt=Math.floor(et),He=et%1;!He&&et>=1&&(He=1),He===1&&mt--,mt=Math.min(mt,s+1);const K=!!(mt%2);K&&(a==="reverse"?(He=1-He,o&&(He-=o/ce)):a==="mirror"&&(Te=L));let De=wc(0,1,He);Q>re&&(De=a==="reverse"&&K?1:0),Me=De*ce}const Le=ye?{done:!1,value:r[0]}:Te.next(Me);C&&(Le.value=C(Le.value));let{done:Ge}=Le;!ye&&W!==null&&(Ge=v>=0?Q>=re:Q<=0);const ut=N===null&&(D==="finished"||D==="running"&&Ge);return p&&p(Le.value),ut&&V(),Le},de=()=>{S&&S.stop(),S=void 0},le=()=>{D="idle",de(),E(),y(),I=F=null},V=()=>{D="finished",h&&h(),de(),E()},te=()=>{if(x)return;S||(S=n(ee));const he=S.now();l&&l(),N!==null?I=he-N:(!I||D==="finished")&&(I=he),D==="finished"&&y(),F=I,N=null,D="running",S.start()};t&&te();const ie={then(he,ne){return M.then(he,ne)},get time(){return kl(Q)},set time(he){he=$f(he),Q=he,N!==null||!S||v===0?N=he:I=S.now()-he/v},get duration(){const he=P.calculatedDuration===null?oD(P):P.calculatedDuration;return kl(he)},get speed(){return v},set speed(he){he===v||!S||(v=he,ie.time=kl(Q))},get state(){return D},play:te,pause:()=>{D="paused",N=Q},stop:()=>{x=!0,D!=="idle"&&(D="idle",u&&u(),le())},cancel:()=>{F!==null&&ee(F),le()},complete:()=>{D="finished"},sample:he=>(I=0,ee(he))};return ie}function Ese(t){let e;return()=>(e===void 0&&(e=t()),e)}const Tse=Ese(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cse=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),n_=10,bse=2e4,Rse=(t,e)=>e.type==="spring"||t==="backgroundColor"||!JH(e.ease);function Pse(t,e,{onUpdate:n,onComplete:r,...i}){if(!(Tse()&&Cse.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(S=>{a=S})};u();let{keyframes:h,duration:p=300,ease:g,times:v}=i;if(Rse(e,i)){const S=wA({...i,repeat:0,delay:0});let A={done:!1,value:h[0]};const C=[];let P=0;for(;!A.done&&P<bse;)A=S.sample(P),C.push(A.value),P+=n_;v=void 0,h=C,p=P-n_,g="linear"}const x=kie(t.owner.current,e,h,{...i,duration:p,ease:g,times:v}),E=()=>x.cancel(),M=()=>{Vn.update(E),a(),u()};return x.onfinish=()=>{t.set(Hie(h,i)),r&&r(),M()},{then(S,A){return l.then(S,A)},attachTimeline(S){return x.timeline=S,x.onfinish=null,Br},get time(){return kl(x.currentTime||0)},set time(S){x.currentTime=$f(S)},get speed(){return x.playbackRate},set speed(S){x.playbackRate=S},get duration(){return kl(p)},play:()=>{o||(x.play(),Xl(E))},pause:()=>x.pause(),stop:()=>{if(o=!0,x.playState==="idle")return;const{currentTime:S}=x;if(S){const A=wA({...i,autoplay:!1});t.setWithVelocity(A.sample(S-n_).value,A.sample(S).value,n_)}M()},complete:()=>x.finish(),cancel:M}}function Ise({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Br,pause:Br,stop:Br,then:s=>(s(),Promise.resolve()),cancel:Br,complete:Br});return e?wA({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const Bse={type:"spring",stiffness:500,damping:25,restSpeed:10},Lse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Dse={type:"keyframes",duration:.8},Fse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ose=(t,{keyframes:e})=>e.length>2?Dse:Ah.has(t)?t.startsWith("scale")?Lse(e[1]):Bse:Fse,GT=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ec.test(e)||e==="0")&&!e.startsWith("url(")),Nse=new Set(["brightness","contrast","saturate","opacity"]);function Use(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G1)||[];if(!r)return t;const i=n.replace(r,"");let s=Nse.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const kse=/([a-z-]*)\(.*?\)/g,VT={...Ec,getAnimatableNone:t=>{const e=t.match(kse);return e?e.map(Use).join(" "):t}},Hse={...PH,color:Ji,backgroundColor:Ji,outlineColor:Ji,fill:Ji,stroke:Ji,borderColor:Ji,borderTopColor:Ji,borderRightColor:Ji,borderBottomColor:Ji,borderLeftColor:Ji,filter:VT,WebkitFilter:VT},WR=t=>Hse[t];function v4(t,e){let n=WR(t);return n!==VT&&(n=Ec),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const y4=t=>/^0[^.\s]+$/.test(t);function zse(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||y4(t)}function Gse(t,e,n,r){const i=GT(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),zse(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const h=l[u];s[h]=v4(e,a)}return s}function Vse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...h}){return!!Object.keys(h).length}function jR(t,e){return t[e]||t.default||t}const Wse={skipAnimations:!1},XR=(t,e,n,r={})=>i=>{const s=jR(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-$f(o);const l=Gse(e,t,n,s),u=l[0],h=l[l.length-1],p=GT(t,u),g=GT(t,h);let v={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:x=>{e.set(x),s.onUpdate&&s.onUpdate(x)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(Vse(s)||(v={...v,...Ose(t,v)}),v.duration&&(v.duration=$f(v.duration)),v.repeatDelay&&(v.repeatDelay=$f(v.repeatDelay)),!p||!g||Uie.current||s.type===!1||Wse.skipAnimations)return Ise(v);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=Pse(e,t,v);if(x)return x}return wA(v)};function EA(t){return!!(_s(t)&&t.add)}const x4=t=>/^\-?\d*\.?\d+$/.test(t);function JR(t,e){t.indexOf(e)===-1&&t.push(e)}function KR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class YR{constructor(){this.subscriptions=[]}add(e){return JR(this.subscriptions,e),()=>KR(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jse=t=>!isNaN(parseFloat(t));class Xse{constructor(e,n={}){this.version="10.17.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Ii;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Vn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Vn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=jse(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new YR);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?p4(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zp(t,e){return new Xse(t,e)}const _4=t=>e=>e.test(t),Jse={test:t=>t==="auto",parse:t=>t},A4=[Sh,Nt,Ka,Nu,eie,$re,Jse],Tg=t=>A4.find(_4(t)),Kse=[...A4,Ji,Ec],Yse=t=>Kse.find(_4(t));function Qse(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zp(n))}function qse(t,e){const n=W1(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=pie(s[o]);Qse(t,o,a)}}function Zse(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let h=null;Array.isArray(u)&&(h=u[0]),h===null&&(h=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),h!=null&&(typeof h=="string"&&(x4(h)||y4(h))?h=parseFloat(h):!Yse(h)&&Ec.test(u)&&(h=v4(l,u)),t.addValue(l,zp(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function $se(t,e){return e?(e[t]||e.default||e).from:void 0}function eoe(t,e,n){const r={};for(const i in t){const s=$se(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function toe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function noe(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function S4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in a){const g=t.getValue(p),v=a[p];if(!g||v===void 0||h&&toe(h,p))continue;const x={delay:n,elapsed:0,...jR(s||{},p)};if(window.HandoffAppearAnimations){const y=t.getProps()[MH];if(y){const S=window.HandoffAppearAnimations(y,p,g,Vn);S!==null&&(x.elapsed=S,x.isHandoff=!0)}}let E=!x.isHandoff&&!noe(g,v);if(x.type==="spring"&&(g.getVelocity()||x.velocity)&&(E=!1),g.animation&&(E=!1),E)continue;g.start(XR(p,g,v,t.shouldReduceMotion&&Ah.has(p)?{type:!1}:x));const M=g.animation;EA(l)&&(l.add(p),M.then(()=>l.remove(p))),u.push(M)}return o&&Promise.all(u).then(()=>{o&&qse(t,o)}),u}function WT(t,e,n={}){const r=W1(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(S4(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:p}=i;return roe(t,e,u+l,h,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function roe(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(ioe).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(WT(u,e,{...s,delay:n+l(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function ioe(t,e){return t.sortNodePosition(e)}function soe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>WT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=WT(t,e,n);else{const i=typeof e=="function"?W1(t,e,n.custom):e;r=Promise.all(S4(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const ooe=[...PR].reverse(),aoe=PR.length;function loe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>soe(t,n,r)))}function uoe(t){let e=loe(t);const n=foe();let r=!0;const i=(l,u)=>{const h=W1(t,u);if(h){const{transition:p,transitionEnd:g,...v}=h;l={...l,...v,...g}}return l};function s(l){e=l(t)}function o(l,u){const h=t.getProps(),p=t.getVariantContext(!0)||{},g=[],v=new Set;let x={},E=1/0;for(let y=0;y<aoe;y++){const S=ooe[y],A=n[S],C=h[S]!==void 0?h[S]:p[S],P=Q0(C),L=S===u?A.isActive:null;L===!1&&(E=y);let D=C===p[S]&&C!==h[S]&&P;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),A.protectedKeys={...x},!A.isActive&&L===null||!C&&!A.prevProp||H1(C)||typeof C=="boolean")continue;let I=coe(A.prevProp,C)||S===u&&A.isActive&&!D&&P||y>E&&P,F=!1;const W=Array.isArray(C)?C:[C];let ce=W.reduce(i,{});L===!1&&(ce={});const{prevResolvedValues:re={}}=A,Q={...re,...ce},ee=de=>{I=!0,v.has(de)&&(F=!0,v.delete(de)),A.needsAnimating[de]=!0};for(const de in Q){const le=ce[de],V=re[de];if(x.hasOwnProperty(de))continue;let te=!1;AA(le)&&AA(V)?te=!jH(le,V):te=le!==V,te?le!==void 0?ee(de):v.add(de):le!==void 0&&v.has(de)?ee(de):A.protectedKeys[de]=!0}A.prevProp=C,A.prevResolvedValues=ce,A.isActive&&(x={...x,...ce}),r&&t.blockInitialAnimation&&(I=!1),I&&(!D||F)&&g.push(...W.map(de=>({animation:de,options:{type:S,...l}})))}if(v.size){const y={};v.forEach(S=>{const A=t.getBaseTarget(S);A!==void 0&&(y[S]=A)}),g.push({animation:y})}let M=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(M=!1),r=!1,M?e(g):Promise.resolve()}function a(l,u,h){var p;if(n[l].isActive===u)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(v=>{var x;return(x=v.animationState)===null||x===void 0?void 0:x.setActive(l,u)}),n[l].isActive=u;const g=o(h,l);for(const v in n)n[v].protectedKeys={};return g}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function coe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jH(e,t):!1}function wf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function foe(){return{animate:wf(!0),whileInView:wf(),whileHover:wf(),whileTap:wf(),whileDrag:wf(),whileFocus:wf(),exit:wf()}}class hoe extends Bc{constructor(e){super(e),e.animationState||(e.animationState=uoe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),H1(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let doe=0;class poe extends Bc{constructor(){super(...arguments),this.id=doe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const moe={animation:{Feature:hoe},exit:{Feature:poe}},aD=(t,e)=>Math.abs(t-e);function goe(t,e){const n=aD(t.x,e.x),r=aD(t.y,e.y);return Math.sqrt(n**2+r**2)}class M4{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=_w(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=goe(p.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:x}=p,{timestamp:E}=Ii;this.history.push({...x,timestamp:E});const{onStart:M,onMove:y}=this.handlers;g||(M&&M(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=xw(g,this.transformPagePoint),Vn.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:x,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=_w(p.type==="pointercancel"?this.lastMoveEventInfo:xw(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,M),x&&x(p,M)},!HH(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=V1(e),a=xw(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ii;this.history=[{...l,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,_w(a,this.history)),this.removeListeners=pc(Ul(this.contextWindow,"pointermove",this.handlePointerMove),Ul(this.contextWindow,"pointerup",this.handlePointerUp),Ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xl(this.updatePoint)}}function xw(t,e){return e?{point:e(t.point)}:t}function lD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _w({point:t},e){return{point:t,delta:lD(t,w4(e)),offset:lD(t,voe(e)),velocity:yoe(e,.1)}}function voe(t){return t[0]}function w4(t){return t[t.length-1]}function yoe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=w4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$f(e)));)n--;if(!r)return{x:0,y:0};const s=kl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Js(t){return t.max-t.min}function jT(t,e=0,n=.01){return Math.abs(t-e)<=n}function uD(t,e,n,r=.5){t.origin=r,t.originPoint=lr(e.min,e.max,t.origin),t.scale=Js(n)/Js(e),(jT(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=lr(n.min,n.max,t.origin)-t.originPoint,(jT(t.translate)||isNaN(t.translate))&&(t.translate=0)}function s0(t,e,n,r){uD(t.x,e.x,n.x,r?r.originX:void 0),uD(t.y,e.y,n.y,r?r.originY:void 0)}function cD(t,e,n){t.min=n.min+e.min,t.max=t.min+Js(e)}function xoe(t,e,n){cD(t.x,e.x,n.x),cD(t.y,e.y,n.y)}function fD(t,e,n){t.min=e.min-n.min,t.max=t.min+Js(e)}function o0(t,e,n){fD(t.x,e.x,n.x),fD(t.y,e.y,n.y)}function _oe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lr(n,t,r.max):Math.min(t,n)),t}function hD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Aoe(t,{top:e,left:n,bottom:r,right:i}){return{x:hD(t.x,n,i),y:hD(t.y,e,r)}}function dD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Soe(t,e){return{x:dD(t.x,e.x),y:dD(t.y,e.y)}}function Moe(t,e){let n=.5;const r=Js(t),i=Js(e);return i>r?n=Z0(e.min,e.max-r,t.min):r>i&&(n=Z0(t.min,t.max-i,e.min)),wc(0,1,n)}function woe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const XT=.35;function Eoe(t=XT){return t===!1?t=0:t===!0&&(t=XT),{x:pD(t,"left","right"),y:pD(t,"top","bottom")}}function pD(t,e,n){return{min:mD(t,e),max:mD(t,n)}}function mD(t,e){return typeof t=="number"?t:t[e]||0}const gD=()=>({translate:0,scale:1,origin:0,originPoint:0}),rp=()=>({x:gD(),y:gD()}),vD=()=>({min:0,max:0}),Ur=()=>({x:vD(),y:vD()});function vo(t){return[t("x"),t("y")]}function E4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Toe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Coe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Aw(t){return t===void 0||t===1}function JT({scale:t,scaleX:e,scaleY:n}){return!Aw(t)||!Aw(e)||!Aw(n)}function If(t){return JT(t)||T4(t)||t.z||t.rotate||t.rotateX||t.rotateY}function T4(t){return yD(t.x)||yD(t.y)}function yD(t){return t&&t!=="0%"}function TA(t,e,n){const r=t-n,i=e*r;return n+i}function xD(t,e,n,r,i){return i!==void 0&&(t=TA(t,i,r)),TA(t,n,r)+e}function KT(t,e=0,n=1,r,i){t.min=xD(t.min,e,n,r,i),t.max=xD(t.max,e,n,r,i)}function C4(t,{x:e,y:n}){KT(t.x,e.translate,e.scale,e.originPoint),KT(t.y,n.translate,n.scale,n.originPoint)}function boe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ip(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,C4(t,o)),r&&If(s.latestValues)&&ip(t,s.latestValues))}e.x=_D(e.x),e.y=_D(e.y)}function _D(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function zu(t,e){t.min=t.min+e,t.max=t.max+e}function AD(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=lr(t.min,t.max,s);KT(t,e[n],e[r],o,e.scale)}const Roe=["x","scaleX","originX"],Poe=["y","scaleY","originY"];function ip(t,e){AD(t.x,e,Roe),AD(t.y,e,Poe)}function b4(t,e){return E4(Coe(t.getBoundingClientRect(),e))}function Ioe(t,e,n){const r=b4(t,n),{scroll:i}=e;return i&&(zu(r.x,i.offset.x),zu(r.y,i.offset.y)),r}const R4=({current:t})=>t?t.ownerDocument.defaultView:null,Boe=new WeakMap;class Loe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(V1(h,"page").point)},s=(h,p)=>{const{drag:g,dragPropagation:v,onDragStart:x}=this.getProps();if(g&&!v&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=GH(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),vo(M=>{let y=this.getAxisMotionValue(M).get()||0;if(Ka.test(y)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[M];A&&(y=Js(A)*(parseFloat(y)/100))}}this.originPoint[M]=y}),x&&Vn.update(()=>x(h,p),!1,!0);const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:x,onDrag:E}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:M}=p;if(v&&this.currentDirection===null){this.currentDirection=Doe(M),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,M),this.updateAxis("y",p.point,M),this.visualElement.render(),E&&E(h,p)},a=(h,p)=>this.stop(h,p),l=()=>vo(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new M4(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:R4(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Vn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!r_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_oe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&tp(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Aoe(i.layoutBox,n):this.constraints=!1,this.elastic=Eoe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&vo(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=woe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tp(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Ioe(r,i.root,this.visualElement.getTransformPagePoint());let o=Soe(i.layout.layoutBox,s);if(n){const a=n(Toe(o));this.hasMutatedConstraints=!!a,a&&(o=E4(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=vo(h=>{if(!r_(h,n,this.currentDirection))return;let p=l&&l[h]||{};o&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,x)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(XR(e,r,0,n))}stopAnimation(){vo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){vo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){vo(n=>{const{drag:r}=this.getProps();if(!r_(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-lr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!tp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};vo(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Moe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),vo(o=>{if(!r_(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(lr(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Boe.set(this.visualElement,this);const e=this.visualElement.current,n=Ul(e,"pointerdown",l=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();tp(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=Fl(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(vo(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=XT,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function r_(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Doe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Foe extends Bc{constructor(e){super(e),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new Loe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const SD=t=>(e,n)=>{t&&Vn.update(()=>t(e,n))};class Ooe extends Bc{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(e){this.session=new M4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:SD(e),onStart:SD(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Vn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ul(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Noe(){const t=U.useContext(U1);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=U.useId();return U.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const R_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function MD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Nt.test(t))t=parseFloat(t);else return t;const n=MD(t,e.target.x),r=MD(t,e.target.y);return`${n}% ${r}%`}},Uoe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ec.parse(t);if(i.length>5)return r;const s=Ec.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=lr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class koe extends ur.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Xre(Hoe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),R_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Vn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function P4(t){const[e,n]=Noe(),r=U.useContext(BR);return ur.createElement(koe,{...t,layoutGroup:r,switchLayoutGroup:U.useContext(EH),isPresent:e,safeToRemove:n})}const Hoe={borderRadius:{...Cg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cg,borderTopRightRadius:Cg,borderBottomLeftRadius:Cg,borderBottomRightRadius:Cg,boxShadow:Uoe},I4=["TopLeft","TopRight","BottomLeft","BottomRight"],zoe=I4.length,wD=t=>typeof t=="string"?parseFloat(t):t,ED=t=>typeof t=="number"||Nt.test(t);function Goe(t,e,n,r,i,s){i?(t.opacity=lr(0,n.opacity!==void 0?n.opacity:1,Voe(r)),t.opacityExit=lr(e.opacity!==void 0?e.opacity:1,0,Woe(r))):s&&(t.opacity=lr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<zoe;o++){const a=`border${I4[o]}Radius`;let l=TD(e,a),u=TD(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ED(l)===ED(u)?(t[a]=Math.max(lr(wD(l),wD(u),r),0),(Ka.test(u)||Ka.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=lr(e.rotate||0,n.rotate||0,r))}function TD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Voe=B4(0,.5,e4),Woe=B4(.5,.95,Br);function B4(t,e,n){return r=>r<t?0:r>e?1:n(Z0(t,e,r))}function CD(t,e){t.min=e.min,t.max=e.max}function mo(t,e){CD(t.x,e.x),CD(t.y,e.y)}function bD(t,e,n,r,i){return t-=e,t=TA(t,1/n,r),i!==void 0&&(t=TA(t,1/i,r)),t}function joe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Ka.test(e)&&(e=parseFloat(e),e=lr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=lr(s.min,s.max,r);t===s&&(a-=e),t.min=bD(t.min,e,n,a,i),t.max=bD(t.max,e,n,a,i)}function RD(t,e,[n,r,i],s,o){joe(t,e[n],e[r],e[i],e.scale,s,o)}const Xoe=["x","scaleX","originX"],Joe=["y","scaleY","originY"];function PD(t,e,n,r){RD(t.x,e,Xoe,n?n.x:void 0,r?r.x:void 0),RD(t.y,e,Joe,n?n.y:void 0,r?r.y:void 0)}function ID(t){return t.translate===0&&t.scale===1}function L4(t){return ID(t.x)&&ID(t.y)}function Koe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function D4(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function BD(t){return Js(t.x)/Js(t.y)}class Yoe{constructor(){this.members=[]}add(e){JR(this.members,e),e.scheduleRender()}remove(e){if(KR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LD(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const Qoe=(t,e)=>t.depth-e.depth;class qoe{constructor(){this.children=[],this.isDirty=!1}add(e){JR(this.children,e),this.isDirty=!0}remove(e){KR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Qoe),this.isDirty=!1,this.children.forEach(e)}}function Zoe(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Xl(r),t(s-e))};return Vn.read(r,!0),()=>Xl(r)}function $oe(t){window.MotionDebug&&window.MotionDebug.record(t)}function eae(t){return t instanceof SVGElement&&t.tagName!=="svg"}function tae(t,e,n){const r=_s(t)?t:zp(t);return r.start(XR("",r,e,n)),r.animation}const DD=["","X","Y","Z"],nae={visibility:"hidden"},FD=1e3;let rae=0;const Bf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function F4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=rae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bf.totalNodes=Bf.resolvedTargetDeltas=Bf.recalculatedProjection=0,this.nodes.forEach(oae),this.nodes.forEach(fae),this.nodes.forEach(hae),this.nodes.forEach(aae),$oe(Bf)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qoe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new YR),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=eae(o),this.instance=o;const{layoutId:l,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Zoe(g,250),R_.hasAnimatedSinceResize&&(R_.hasAnimatedSinceResize=!1,this.nodes.forEach(ND))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||h.getDefaultTransition()||vae,{onLayoutAnimationStart:M,onLayoutAnimationComplete:y}=h.getProps(),S=!this.targetLayout||!D4(this.targetLayout,x)||v,A=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,A);const C={...jR(E,"layout"),onPlay:M,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else g||ND(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dae),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(OD);return}this.isUpdating||this.nodes.forEach(uae),this.isUpdating=!1,this.nodes.forEach(cae),this.nodes.forEach(iae),this.nodes.forEach(sae),this.clearAllSnapshots();const a=performance.now();Ii.delta=wc(0,1e3/60,a-Ii.timestamp),Ii.timestamp=a,Ii.isProcessing=!0,fw.update.process(Ii),fw.preRender.process(Ii),fw.render.process(Ii),Ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(lae),this.sharedNodes.forEach(pae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!L4(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||If(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),yae(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ur();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(zu(a.x,l.offset.x),zu(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ur();mo(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:h,options:p}=u;if(u!==this.root&&h&&p.layoutScroll){if(h.isRoot){mo(a,o);const{scroll:g}=this.root;g&&(zu(a.x,-g.offset.x),zu(a.y,-g.offset.y))}zu(a.x,h.offset.x),zu(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Ur();mo(l,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&ip(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),If(h.latestValues)&&ip(l,h.latestValues)}return If(this.latestValues)&&ip(l,this.latestValues),l}removeTransform(o){const a=Ur();mo(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!If(u.latestValues))continue;JT(u.latestValues)&&u.updateSnapshot();const h=Ur(),p=u.measurePageBox();mo(h,p),PD(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return If(this.latestValues)&&PD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Ii.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),o0(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xoe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mo(this.target,this.layout.layoutBox),C4(this.target,this.targetDelta)):mo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),o0(this.relativeTargetOrigin,this.target,v.target),mo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||JT(this.parent.latestValues)||T4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ii.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;mo(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;boe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=rp(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=rp(),this.projectionDeltaWithTransform=rp());const E=this.projectionTransform;s0(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=LD(this.projectionDelta,this.treeScale),(this.projectionTransform!==E||this.treeScale.x!==g||this.treeScale.y!==v)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Bf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},h={...this.latestValues},p=rp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Ur(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,E=v!==x,M=this.getStack(),y=!M||M.members.length<=1,S=!!(E&&!y&&this.options.crossfade===!0&&!this.path.some(gae));this.animationProgress=0;let A;this.mixTargetDelta=C=>{const P=C/1e3;UD(p.x,o.x,P),UD(p.y,o.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(o0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mae(this.relativeTarget,this.relativeTargetOrigin,g,P),A&&Koe(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Ur()),mo(A,this.relativeTarget)),E&&(this.animationValues=h,Goe(h,u,this.latestValues,P,S,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vn.update(()=>{R_.hasAnimatedSinceResize=!0,this.currentAnimation=tae(0,FD,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:h}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&O4(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Ur();const p=Js(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const g=Js(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+g}mo(a,l),ip(a,h),s0(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Yoe),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let h=0;h<DD.length;h++){const p="rotate"+DD[h];l[p]&&(u[p]=l[p],o.setStaticValue(p,0))}o.render();for(const h in u)o.setStaticValue(h,u[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nae;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=b_(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const E={};return this.options.layoutId&&(E.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,E.pointerEvents=b_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!If(this.latestValues)&&(E.transform=h?h({},""):"none",this.hasProjected=!1),E}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=LD(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x:v,y:x}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?(l=(a=g.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const E in xA){if(g[E]===void 0)continue;const{correct:M,applyTo:y}=xA[E],S=u.transform==="none"?g[E]:M(g[E],p);if(y){const A=y.length;for(let C=0;C<A;C++)u[y[C]]=S}else u[E]=S}return this.options.layoutId&&(u.pointerEvents=p===this?b_(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(OD),this.root.sharedNodes.clear()}}}function iae(t){t.updateLayout()}function sae(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?vo(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],v=Js(g);g.min=r[p].min,g.max=g.min+v}):O4(s,n.layoutBox,r)&&vo(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],v=Js(r[p]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const a=rp();s0(a,r,n.layoutBox);const l=rp();o?s0(l,t.applyTransform(i,!0),n.measuredBox):s0(l,r,n.layoutBox);const u=!L4(a);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const x=Ur();o0(x,n.layoutBox,g.layoutBox);const E=Ur();o0(E,r,v.layoutBox),D4(x,E)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=E,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function oae(t){Bf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function aae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function lae(t){t.clearSnapshot()}function OD(t){t.clearMeasurements()}function uae(t){t.isLayoutDirty=!1}function cae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ND(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fae(t){t.resolveTargetDelta()}function hae(t){t.calcProjection()}function dae(t){t.resetRotation()}function pae(t){t.removeLeadSnapshot()}function UD(t,e,n){t.translate=lr(e.translate,0,n),t.scale=lr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function kD(t,e,n,r){t.min=lr(e.min,n.min,r),t.max=lr(e.max,n.max,r)}function mae(t,e,n,r){kD(t.x,e.x,n.x,r),kD(t.y,e.y,n.y,r)}function gae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vae={duration:.45,ease:[.4,0,.1,1]},HD=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),zD=HD("applewebkit/")&&!HD("chrome/")?Math.round:Br;function GD(t){t.min=zD(t.min),t.max=zD(t.max)}function yae(t){GD(t.x),GD(t.y)}function O4(t,e,n){return t==="position"||t==="preserve-aspect"&&!jT(BD(e),BD(n),.2)}const xae=F4({attachResizeListener:(t,e)=>Fl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sw={current:void 0},N4=F4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Sw.current){const t=new xae({});t.mount(window),t.setOptions({layoutScroll:!0}),Sw.current=t}return Sw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_ae={pan:{Feature:Ooe},drag:{Feature:Foe,ProjectionNode:N4,MeasureLayout:P4}},Aae=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Sae(t){const e=Aae.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function YT(t,e,n=1){const[r,i]=Sae(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return x4(o)?parseFloat(o):o}else return UT(i)?YT(i,e,n+1):i}function Mae(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!UT(s))return;const o=YT(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!UT(s))continue;const o=YT(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const wae=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),U4=t=>wae.has(t),Eae=t=>Object.keys(t).some(U4),VD=t=>t===Sh||t===Nt,WD=(t,e)=>parseFloat(t.split(", ")[e]),jD=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return WD(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?WD(s[1],t):0}},Tae=new Set(["x","y","z"]),Cae=Iv.filter(t=>!Tae.has(t));function bae(t){const e=[];return Cae.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Gp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:jD(4,13),y:jD(5,14)};Gp.translateX=Gp.x;Gp.translateY=Gp.y;const Rae=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Gp[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const h=e.getValue(u);h&&h.jump(a[u]),t[u]=Gp[u](l,s)}),t},Pae=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(U4);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],p=Tg(h);const g=e[l];let v;if(AA(g)){const x=g.length,E=g[0]===null?1:0;h=g[E],p=Tg(h);for(let M=E;M<x&&g[M]!==null;M++)v?HR(Tg(g[M])===v):v=Tg(g[M])}else v=Tg(g);if(p!==v)if(VD(p)&&VD(v)){const x=u.get();typeof x=="string"&&u.set(parseFloat(x)),typeof g=="string"?e[l]=parseFloat(g):Array.isArray(g)&&v===Nt&&(e[l]=g.map(parseFloat))}else p!=null&&p.transform&&(v!=null&&v.transform)&&(h===0||g===0)?h===0?u.set(v.transform(h)):e[l]=p.transform(g):(o||(s=bae(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(g))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Rae(e,t,a);return s.length&&s.forEach(([h,p])=>{t.getValue(h).set(p)}),t.render(),k1&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Iae(t,e,n,r){return Eae(e)?Pae(t,e,n,r):{target:e,transitionEnd:r}}const Bae=(t,e,n,r)=>{const i=Mae(t,e,r);return e=i.target,r=i.transitionEnd,Iae(t,e,n,r)},QT={current:null},k4={current:!1};function Lae(){if(k4.current=!0,!!k1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>QT.current=t.matches;t.addListener(e),e()}else QT.current=!1}function Dae(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(_s(s))t.addValue(i,s),EA(r)&&r.add(i);else if(_s(o))t.addValue(i,zp(s,{owner:t})),EA(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,zp(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const XD=new WeakMap,H4=Object.keys(q0),Fae=H4.length,JD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Oae=IR.length;class Nae{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Vn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=z1(n),this.isVariantNode=wH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{});for(const p in h){const g=h[p];a[p]!==void 0&&_s(g)&&(g.set(a[p],!1),EA(u)&&u.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,XD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),k4.current||Lae(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:QT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){XD.delete(this.current),this.projection&&this.projection.unmount(),Xl(this.notifyUpdate),Xl(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Ah.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Vn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<Fae;l++){const u=H4[l],{isEnabled:h,Feature:p,ProjectionNode:g,MeasureLayout:v}=q0[u];g&&(o=g),h(n)&&(!this.features[u]&&p&&(this.features[u]=new p(this)),v&&(a=v))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:v}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!h||p&&tp(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:g,layoutRoot:v})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<JD.length;r++){const i=JD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Dae(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Oae;r++){const i=IR[r],s=this.props[i];(Q0(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zp(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=kR(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!_s(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new YR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class z4 extends Nae{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=eoe(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Zse(this,r,o);const a=Bae(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Uae(t){return window.getComputedStyle(t)}class kae extends z4{readValueFromInstance(e,n){if(Ah.has(n)){const r=WR(n);return r&&r.default||0}else{const r=Uae(e),i=(bH(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return b4(e,n)}build(e,n,r,i){DR(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return UR(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_s(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){DH(e,n,r,i)}}class Hae extends z4{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ah.has(n)){const r=WR(n);return r&&r.default||0}return n=FH.has(n)?n:RR(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ur()}scrapeMotionValuesFromProps(e,n){return NH(e,n)}build(e,n,r,i){OR(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){OH(e,n,r,i)}mount(e){this.isSVGTag=NR(e.tagName),super.mount(e)}}const zae=(t,e)=>LR(t)?new Hae(e,{enableHardwareAcceleration:!1}):new kae(e,{enableHardwareAcceleration:!0}),Gae={layout:{ProjectionNode:N4,MeasureLayout:P4}},Vae={...moe,...Fie,..._ae,...Gae},G4=Wre((t,e)=>Sie(t,e,Vae,zae));function V4(){const t=U.useRef(!1);return bR(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Wae(){const t=V4(),[e,n]=U.useState(0),r=U.useCallback(()=>{t.current&&n(e+1)},[e]);return[U.useCallback(()=>Vn.postRender(r),[r]),e]}class jae extends U.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xae({children:t,isPresent:e}){const n=U.useId(),r=U.useRef(null),i=U.useRef({width:0,height:0,top:0,left:0});return U.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),U.createElement(jae,{isPresent:e,childRef:r,sizeRef:i},U.cloneElement(t,{ref:r}))}const Mw=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=UH(Jae),l=U.useId(),u=U.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:h=>{a.set(h,!0);for(const p of a.values())if(!p)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),s?void 0:[n]);return U.useMemo(()=>{a.forEach((h,p)=>a.set(p,!1))},[n]),U.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=U.createElement(Xae,{isPresent:n},t)),U.createElement(U1.Provider,{value:u},t)};function Jae(){return new Map}function Kae(t){return U.useEffect(()=>()=>t(),[])}const Lf=t=>t.key||"";function Yae(t,e){t.forEach(n=>{const r=Lf(n);e.set(r,n)})}function Qae(t){const e=[];return U.Children.forEach(t,n=>{U.isValidElement(n)&&e.push(n)}),e}const qae=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=U.useContext(BR).forceRender||Wae()[0],l=V4(),u=Qae(t);let h=u;const p=U.useRef(new Map).current,g=U.useRef(h),v=U.useRef(new Map).current,x=U.useRef(!0);if(bR(()=>{x.current=!1,Yae(u,v),g.current=h}),Kae(()=>{x.current=!0,v.clear(),p.clear()}),x.current)return U.createElement(U.Fragment,null,h.map(S=>U.createElement(Mw,{key:Lf(S),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},S)));h=[...h];const E=g.current.map(Lf),M=u.map(Lf),y=E.length;for(let S=0;S<y;S++){const A=E[S];M.indexOf(A)===-1&&!p.has(A)&&p.set(A,void 0)}return o==="wait"&&p.size&&(h=[]),p.forEach((S,A)=>{if(M.indexOf(A)!==-1)return;const C=v.get(A);if(!C)return;const P=E.indexOf(A);let L=S;if(!L){const D=()=>{p.delete(A);const N=Array.from(v.keys()).filter(I=>!M.includes(I));if(N.forEach(I=>v.delete(I)),g.current=u.filter(I=>{const F=Lf(I);return F===A||N.includes(F)}),!p.size){if(l.current===!1)return;a(),r&&r()}};L=U.createElement(Mw,{key:Lf(C),isPresent:!1,onExitComplete:D,custom:e,presenceAffectsLayout:s,mode:o},C),p.set(A,L)}h.splice(P,0,L)}),h=h.map(S=>{const A=S.key;return p.has(A)?S:U.createElement(Mw,{key:Lf(S),isPresent:!0,presenceAffectsLayout:s,mode:o},S)}),U.createElement(U.Fragment,null,p.size?h:h.map(S=>U.cloneElement(S)))},Zae="_container_urk3f_1",$ae={container:Zae};var ele=typeof Element<"u",tle=typeof Map=="function",nle=typeof Set=="function",rle=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function P_(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!P_(t[r],e[r]))return!1;return!0}var s;if(tle&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!P_(r.value[1],e.get(r.value[0])))return!1;return!0}if(nle&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(rle&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(ele&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!P_(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var ile=function(e,n){try{return P_(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const sle=hh(ile);var ole=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,s,o,a],h=0;l=new Error(e.replace(/%s/g,function(){return u[h++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},ale=ole;const KD=hh(ale);var lle=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<o.length;u++){var h=o[u];if(!l(h))return!1;var p=e[h],g=n[h];if(s=r?r.call(i,p,g,h):void 0,s===!1||s===void 0&&p!==g)return!1}return!0};const ule=hh(lle);var W4=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(W4||{}),ww={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},YD=Object.values(W4),QR={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},cle=Object.entries(QR).reduce((t,[e,n])=>(t[n]=e,t),{}),sa="data-rh",xp={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},_p=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},fle=t=>{let e=_p(t,"title");const n=_p(t,xp.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=_p(t,xp.DEFAULT_TITLE);return e||r||void 0},hle=t=>_p(t,xp.ON_CHANGE_CLIENT_STATE)||(()=>{}),Ew=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),dle=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),ple=t=>console&&typeof console.warn=="function"&&console.warn(t),bg=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&ple(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let u;const h=Object.keys(l);for(let g=0;g<h.length;g+=1){const v=h[g],x=v.toLowerCase();e.indexOf(x)!==-1&&!(u==="rel"&&l[u].toLowerCase()==="canonical")&&!(x==="rel"&&l[x].toLowerCase()==="stylesheet")&&(u=x),e.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(u=v)}if(!u||!l[u])return!1;const p=l[u].toLowerCase();return r[u]||(r[u]={}),o[u]||(o[u]={}),r[u][p]?!1:(o[u][p]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const u=a[l],h={...r[u],...o[u]};r[u]=h}return i},[]).reverse()},mle=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},gle=t=>({baseTag:dle(["href"],t),bodyAttributes:Ew("bodyAttributes",t),defer:_p(t,xp.DEFER),encode:_p(t,xp.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Ew("htmlAttributes",t),linkTags:bg("link",["rel","href"],t),metaTags:bg("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:bg("noscript",["innerHTML"],t),onChangeClientState:hle(t),scriptTags:bg("script",["src","innerHTML"],t),styleTags:bg("style",["cssText"],t),title:fle(t),titleAttributes:Ew("titleAttributes",t),prioritizeSeoTags:mle(t,xp.PRIORITIZE_SEO_TAGS)}),j4=t=>Array.isArray(t)?t.join(""):t,vle=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},Tw=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(vle(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},QD=(t,e)=>({...t,[e]:void 0}),yle=["noscript","script","style"],qT=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),X4=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),xle=(t,e,n,r)=>{const i=X4(n),s=j4(e);return i?`<${t} ${sa}="true" ${i}>${qT(s,r)}</${t}>`:`<${t} ${sa}="true">${qT(s,r)}</${t}>`},_le=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(u=>!(u==="innerHTML"||u==="cssText")).reduce((u,h)=>{const p=typeof s[h]>"u"?h:`${h}="${qT(s[h],n)}"`;return u?`${u} ${p}`:p},""),a=s.innerHTML||s.cssText||"",l=yle.indexOf(t)===-1;return`${r}<${t} ${sa}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),J4=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=QR[r];return n[i||r]=t[r],n},e),Ale=(t,e,n)=>{const r={key:e,[sa]:!0},i=J4(n,r);return[ur.createElement("title",i,e)]},I_=(t,e)=>e.map((n,r)=>{const i={key:r,[sa]:!0};return Object.keys(n).forEach(s=>{const a=QR[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),ur.createElement(t,i)}),xo=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Ale(t,e.title,e.titleAttributes),toString:()=>xle(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>J4(e),toString:()=>X4(e)};default:return{toComponent:()=>I_(t,e),toString:()=>_le(t,e,n)}}},Sle=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=Tw(t,ww.meta),s=Tw(e,ww.link),o=Tw(n,ww.script);return{priorityMethods:{toComponent:()=>[...I_("meta",i.priority),...I_("link",s.priority),...I_("script",o.priority)],toString:()=>`${xo("meta",i.priority,r)} ${xo("link",s.priority,r)} ${xo("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},Mle=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:u}=t;let{linkTags:h,metaTags:p,scriptTags:g}=t,v={toComponent:()=>{},toString:()=>""};return u&&({priorityMethods:v,linkTags:h,metaTags:p,scriptTags:g}=Sle(t)),{priority:v,base:xo("base",e,r),bodyAttributes:xo("bodyAttributes",n,r),htmlAttributes:xo("htmlAttributes",i,r),link:xo("link",h,r),meta:xo("meta",p,r),noscript:xo("noscript",s,r),script:xo("script",g,r),style:xo("style",o,r),title:xo("title",{title:a,titleAttributes:l},r)}},ZT=Mle,i_=[],K4=!!(typeof window<"u"&&window.document&&window.document.createElement),$T=class{constructor(t,e){Da(this,"instances",[]);Da(this,"canUseDOM",K4);Da(this,"context");Da(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?i_:this.instances,add:t=>{(this.canUseDOM?i_:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?i_:this.instances).indexOf(t);(this.canUseDOM?i_:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=ZT({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wle={},Y4=ur.createContext(wle),jf,Q4=(jf=class extends U.Component{constructor(n){super(n);Da(this,"helmetData");this.helmetData=new $T(this.props.context||{},jf.canUseDOM)}render(){return ur.createElement(Y4.Provider,{value:this.helmetData.value},this.props.children)}},Da(jf,"canUseDOM",K4),jf),Fd=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${sa}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const u in a)if(Object.prototype.hasOwnProperty.call(a,u))if(u==="innerHTML")l.innerHTML=a.innerHTML;else if(u==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const h=u,p=typeof a[h]>"u"?"":a[h];l.setAttribute(u,p)}l.setAttribute(sa,"true"),i.some((u,h)=>(o=h,l.isEqualNode(u)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},eC=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(sa),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const u=s.indexOf(a);u!==-1&&s.splice(u,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(sa):n.getAttribute(sa)!==o.join(",")&&n.setAttribute(sa,o.join(","))},Ele=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=j4(t)),eC("title",e)},qD=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:u,styleTags:h,title:p,titleAttributes:g}=t;eC("body",r),eC("html",i),Ele(p,g);const v={baseTag:Fd("base",n),linkTags:Fd("link",s),metaTags:Fd("meta",o),noscriptTags:Fd("noscript",a),scriptTags:Fd("script",u),styleTags:Fd("style",h)},x={},E={};Object.keys(v).forEach(M=>{const{newTags:y,oldTags:S}=v[M];y.length&&(x[M]=y),S.length&&(E[M]=v[M].oldTags)}),e&&e(),l(t,x,E)},Rg=null,Tle=t=>{Rg&&cancelAnimationFrame(Rg),t.defer?Rg=requestAnimationFrame(()=>{qD(t,()=>{Rg=null})}):(qD(t),Rg=null)},Cle=Tle,ZD=class extends U.Component{constructor(){super(...arguments);Da(this,"rendered",!1)}shouldComponentUpdate(e){return!ule(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=gle(e.get().map(s=>{const o={...s.props};return delete o.context,o}));Q4.canUseDOM?Cle(i):ZT&&(r=ZT(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Pw,ble=(Pw=class extends U.Component{shouldComponentUpdate(t){return!sle(QD(this.props,"helmetData"),QD(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return KD(YD.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${YD.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),KD(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ur.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,u)=>(l[cle[u]||u]=s[u],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof $T)){const i=r;r=new $T(i.context,!0),delete n.helmetData}return r?ur.createElement(ZD,{...n,context:r.value}):ur.createElement(Y4.Consumer,null,i=>ur.createElement(ZD,{...n,context:i}))}},Da(Pw,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Pw);const q4=({title:t,description:e,name:n,type:r})=>q.jsxs(ble,{children:[q.jsx("title",{children:t}),q.jsx("meta",{name:"description",content:e}),q.jsx("meta",{property:"og:type",content:r}),q.jsx("meta",{property:"og:title",content:t}),q.jsx("meta",{property:"og:description",content:e}),q.jsx("meta",{name:"twitter:creator",content:n}),q.jsx("meta",{name:"twitter:card",content:r}),q.jsx("meta",{name:"twitter:title",content:t}),q.jsx("meta",{name:"twitter:description",content:e})]}),Rle="_welcome_mx5di_1",Ple={welcome:Rle},Ile=(t,e)=>{const n={r:239,g:239,b:239,a:.11},r={r:218,g:127,b:81,a:.15},i=t/(e-1),s=Math.floor(n.r+(r.r-n.r)*i),o=Math.floor(n.g+(r.g-n.g)*i),a=Math.floor(n.b+(r.b-n.b)*i),l=(n.a+(r.a-n.a)*i).toFixed(2);return`rgba(${s}, ${o}, ${a}, ${l})`},Ble=({char:t,MenuHide:e,delay:n,color:r})=>{const i=zt({transform:e===1?"translateX(0px)":e===2?"translateX(20px)":"translateX(-20px)",opacity:e===1?1:0,easing:Io.easeOutCubic,delay:n,duration:1500});return q.jsx(pt.span,{style:{...i,color:r},children:t})},Lle=({MenuHide:t,delay:e})=>{const n="Hello.",r=n.length;return q.jsx("div",{className:Ple.welcome,children:n.split("").map((i,s)=>q.jsx(Ble,{char:i,MenuHide:t,delay:e+200+s*100,color:Ile(s,r)},s))})},qR=(t,e)=>({opacity:t===1?.9:0,y:t===1?0:t===2?-10:10,config:{duration:500},delay:e,easing:Io.easeOutCubic}),Dle="_nameContainer_1o0ub_1",Fle="_separator_1o0ub_37",$D={nameContainer:Dle,separator:Fle},Ole=({MenuHide:t,delay:e})=>{const n=zt(qR(t,e));return q.jsxs(pt.b,{style:n,className:$D.nameContainer,children:["I'm Saeed Arabha",q.jsx(pt.div,{style:n,className:$D.separator})]})},Nle=()=>q.jsx("svg",{children:q.jsx("g",{children:q.jsxs("g",{children:[q.jsx("path",{d:"M77.6,.21C46.77,11.58-1.52,36.84,0,76.87,0,77.41,0,78,0,78.5a39.53,39.53,0,0,0,13.06,29.41,20.47,20.47,0,0,0,2.72,2.25,39.39,39.39,0,0,0,21.95,8,16.64,16.64,0,0,0,1.75,0h.18c1.2,0,2.39-.06,3.57-.16h.15l.18,0c.53,0,1-.12,1.58-.19l.41,0a41.68,41.68,0,0,0,5.92-1.35l1-.34c.3-.1.59-.19.88-.3l.56-.22A39.7,39.7,0,0,0,79,83.67a35.05,35.05,0,0,0,.34-3.75c0-.22,0-.42,0-.64s0-.52,0-.78a39.41,39.41,0,0,0-7.09-22.62l-.12-.18c-.32-.45-.65-.9-1-1.34a36.52,36.52,0,0,0-7-7.06c-.43-.34-.88-.68-1.33-1l0,0a39.62,39.62,0,0,0-5.23-3.18c-15.09-10,4.8-26.25,22.71-37.46A3,3,0,0,0,77.6,.21Z"}),q.jsx("path",{d:"M178.77,.21c-30.83,11.37-79.12,36.63-77.56,76.66,0,.54,0,1.08,0,1.63a39.53,39.53,0,0,0,13.06,29.41,20.47,20.47,0,0,0,2.72,2.25,39.39,39.39,0,0,0,22,8,16.64,16.64,0,0,0,1.75,0h.18c1.2,0,2.39-.06,3.57-.16h.15l.18,0c.53,0,1.05-.12,1.58-.19l.41,0a41.68,41.68,0,0,0,5.92-1.35l1-.34c.3-.1.59-.19.88-.3l.56-.22a39.7,39.7,0,0,0,25.08-31.85,35.05,35.05,0,0,0,.34-3.75c0-.22,0-.42,0-.64s0-.52,0-.78a39.41,39.41,0,0,0-7.09-22.62l-.12-.18c-.32-.45-.65-.9-1-1.34a36.52,36.52,0,0,0-7-7.06c-.43-.34-.87-.68-1.33-1l0,0a39.62,39.62,0,0,0-5.23-3.18c-15.09-10,4.8-26.25,22.71-37.46A3,3,0,0,0,178.77,.21Z"})]})})}),Ule=({word:t,index:e,animateFrom:n,animateTo:r,MenuHide:i,length:s})=>{const o=t.startsWith("<")&&t.endsWith(">");let a=o?t.slice(1,-1):t;o&&(a=a.replace(/-/g," "));const[l,u]=U.useState("0px");U.useEffect(()=>{if(i===1){const x=setTimeout(()=>u(`${a.length*10}px`),e*30);return()=>clearTimeout(x)}else u("0px")},[i,e,a]);const h=zt({from:{color:n,transform:i===1?"translateY(5px)":"translateY(0px)",opacity:i===1?0:1},to:{color:r,transform:i===1?"translateY(0px)":i===2?"translateY(-5px)":"translateY(5px)",opacity:i===1?1:0},easing:Io.easeOutCubic,delay:i===1?e*25:(s-e)*25}),p={position:"relative",padding:"0 10px 2px",borderRadius:"20px",overflow:"hidden",display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},g={width:l,height:"100%",position:"absolute",left:"0",borderRadius:"20px",background:"linear-gradient(to right, rgb(255 255 255 / 14%) 0%, rgb(245 159 115 / 18%) 100%)",transition:"width 1s ease-in-out"},v={verticalAlign:"middle",display:"inline-block"};return q.jsxs(q.Fragment,{children:[o?q.jsxs("div",{style:p,children:[q.jsx("div",{style:g}),q.jsx(pt.span,{style:{...h,...v},children:a})]}):q.jsx(pt.span,{style:{...h,...v},children:a})," "]})},kle="_container_gbsmy_1",Hle="_paragraph_gbsmy_13",e3={container:kle,paragraph:Hle},zle=({MenuHide:t,delay:e})=>{const[n,r]=U.useState([]),i=zt(qR(t,e)),s="Situated at the <PICSSL-Lab> at <York-University>, I apply my <mechanical-engineering> prowess to delve into the complexities of nanomaterials and molecular phenomena. My professional focus lies in <2D-Nanomaterials>, <Molecular-Dynamics>, and <Heat-Transfer>. The success of my research approach significantly stems from interdisciplinary <collaborations> that amplify the potential of my innovative explorations.";return U.useEffect(()=>{let o=s.split(/( |<[^>]+>)/g).filter(a=>a.trim());r(o)},[]),q.jsxs(pt.div,{style:i,className:e3.container,children:[q.jsx(Nle,{}),q.jsx("p",{className:e3.paragraph,children:n.map((o,a)=>q.jsx(Ule,{word:o,index:a,MenuHide:t,length:n.length,animateFrom:t===1?"#d49d81":"white",animateTo:t===1?"white":"#d49d81"},a))})]})},Gle="_fav_utcda_1",Vle="_pro_utcda_15",Cw={fav:Gle,pro:Vle},Wle=({MenuHide:t,delay:e})=>{const n=zt(qR(t,e));return q.jsxs(pt.div,{style:n,className:Cw.fav,children:[q.jsxs("div",{className:Cw.pro,children:[q.jsx("p",{children:"MASTER IN"}),q.jsx("p",{children:"Mechanical Engineering"})]}),q.jsxs("div",{className:Cw.pro,children:[q.jsx("p",{children:"HOBBY"}),q.jsx("p",{children:"Coding - Watching Movies"})]})]})},Z4=()=>{const{visibility:t}=Li(s=>s.ui),{currentPage:e}=Li(s=>s.ui),n=Yp(),[r,i]=U.useState(0);return U.useEffect(()=>{t&&n.pathname==="/"&&e==="/"?i(1):t&&n.pathname==="/"&&e==="/AcademicCV"?i(2):i(3)},[n.pathname,e,t]),t&&q.jsxs("div",{className:$ae.container,children:[q.jsx(q4,{title:"Saeed Arabha | Home",description:"Personal website of Saeed Arabha, featuring academic CV, research, and portfolio.",name:"Saeed Arabha",type:"website"}),q.jsx(Lle,{MenuHide:r,delay:100}),q.jsx(Ole,{MenuHide:r,delay:300}),q.jsx(zle,{MenuHide:r,delay:400}),q.jsx(Wle,{MenuHide:r,delay:r===1?1400:200})]})},jle=Object.freeze(Object.defineProperty({__proto__:null,default:Z4},Symbol.toStringTag,{value:"Module"}));function Xle(t){return q.jsxs("svg",{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 275.06 264.15",width:t.size,height:t.size,children:[q.jsx("defs",{children:q.jsx("style",{children:".cls-1{opacity:0.9;}.cls-2{opacity:0.85;fill: #d49d81;}"})}),q.jsx("g",{className:"cls-1",children:q.jsx("path",{className:"cls-2",d:"M642.19,627.62c10.34,17.36-.17,35.54-21,35.54-29.19.56-63.58-22.25-63.58-62.68H551l-18.64,52.9a31.81,31.81,0,0,1-30,21.23H494.2a1.2,1.2,0,0,0-1.2,1.2v3.91a1.19,1.19,0,0,0,1.2,1.2h76.06a1.2,1.2,0,0,0,1.21-1.2v-3.91a1.21,1.21,0,0,0-1.21-1.2h-6a6.68,6.68,0,0,1-6.68-6.68v-22S580.57,686,625,686c29.36,0,46.72-23.74,46.72-46.47,0-22.06-13.07-37.77-29.12-51.12l.06.05h25.8l30.84,79.61a5.34,5.34,0,0,1-5,7.27h-.48a1,1,0,0,0-1,1v3.6a1,1,0,0,0,1,1h73.22a1,1,0,0,0,1-1v-3.6a1,1,0,0,0-1-1h-3.78A41.36,41.36,0,0,1,724.75,649L635.57,424.07a3.5,3.5,0,0,0-6.5,0l-11.86,29.51a3.51,3.51,0,0,0,0,2.57l13,33.52c-39-6.87-68,12.53-68,43.93,0,46.09,61.75,63.13,80,94m-19.27-54.08c-20.21-14.52-39-27.89-39-47,0-33.18,47.92-26.55,50.44-26.18l28.34,73.14",transform:"translate(-493 -421.86)"})})]})}const t3=(t,e,n)=>zt({width:t?"15px":e?"30px":"15px",transform:t?n?"translateY(6.5px) rotate(45deg)":"translateY(-6.5px) rotate(-45deg)":"translateY(0px) rotate(0deg)",height:t?"3px":"2px",easing:Io.easeOutCubic}),Jle=({isMenuOpen:t,handleButtonClick:e,MenuRef:n,MenuStyle:r,contactInfoAnimation:i})=>{const[s,o]=U.useState(!1),a=t3(t,s,!0),l=t3(t,!s,!1);return q.jsxs(pt.div,{ref:n,style:{...r,...i},className:"HomePage-M-T-R",onClick:()=>e(!t),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[q.jsx(pt.div,{className:"MenuIcon-T",style:a}),q.jsx(pt.div,{className:"MenuIcon-B",style:l})]})},qu=(t,e=100,n=.2)=>{const[r,i]=U.useState({x:0,y:0});return U.useEffect(()=>{const s=o=>{if(!t.current)return;const a=t.current.getBoundingClientRect(),l=a.left+a.width/2,u=a.top+a.height/2;Math.sqrt(Math.pow(o.clientX-l,2)+Math.pow(o.clientY-u,2))<=e?i({x:(o.clientX-l)*n,y:(o.clientY-u)*n}):i({x:0,y:0})};return window.addEventListener("mousemove",s),()=>{window.removeEventListener("mousemove",s)}},[t,e,n]),zt({x:r.x,y:r.y})},Kle=t=>{const[e,n]=U.useState(!1);return U.useEffect(()=>{if(t&&window.location.pathname==="/AcademicCV"){const r=document.getElementById("AcademicCV-M");if(!r)return;const i=()=>{const s=r.scrollTop,o=r.scrollHeight-r.clientHeight;n(s/o+1>.1)};return r.addEventListener("scroll",i),()=>r.removeEventListener("scroll",i)}},[t]),e},Yle=()=>{const t=nb(),e=Yp(),{isMenuOpen:n}=Li(C=>C.ui),{visibility:r}=Li(C=>C.ui),{stages:i}=Li(C=>C.data),[s,o]=U.useState(e.pathname!=="/");U.useEffect(()=>{o(e.pathname!=="/")},[e.pathname]),U.useEffect(()=>{const C=()=>o(window.location.pathname!=="/");return window.addEventListener("click",C),()=>window.removeEventListener("click",C)},[]);const a=U.useCallback(C=>t(zO(C)),[t]),l=Kle(s),u=U.useRef(null),h=qu(u,100,.2),p=U.useRef(null),g=qu(p,100,.2),v=U.useRef(null),x=qu(v,100,.2),E=zt({transform:`translate3d(0px,${n?i[1]?0:10:i[1]?-20:0}px,0)`,backgroundColor:s&&l?"rgba(0, 0, 0, 1)":"rgba(0, 0, 0, 0)",easing:Io.easeOutCubic,config:{duration:500,delay:5}}),M=zt({display:"flex",opacity:s?"1":"0",transform:`translate3d(${s?i[1]?-30:0:-80}px,${i[1]?n?35:10:n?45:35}px,0)`,config:{duration:500},delay:5}),y=zt({opacity:s?"0":"1",transform:`translate3d(${s?55:0}px,${i[1]?n?-5:-25:n?15:0}px,0)`,config:{duration:500},delay:5}),S=ZO(),A=()=>{t(GO("/")),a(!1),setTimeout(()=>{S("/")},1e3)};return r&&q.jsxs(G4.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"HomePage-M-T-H",children:[q.jsx(pt.div,{style:E,className:"MainHeader"}),q.jsxs(pt.div,{className:"HomePage-M-T-L",children:[q.jsxs(pt.div,{className:"HomePage-M-T-B",style:{...g,...M},ref:p,children:[q.jsx(Tre,{}),q.jsx("button",{onClick:A,children:"Home Page"})]}),q.jsx(pt.div,{style:y,children:q.jsx(pt.div,{ref:u,style:h,children:q.jsxs("button",{onClick:A,element:q.jsx(Z4,{}),children:[q.jsx(Xle,{className:"Logo",size:"20"}),q.jsx("p",{children:"Saeed"}),q.jsx("b",{children:"Arabha"})]})})})]}),q.jsx(Jle,{contactInfoAnimation:E,MenuRef:v,MenuStyle:x,isMenuOpen:n,handleButtonClick:a})]},r?"visible":"hidden")},Qle=({isMenuOpen:t,props:e})=>{const n=[{id:1,category:"Phone Numbers",text:"CA Cell:",info:"+1 (416) 836 5851"},{id:2,category:"Phone Numbers",text:"IR Cell:",info:"+98 (919) 659 5351"},{id:3,category:"Emails",text:"Email:",info:"Saeedarabha@outlook.com"},{id:4,category:"Emails",text:"Email:",info:"Arabha@Yorku.ca"},{id:5,category:"Social Media",text:"Social Media:",info:"@saeed_rbh"},{id:6,category:"Research Gate",text:"Research Gate:",info:"Saeed Arabha"}],r=[{id:1,category:"Phone Numbers"},{id:2,category:"Emails"},{id:3,category:"Social Media"},{id:4,category:"Research Gate"}],i=jX(n.length,{from:{opacity:0,transform:"translate3d(0,0,0)"},to:{opacity:t?1:0,transform:"translate3d(0,0,0)"},easing:Io.easeOutCubic}),s=zt({opacity:t?1:0,config:{duration:200},delay:t?0:300,easing:Io.easeOutCubic});return q.jsxs(pt.div,{className:"MenuInsideN",style:s,children:[q.jsx(pt.div,{className:"ContactInfo",style:e,children:"Contact Information"}),q.jsx("div",{className:"ContactInfos",children:r.map((o,a)=>q.jsxs("div",{children:[q.jsx(pt.div,{style:i[a],className:"ContactCategory",children:o.category}),i[a]&&q.jsx(q.Fragment,{children:n.map(l=>{if(l.category!==o.category)return null;const u=n.findIndex(h=>h.id===l.id);return q.jsx(pt.a,{style:i[u],className:"ContactInfo-In",href:l.category==="Phone Numbers"?"tel:+14168365851":"",children:q.jsx(pt.b,{children:l.info})},l.id)})})]},o.id))})]})},qle=()=>{const{isMenuOpen:t}=Li(o=>o.ui),e=XX(t,{from:{opacity:0,transform:"translate3d(0,0,0)"},enter:{opacity:1,transform:"translate3d(0,0,0)"},leave:{opacity:0,transform:"translate3d(0,0,0)"},easing:Io.easeOutCubic}),[n,r]=U.useState(window.innerHeight),i=()=>{const o=window.innerHeight;r(o)},s=U.useRef(null);return U.useEffect(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[]),q.jsx(q.Fragment,{children:e((o,a)=>a&&q.jsx("div",{ref:s,className:"HomeAround",style:{...o,height:`calc(${n}px - 40px)`},children:q.jsx(Qle,{isMenuOpen:t,props:o})}))})},Zle=({isMouseHover:t,setMouseHover:e,contactInfoOpenSpring:n})=>{const r=U.useRef(null),i=qu(r,50,.2),s=U.useRef(null),o=qu(s,50,.2),a=U.useRef(null),l=qu(a,50,.2),u=U.useRef(null),h=qu(u,50,.2);return q.jsxs("div",{className:"contact-1",children:[q.jsx(pt.p,{className:"Social-Media",style:t[1]==="CONTACT"?n:{},children:"CONTACT ME"}),q.jsxs("div",{className:"social",children:[q.jsx(pt.a,{href:"https://wa.me/14168365851",ref:r,style:i,children:q.jsx(pt.p,{style:t[1]==="CONTACT"&&t[2]==="WA"?n:{},onMouseEnter:()=>e([!t[0],"CONTACT","WA"]),onMouseLeave:()=>e([!t[0],"CONTACT","WA"]),children:"WHATSAPP"})}),q.jsx(pt.a,{href:"mailto:SaeedArabha@outlook.com",ref:s,style:o,children:q.jsx(pt.p,{style:t[1]==="CONTACT"&&t[2]==="E"?n:{},onMouseEnter:()=>e([!t[0],"CONTACT","E"]),onMouseLeave:()=>e([!t[0],"CONTACT","E"]),children:"E-MAIL"})}),q.jsx(pt.a,{href:"https://www.researchgate.net/profile/Saeed-Arabha",ref:a,style:l,children:q.jsx(pt.p,{style:t[1]==="CONTACT"&&t[2]==="RG"?n:{},onMouseEnter:()=>e([!t[0],"CONTACT","RG"]),onMouseLeave:()=>e([!t[0],"CONTACT","RG"]),children:"ResearchGate"})}),q.jsx(pt.a,{href:"https://www.instagram.com/saeed_rbh",ref:u,style:h,children:q.jsx(pt.p,{style:t[1]==="CONTACT"&&t[2]==="I"?n:{},onMouseEnter:()=>e([!t[0],"CONTACT","I"]),onMouseLeave:()=>e([!t[0],"CONTACT","I"]),children:"INSTAGRAM"})})]})]})},$le=(t,e,n)=>{U.useEffect(()=>{let r;return e?r=setTimeout(()=>{t(e)},n):t(e),()=>clearTimeout(r)},[t,e,n])},eue=({handleClickCV:t,resumeClicked:e,MenuHide:n,screenWidth:r})=>{const i=U.useRef(null),s=qu(i,50,.2),[o,a]=U.useState(!0);$le(a,e,2e3);const l=zt({opacity:e&&n?"0":"1",width:"50px",transform:e?(r<1120,"translate3d(0, 25px, 0)"):(r<1120,"translate3d(0, 0, 0)"),config:{duration:300,easing:Io.easeOutCubic}});return q.jsxs(pt.div,{className:"resumee",style:l,children:[q.jsx("div",{className:"Social-Media",children:q.jsx(pt.p,{children:"MY RESUME"})}),q.jsx(pt.div,{className:"social",style:s,ref:i,children:!o&&q.jsx("button",{onClick:t,children:"ACADEMIC BACKGROUND"})})]})},tue=()=>{const t=Yp(),e=ZO(),n=nb(),{isMenuOpen:r}=Li(D=>D.ui),{visibility:i}=Li(D=>D.ui),[s,o]=U.useState(window.innerWidth),[a,l]=U.useState(window.location.pathname==="/AcademicCV"),[u,h]=U.useState([!1,null,null]),[p,g]=U.useState(!a);U.useEffect(()=>{t.pathname==="/"?l(!1):l(!0)},[t.pathname]);const v=D=>zO(D),x=()=>{n(GO("/AcademicCV")),v(!1),setTimeout(()=>{e("/AcademicCV")},1e3),l(!0)};U.useEffect(()=>{p?a&&setTimeout(()=>{g(!1)},1e3):g(!0)},[a]);const[E,M]=U.useState(window.innerWidth*.9);U.useEffect(()=>{const D=()=>{const N=window.innerWidth*.9;M(N)};return D(),window.addEventListener("resize",D),()=>window.removeEventListener("resize",D)},[]);const[y,S]=U.useState(!1),[A,C]=U.useState(0),P=zt({from:{opacity:0,width:"5px",height:"5px",y:100},to:A===0?{y:0,opacity:1}:A===1?{width:"70px",height:"80px"}:A===2?{width:"60px",height:"60px"}:A===3?{opacity:a?0:1,width:`${E}px`,height:"60px",y:r?-10:a?10:0}:{},config:A===0?{tension:280,friction:120,duration:300}:A===1?{tension:280,friction:120,duration:500}:A===2?{tension:280,friction:120,duration:500}:A===3?{tension:280,friction:120,duration:y?300:600}:{},onRest:()=>{A<3?C(A+1):y||S(!0)}});U.useEffect(()=>{A===0&&C(1)},[A]);const L=zt({from:{opacity:y?1:0,y:y?5:0},to:{opacity:y?1:0,y:y?0:5,width:E,display:"flex",height:"-webkit-fill-available",alignItems:"center",justifyContent:"center"},config:{tension:280,friction:120,duration:300,delay:100}});return i&&p&&q.jsx("div",{className:"HomePage-M-T-F",children:q.jsx(pt.div,{style:P,className:"HomeConsole",children:q.jsxs(pt.div,{style:L,children:[q.jsx(Zle,{isMouseHover:u,setMouseHover:h}),q.jsx("div",{className:"b-hr-2",style:{display:s<1120?"none":"flex"}}),q.jsx(eue,{handleClickCV:x,resumeClicked:a,MenuHide:i,screenWidth:s})]})})})},nue=(t,e,{setStartAnimation:n},r,i)=>{const s=U.useMemo(()=>new G(.7,.7,.7),[]),o=U.useMemo(()=>({Graphene1:new G(1,1,1),Graphene2:new G(1,1,1),Graphene3:new G(1,1,1)}),[]);U.useEffect(()=>{if(i)return;t.traverse(l=>{l.isMesh&&(l.userData.originalPosition=l.position.clone(),o[l.name]&&l.position.copy(o[l.name]),l.material.opacity=0,l.material.transparent=!0,l.material.metalness=.7,l.material.roughness=.7,l.material.color=new $e("#efcfbe"),r==="Layer1"?e.current.position.set(0,0,0):r==="Layer2"?e.current.position.set(1.5,-1.25,.35):e.current.position.set(1.5,-3,.5),l.material.needsUpdate=!0)}),t.rotation.z=30*(Math.PI/180),t.rotation.y=-30*(Math.PI/180),e.current.scale.copy(s);const a=setTimeout(()=>{n(!0)},1e3);return()=>clearTimeout(a)},[t,s,o,n,e,r,i])},rue=(t,e,{reverseAnimation:n,setReverseAnimation:r,animationCompleted:i,setAnimationCompleted:s,startAnimation:o,startRotationAdjustment:a,setStartRotationAdjustment:l,setStartScaleDown:u,setEndAnimation:h,endAnimation:p,mouseDown:g,Type:v,startPositionAdjustment:x,setStartPositionAdjustment:E})=>{om(()=>{if(!o||p)return;let M=!0;if(t.traverse(y=>{if(y.isMesh&&y.visible){if(i){if(n){const S={Graphene1:new G(0,0,0),Graphene2:new G(.7,.7,.7),Graphene3:new G(.7,.7,.7)};y.material.opacity>0&&(y.position.lerp(S[y.name],.1),y.name!=="Graphene1"&&(y.material.opacity-=.01,M=!1))}}else{const S=y.userData.originalPosition,A=y.name!=="Graphene1"?.05:.025;y.position.lerp(S,A),y.material.color=new $e("#efcfbe");let C=1;v==="Layer1"?y.name==="round1_bonds"?(y.material.color.set("#efcfbe"),C=1):y.name==="round2_bonds"?(y.material.color.set("#7d6e63"),C=.5):y.name==="round3_bonds"&&(y.material.color.set("#4c4037"),C=.25):v==="Layer2"?(y.name==="round1_bonds"?y.material.color.set("#efcfbe"):y.name==="round2_bonds"?y.material.color.set("#7d6e63"):y.name==="round3_bonds"&&y.material.color.set("#4c4037"),C=y.name==="round1_atoms"?.2:y.name==="round1_balls"?.5:y.name==="round2_atoms"?y.name==="round2_balls"?.5:.2:.025):(y.name==="round1_bonds"?y.material.color.set("#efcfbe"):y.name==="round2_bonds"?y.material.color.set("#7d6e63"):y.name==="round3_bonds"&&y.material.color.set("#4c4037"),C=y.name==="round1_atoms"?.1:y.name==="round1_balls"?.5:y.name==="round2_atoms"?y.name==="round2_balls"?.05:.1:.0125),y.material.opacity<C&&!a&&(y.material.opacity+=.01,y.material.transparent=!0,M=!0),y.name==="Graphene3"&&Math.abs(y.position.y-S.y)<.01&&Math.abs(y.material.opacity-C)<.01&&s(!0)}y.material.needsUpdate=!0}}),!i&&M&&!p&&(setTimeout(()=>r(!0),2e3),setTimeout(()=>E(!0),2e3),setTimeout(()=>l(!0),4e3),setTimeout(()=>l(!1),6e3),setTimeout(()=>h(!0),6e3)),x){const y=e.current.position.x,S=e.current.position.z,A=e.current.position.y;(Math.abs(y)>.001||Math.abs(S)>.001)&&(e.current.position.x=Rl.lerp(y,0,.05),e.current.position.z=Rl.lerp(S,0,.05),e.current.position.y=Rl.lerp(A,0,.05),E(!1))}if(a){const y=e.current.rotation.z,S=e.current.rotation.y;(Math.abs(y)>.001||Math.abs(S)>.001)&&(e.current.rotation.z=Rl.lerp(y,0,.05),e.current.rotation.y=Rl.lerp(S,0,.05),(v==="Layer2"||v==="Layer3")&&(e.current.visible=!1))}})};function B_({url:t,Type:e,reverseAnimation:n,setReverseAnimation:r,animationCompleted:i,setAnimationCompleted:s,startAnimation:o,startRotationAdjustment:a,setStartRotationAdjustment:l,startScaleDown:u,setStartScaleDown:h,setEndAnimation:p,endAnimation:g,setStartAnimation:v,mouseDown:x,startPositionAdjustment:E,setStartPositionAdjustment:M}){const{scene:y}=_h(t),S=U.useRef(),{camera:A,gl:C}=Zo(),P=U.useMemo(()=>y.clone(),[y]);return nue(P,S,{setStartAnimation:v},e,g),rue(P,S,{reverseAnimation:n,setReverseAnimation:r,animationCompleted:i,setAnimationCompleted:s,startAnimation:o,startRotationAdjustment:a,setStartRotationAdjustment:l,setStartScaleDown:h,setEndAnimation:p,endAnimation:g,mouseDown:x,Type:e,startPositionAdjustment:E,setStartPositionAdjustment:M}),q.jsxs(q.Fragment,{children:[q.jsx("primitive",{object:P,ref:S}),q.jsx(_H,{enableZoom:!1,enableRotate:!0,maxAzimuthAngle:Math.PI/2.5,minAzimuthAngle:-Math.PI/2.5,rotateSpeed:.1,args:[A,C.domElement]})]})}function iue({mouseDown:t}){const{camera:e}=Zo(),[n,r]=U.useState(()=>e.position.clone()),[i,s]=U.useState(()=>e.rotation.clone()),[o,a]=U.useState(!1);return U.useEffect(()=>{r(e.position.clone()),s(e.rotation.clone())},[]),U.useEffect(()=>{!t&&!o&&a(!0)},[t,o]),om(()=>{if(!t&&o){e.position.lerp(n,.05);const h=new Yr().setFromEuler(i);e.quaternion.dot(h)<0&&(h.x=-h.x,h.y=-h.y,h.z=-h.z,h.w=-h.w),e.quaternion.slerp(h,.05),e.position.distanceTo(n)<.001&&e.quaternion.angleTo(h)<Rl.degToRad(.05)&&a(!1),e.updateProjectionMatrix()}}),q.jsx(_H,{enableRotate:!0,enablePan:!1,enableZoom:!1})}const sue="_grapheneFromStyle_138z5_1",bw={grapheneFromStyle:sue},oue=({screenHeight:t,startAnimation:e,reverseAnimation:n,endAnimation:r,mouseDown:i})=>{const s=window.innerWidth,o=zt({from:{y:20,opacity:0,scale:1.1},to:{y:e?n?+t/2-s/2-65+40:+t/2-s/2-65+20:+t/2-s/2-65,opacity:e?n?0:.5:0,scale:e?n?.9:1:1.1},config:{tension:70,friction:15},delay:200}),a=zt({from:{y:20,opacity:0,scale:1.1},to:{y:e?n?+t/2-s/2-65+40:+t/2-s/2-65+20:+t/2-s/2-65,opacity:e?n?0:.5:0,scale:e?n?.9:1:1.1},config:{tension:70,friction:15},delay:500}),l=zt({from:{y:20,opacity:0,scale:1.1},to:{y:n?r?+t/2-s/2-65:+t/2-s/2-65+20:+t/2-s/2-65,opacity:n?r?0:.5:0,scale:n?r?.9:1:1.1},config:{tension:70,friction:15},delay:r?0:500}),u=zt({from:{y:20,opacity:0,scale:1.1},to:{y:n?r?+t/2-s/2-65:+t/2-s/2-65+20:+t/2-s/2-65,opacity:n?r?0:.75:0,scale:n?r?.9:1:1.1},config:{tension:70,friction:15},delay:r?0:800}),h=zt({from:{y:120,opacity:0,scale:1.1,fontSize:`${10+Math.floor(t/16)}px`},to:{y:r?100-Math.round(t/40):120,opacity:r?i?.1:.3:0,scale:r?i?1.2:1:1.1},config:{tension:70,friction:15},delay:0});return q.jsxs(q.Fragment,{children:[q.jsxs(pt.p,{className:bw.grapheneFromStyle,children:[q.jsxs(pt.span,{style:o,children:["From ","  "]}),"  ",q.jsx(pt.span,{style:a,children:"Graphite"})]}),q.jsxs(pt.p,{className:bw.grapheneFromStyle,children:[q.jsx(pt.span,{style:l,children:"To"})," ",q.jsx(pt.span,{style:u,children:"Graphene"})]}),q.jsxs(pt.p,{className:bw.grapheneFromStyle,children:[q.jsx(pt.span,{style:h,children:"Graphene"})," "]})]})},aue=()=>{const{stages:t}=Li(D=>D.data),[e,n]=U.useState(!1),[r,i]=U.useState(!1),[s,o]=U.useState(!1),[a,l]=U.useState(!1),[u,h]=U.useState(!1),[p,g]=U.useState(!1),[v,x]=U.useState(!1),E=window.innerWidth,M=window.innerHeight,y=zt({from:{y:M/2-250,x:E/2-280,height:"500px",width:"500px",scale:1,opacity:0},to:{position:"absolute",top:0,left:0,opacity:e?.9:1,y:e&&t[1]?-80:M/2-250,x:e&&!t[1]?0:p?E/2-250:E/2-280,scale:e?t[1]?Math.round(M/100)/9:Math.round(M/100)/7:1},config:{tension:e?75:20,friction:e?20:25}}),[S,A]=U.useState(!1);return{screenHeight:M,startAnimation:a,reverseAnimation:r,endAnimation:e,mouseDown:S,handleMouseDown:()=>{A(!0)},handleMouseUp:()=>{A(!1)},moveUpStyle:y,sharedModelProps:{setEndAnimation:n,reverseAnimation:r,setReverseAnimation:i,animationCompleted:s,setAnimationCompleted:o,startAnimation:a,setStartAnimation:l,startRotationAdjustment:u,setStartRotationAdjustment:h,startScaleDown:v,setStartScaleDown:x,mouseDown:S,startPositionAdjustment:p,setStartPositionAdjustment:g,endAnimation:e}}},lue="_container_12xdg_1",uue="_visible_12xdg_23",cue="_hidden_12xdg_31",fue="_stickyPanel_12xdg_41",hue="_visualWrapper_12xdg_71",due="_scrollPanel_12xdg_89",pue="_section_12xdg_107",mue="_content_12xdg_125",gue="_title_12xdg_145",vue="_text_12xdg_165",yue="_spacer_12xdg_199",Yo={container:lue,visible:uue,hidden:cue,stickyPanel:fue,visualWrapper:hue,scrollPanel:due,section:pue,content:mue,title:gue,text:vue,spacer:yue},xue=()=>{const{progress:t}=Nne();return q.jsxs(One,{center:!0,children:[t.toFixed(1)," % loaded"]})},_ue=({mode:t})=>{const e=U.useRef(),n=[{url:"/grapheneNew1.gltf",y:0,delay:0},{url:"/grapheneNew2.gltf",y:.5,delay:0},{url:"/grapheneNew3.gltf",y:1,delay:.1},{url:"/grapheneNew1.gltf",y:1.5,delay:.2},{url:"/grapheneNew2.gltf",y:2,delay:.3}];return om((r,i)=>{e.current&&e.current.children.forEach((s,o)=>{if(o===0)return;const a=n[o].y;if(t==="peeling"){const l=3+o*2;s.position.y=Rl.lerp(s.position.y,l,i*1.5),s.scale.lerp(new G(0,0,0),i*.8)}else t==="layers"?(s.position.lerp(new G(0,a,0),i*2),s.scale.lerp(new G(1,1,1),i*2)):t==="single"&&s.scale.set(0,0,0)})}),q.jsx("group",{ref:e,children:n.map((r,i)=>q.jsx("group",{position:[0,r.y,0],children:q.jsx(B_,{url:r.url,Type:`Layer${i+1}`,endAnimation:!0})},i))})},Rw=({mode:t="single"})=>q.jsx("div",{style:{width:"100%",height:"100%",minHeight:"400px",background:"transparent"},children:q.jsxs(ER,{camera:{position:[0,4,10],fov:45},children:[q.jsx("ambientLight",{intensity:.5}),q.jsx("pointLight",{position:[10,10,10],intensity:1}),q.jsx(U.Suspense,{fallback:q.jsx(xue,{}),children:q.jsx(_ue,{mode:t})})]})}),Aue=()=>{const t=U.useRef(),{positions:e,colors:n}=ur.useMemo(()=>{const r=[],i=[];for(let a=-20;a<20;a++)for(let l=-20;l<20;l++)r.push(a*.2,0,l*.2),(Math.abs(a)+Math.abs(l))%3===0?i.push(0,1,1):i.push(.2,.2,.2);return{positions:new Float32Array(r),colors:new Float32Array(i)}},[]);return om(r=>{const i=r.clock.getElapsedTime(),s=t.current.geometry.attributes.position.array;for(let o=0;o<s.length;o+=3){const a=s[o],l=s[o+2];s[o+1]=Math.sin(a*.5+i)*Math.cos(l*.5+i)*.5}t.current.geometry.attributes.position.needsUpdate=!0}),q.jsxs("points",{ref:t,children:[q.jsxs("bufferGeometry",{children:[q.jsx("bufferAttribute",{attach:"attributes-position",count:e.length/3,array:e,itemSize:3}),q.jsx("bufferAttribute",{attach:"attributes-color",count:n.length/3,array:n,itemSize:3})]}),q.jsx(Ere,{transparent:!0,vertexColors:!0,size:.05,sizeAttenuation:!0,depthWrite:!1})]})},Sue=()=>q.jsx("div",{style:{width:"100%",height:"100%",minHeight:"400px",background:"transparent"},children:q.jsxs(ER,{camera:{position:[0,2,4],fov:60},children:[q.jsx("ambientLight",{intensity:.5}),q.jsx(Aue,{})]})}),Mue=({endAnimation:t})=>{var o;const[e,n]=U.useState(!1),[r,i]=U.useState("graphite");U.useEffect(()=>{if(t){const a=setTimeout(()=>n(!0),1e3);return()=>clearTimeout(a)}},[t]);const s=[{id:"graphite",title:"Multi-Layer Arrangement",text:"This is Graphite. It is how carbon exists naturally in common materials like your pencil lead. It is composed of many stacked layers of carbon atoms. The layers are held together by weak forces, which is why graphite slides off onto paper when you write.",component:q.jsx(Rw,{mode:"layers"})},{id:"separation",title:"The Separation",text:"To discover Graphene, scientists had to isolate a single layer. By peeling away layer after layer, they revealed the hidden potential within.",component:q.jsx(Rw,{mode:"peeling"})},{id:"structure",title:"The Single Layer",text:"This is Graphene. A single, perfect honeycomb lattice of carbon atoms. Just one atom thick, yet incredibly robust. This 2D structure creates the strongest bond in nature.",component:q.jsx(Rw,{mode:"single"})},{id:"flexibility",title:"Flexibility & Strength",text:"Despite being harder than diamond, Graphene is elastic. It can stretch up to 20% of its length. Imagine a smartphone screen that you can fold like a map or wear like fabric.",component:q.jsx(Sue,{})}];return q.jsxs("div",{className:`${Yo.container} ${e?Yo.visible:Yo.hidden}`,children:[q.jsx("div",{className:Yo.stickyPanel,children:q.jsx("div",{className:Yo.visualWrapper,children:q.jsx(qae,{mode:"wait",children:q.jsx(G4.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.5},style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:(o=s.find(a=>a.id===r))==null?void 0:o.component},r)})})}),q.jsxs("div",{className:Yo.scrollPanel,children:[q.jsx("div",{className:Yo.spacer}),s.map(a=>q.jsx(wJ,{as:"div",threshold:.5,onChange:l=>{l&&i(a.id)},className:Yo.section,children:q.jsxs("div",{className:Yo.content,children:[q.jsx("h2",{className:Yo.title,children:a.title}),q.jsx("p",{className:Yo.text,children:a.text})]})},a.id))]})]})},$4="/grapheneNew1.gltf",ez="/grapheneNew2.gltf",tz="/grapheneNew3.gltf";_h.preload($4);_h.preload(ez);_h.preload(tz);function wue(){const t=new G(0,10,0),{screenHeight:e,startAnimation:n,reverseAnimation:r,endAnimation:i,mouseDown:s,handleMouseDown:o,handleMouseUp:a,moveUpStyle:l,sharedModelProps:u}=aue();return q.jsxs(pt.div,{style:{position:"absolute",top:0,bottom:0,height:"100vh",width:"100vw",display:"block",overflowY:"auto",overflowX:"hidden"},children:[q.jsx(q4,{title:"Saeed Arabha | Graphene Research",description:"Research on Graphene: From Graphite to Graphene. 3D visualization and analysis.",name:"Saeed Arabha",type:"article"}),q.jsx(oue,{screenHeight:e,startAnimation:n,reverseAnimation:r,endAnimation:i,mouseDown:s}),q.jsx(pt.div,{style:l,onTouchStart:o,onTouchEnd:a,onMouseDown:o,onMouseUp:a,children:q.jsx(ER,{camera:{position:t.toArray(),up:[0,0,-1],fov:50},children:q.jsxs(U.Suspense,{fallback:null,children:[q.jsx("ambientLight",{intensity:.5}),q.jsx("spotLight",{position:[10,30,10],angle:.3,penumbra:1}),q.jsx(B_,{url:$4,Type:"Layer1",...u}),q.jsx(B_,{url:ez,Type:"Layer2",...u}),q.jsx(B_,{url:tz,Type:"Layer3",...u}),q.jsx(iue,{mouseDown:s,endAnimation:i})]})})}),q.jsx(Mue,{endAnimation:i})]})}const Eue=()=>/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),Tue=()=>{const[t,e]=U.useState(!1),[n,r]=U.useState(!1),i=U.useRef(null),{stages:s}=Li(M=>M.data),[{ringX:o,ringY:a},l]=zt(()=>({ringX:0,ringY:0,config:{mass:2,tension:350,friction:60}})),[{dotX:u,dotY:h},p]=zt(()=>({dotX:0,dotY:0,config:{mass:3,tension:170,friction:50}}));U.useEffect(()=>{if(!Eue()){const M=y=>{const S=y.clientX,A=y.clientY;window.getComputedStyle(y.target).cursor==="pointer"?r(!0):r(!1),l.start({ringX:S,ringY:A}),p.start({dotX:S,dotY:A})};return window.addEventListener("mousemove",M),()=>{window.removeEventListener("mousemove",M)}}},[l,p,n,t]);const g=M=>{M.button===0&&e(!0)},v=()=>{e(!1)};U.useEffect(()=>(document.addEventListener("mousedown",g),document.addEventListener("mouseup",v),()=>{document.removeEventListener("mousedown",g),document.removeEventListener("mouseup",v)}),[]);const x=zt({opacity:n?.5:1,width:n?"50px":t?"6px":"30px",height:n?"50px":t?"6px":"30px",top:n?"-27px":t?"-5px":"-17px",left:n?"-27px":t?"-5px":"-17px",backgroundColor:n?"rgba(212, 157, 129,0.1)":"rgba(212, 157, 129,0)"}),E=zt({width:n?"50px":t?"12px":"10px",height:n?"50px":t?"12px":"10px",top:n?"-25px":t?"-6px":"-5px",left:n?"-25px":t?"-6px":"-5px"});return q.jsxs("div",{className:"container",style:{display:s[1]?"none":"flex"},children:[q.jsx(pt.div,{ref:i,className:"ring",style:{...x,transform:VI([o,a],(M,y)=>`translate(${M}px, ${y}px)`)}}),q.jsx(pt.div,{className:"dot",style:{...E,transform:VI([u,h],(M,y)=>`translate(${M}px, ${y}px)`),mixBlendMode:n?"darken":"normal"}})]})};class Cue extends ur.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?q.jsxs("div",{style:{padding:"20px",textAlign:"center",marginTop:"50px",color:"#333",fontFamily:"Arial, sans-serif"},children:[q.jsx("h1",{children:"Something went wrong."}),q.jsx("p",{children:"The application encountered an unexpected error."}),q.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px"},children:"Reload Page"}),!1]}):this.props.children}}const bue=U.lazy(()=>cb(()=>import("./Resume-BrQQoTuq.js"),__vite__mapDeps([0,1]))),Rue=U.lazy(()=>cb(()=>Promise.resolve().then(()=>jle),void 0)),Pue=U.lazy(()=>cb(()=>import("./Loader-B_BZGy7C.js"),__vite__mapDeps([2,3])));function Iue(){Dre();const{visibility:t}=Li(e=>e.ui);return q.jsx(Q4,{children:q.jsxs(N7,{store:WO,children:[q.jsx(Pue,{}),q.jsxs("div",{className:"App",children:[q.jsx("div",{className:"MainBackground",children:q.jsx("div",{className:"BackgroundColor1"})}),t&&q.jsx(Tue,{}),t&&q.jsx(Yle,{}),t&&q.jsx(qle,{}),t&&q.jsx(tue,{}),t&&q.jsx(Cue,{children:q.jsx(U.Suspense,{fallback:q.jsx("div",{children:"Loading..."}),children:q.jsxs(F7,{children:[q.jsx(v_,{exact:!0,path:"/",element:q.jsx(Rue,{})}),q.jsx(v_,{exact:!0,path:"/AcademicCV",element:q.jsx(bue,{})}),q.jsx(v_,{exact:!0,path:"/Graphene",element:q.jsx(wue,{})})]})})})]})]})})}var Bue="@vercel/speed-insights",Lue="1.0.9",Due=()=>{window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)})};function Fue(){return typeof window<"u"}function Oue(){try{const t="production"}catch{}return"production"}function n3(){return Oue()==="development"}var nz="https://va.vercel-scripts.com/v1/speed-insights",Nue=`${nz}/script.js`,Uue=`${nz}/script.debug.js`,kue="/_vercel/speed-insights/script.js";function Hue(t={}){var e;if(!Fue()||t.route===null)return null;Due();const r=!!t.dsn?Nue:kue,i=t.scriptSrc||(n3()?Uue:r);if(document.head.querySelector(`script[src*="${i}"]`))return null;t.beforeSend&&((e=window.si)==null||e.call(window,"beforeSend",t.beforeSend));const s=document.createElement("script");return s.src=i,s.defer=!0,s.dataset.sdkn=Bue+(t.framework?`/${t.framework}`:""),s.dataset.sdkv=Lue,t.sampleRate&&(s.dataset.sampleRate=t.sampleRate.toString()),t.route&&(s.dataset.route=t.route),t.endpoint&&(s.dataset.endpoint=t.endpoint),t.dsn&&(s.dataset.dsn=t.dsn),n3()&&t.debug===!1&&(s.dataset.debug="false"),s.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${i}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(s),{setRoute:o=>{s.dataset.route=o??void 0}}}function zue(t){const e=U.useRef(null);return U.useEffect(()=>{if(e.current)t.route&&e.current(t.route);else{const n=Hue({framework:t.framework||"react",...t});n&&(e.current=n.setRoute)}},[t.route]),null}const Gue=Iw.createRoot(document.getElementById("root"));Gue.render(q.jsxs(XW,{store:WO,children:[q.jsx(zue,{}),q.jsx(Iue,{})]}));export{Yue as C,HN as E,qp as G,Kue as H,tce as I,z7 as L,que as P,ur as R,$ue as S,Jue as T,nb as a,jue as b,Xue as c,Zue as d,KI as e,EJ as f,pJ as g,gJ as h,pt as i,q as j,Que as k,zt as l,Io as m,ece as n,oce as o,jI as p,Yp as q,U as r,q4 as s,GO as t,Li as u,Wue as v};
//# sourceMappingURL=index-USRe_HpM.js.map
